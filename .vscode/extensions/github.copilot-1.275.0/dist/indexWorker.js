"use strict";var mI=Object.create;var xi=Object.defineProperty;var pI=Object.getOwnPropertyDescriptor;var gI=Object.getOwnPropertyNames;var hI=Object.getPrototypeOf,_I=Object.prototype.hasOwnProperty;var yI=(e,t,n)=>t in e?xi(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var r=(e,t)=>xi(e,"name",{value:t,configurable:!0});var X=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),Du=(e,t)=>{for(var n in t)xi(e,n,{get:t[n],enumerable:!0})},bI=(e,t,n,o)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of gI(t))!_I.call(e,i)&&i!==n&&xi(e,i,{get:()=>t[i],enumerable:!(o=pI(t,i))||o.enumerable});return e};var Qn=(e,t,n)=>(n=e!=null?mI(hI(e)):{},bI(t||!e||!e.__esModule?xi(n,"default",{value:e,enumerable:!0}):n,e));var lr=(e,t,n)=>yI(e,typeof t!="symbol"?t+"":t,n);var Dp=X(Dn=>{"use strict";Object.defineProperty(Dn,"__esModule",{value:!0});Dn.bytePairEncode=Dn.BinaryMap=Dn.binaryMapKey=void 0;var FI=r((e,t,n)=>{let o=n-t,i=16777215>>>Math.max(0,(3-o)*8),u=(e[t+0]|e[t+1]<<8|e[t+2]<<16)&i,s=16777215>>>Math.min(31,Math.max(0,(6-o)*8)),a=(e[t+3]|e[t+4]<<8|e[t+5]<<16)&s;return u+16777216*a},"binaryMapKey");Dn.binaryMapKey=FI;var ki=class ki{constructor(){this.nested=new Map,this.final=new Map}get(t,n=0,o=t.length){var s;let i=o<6+n,u=(0,Dn.binaryMapKey)(t,n,o);return i?this.final.get(u):(s=this.nested.get(u))==null?void 0:s.get(t,6+n,o)}set(t,n){let o=(0,Dn.binaryMapKey)(t,0,t.length);if(t.length<6){this.final.set(o,n);return}let u=this.nested.get(o);if(u instanceof ki)u.set(t.subarray(6),n);else{let s=new ki;s.set(t.subarray(6),n),this.nested.set(o,s)}}};r(ki,"BinaryMap");var ac=ki;Dn.BinaryMap=ac;var An=new Int32Array(128),Nt=new Int32Array(128);function AI(e,t,n){var c;if(n===1)return[t.get(e)];let o=2147483647,i=-1;for(;An.length<n*2;)Nt=new Int32Array(Nt.length*2),An=new Int32Array(An.length*2);for(let l=0;l<n-1;l++){let m=(c=t.get(e,l,l+2))!=null?c:2147483647;m<o&&(o=m,i=l),Nt[l]=l,An[l]=m}Nt[n-1]=n-1,An[n-1]=2147483647,Nt[n]=n,An[n]=2147483647;let u=n+1;function s(l,m=0){if(l+m+2<u){let g=t.get(e,Nt[l],Nt[l+m+2]);if(g!==void 0)return g}return 2147483647}for(r(s,"getRank");o!==2147483647;){An[Nt[i]]=s(i,1),i>0&&(An[Nt[i-1]]=s(i-1,1));for(let l=i+1;l<u-1;l++)Nt[l]=Nt[l+1];u--,i=-1,o=2147483647;for(let l=0;l<u-1;l++){let m=An[Nt[l]];An[Nt[l]]<o&&(o=m,i=l)}}let a=[];for(let l=0;l<u-1;l++)a.push(t.get(e,Nt[l],Nt[l+1]));return a}r(AI,"bytePairEncode");Dn.bytePairEncode=AI});var jp=X(As=>{"use strict";Object.defineProperty(As,"__esModule",{value:!0});As.makeTextEncoder=void 0;var lc=class lc{constructor(){this.length=0,this.encoder=new TextEncoder}encode(t){let n=this.encoder.encode(t);return this.length=n.length,n}};r(lc,"UniversalTextEncoder");var uc=lc,dc=class dc{constructor(){this.buffer=Buffer.alloc(256),this.length=0}encode(t){for(;;){if(this.length=this.buffer.write(t,"utf8"),this.length<this.buffer.length-4)return this.buffer;this.buffer=Buffer.alloc(this.length*2),this.length=this.buffer.write(t)}}};r(dc,"NodeTextEncoder");var cc=dc,DI=r(()=>typeof Buffer<"u"?new cc:new uc,"makeTextEncoder");As.makeTextEncoder=DI});var Up=X(Ds=>{"use strict";Object.defineProperty(Ds,"__esModule",{value:!0});Ds.LRUCache=void 0;var pc=class pc{constructor(t){this.size=t,this.nodes=new Map}get(t){let n=this.nodes.get(t);if(n)return this.moveToHead(n),n.value}set(t,n){let o=this.nodes.get(t);if(o)o.value=n,this.moveToHead(o);else{let i=new mc(t,n);this.nodes.set(t,i),this.addNode(i),this.nodes.size>this.size&&(this.nodes.delete(this.tail.key),this.removeNode(this.tail))}}moveToHead(t){this.removeNode(t),t.next=void 0,t.prev=void 0,this.addNode(t)}addNode(t){this.head&&(this.head.prev=t,t.next=this.head),this.tail||(this.tail=t),this.head=t}removeNode(t){t.prev?t.prev.next=t.next:this.head=t.next,t.next?t.next.prev=t.prev:this.tail=t.prev}};r(pc,"LRUCache");var fc=pc;Ds.LRUCache=fc;var gc=class gc{constructor(t,n){this.key=t,this.value=n}};r(gc,"Node");var mc=gc});var yc=X(Us=>{"use strict";Object.defineProperty(Us,"__esModule",{value:!0});Us.TikTokenizer=void 0;var jI=require("fs"),UI=require("util"),js=Dp(),qI=jp(),BI=Up();function WI(e){let t=new Map;try{let o=jI.readFileSync(e,"utf-8");return n(o),t}catch(o){throw new Error(`Failed to load from BPE encoder file stream: ${o}`)}function n(o){for(let i of o.split(/[\r\n]+/)){if(i.trim()==="")continue;let u=i.split(" ");if(u.length!==2)throw new Error("Invalid format in the BPE encoder file stream");let s=new Uint8Array(Buffer.from(u[0],"base64")),a=parseInt(u[1]);if(!isNaN(a))t.set(s,a);else throw new Error(`Can't parse ${u[1]} to integer`)}}r(n,"processBpeRanks")}r(WI,"loadTikTokenBpe");function $I(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}r($I,"escapeRegExp");var _c=class _c{constructor(t,n,o,i=8192){this.textEncoder=(0,qI.makeTextEncoder)(),this.textDecoder=new UI.TextDecoder("utf-8"),this.cache=new BI.LRUCache(i);let u=typeof t=="string"?WI(t):t;this.init(u,n,o)}init(t,n,o){this.encoder=new js.BinaryMap;for(let[i,u]of t)this.encoder.set(i,u);this.regex=new RegExp(o,"gu"),this.specialTokensRegex=new RegExp(Array.from(n.keys()).map(i=>$I(i)).join("|")),this.specialTokensEncoder=n,this.decoder=new Map;for(let[i,u]of t)this.decoder.set(u,i);if(t.size!==this.decoder.size)throw new Error("Encoder and decoder sizes do not match");this.specialTokensDecoder=new Map;for(let[i,u]of n)this.specialTokensDecoder.set(u,i)}findNextSpecialToken(t,n,o){let i=n,u=null;if(o&&this.specialTokensRegex)for(;u=t.slice(i).match(this.specialTokensRegex),!(!u||o&&o.includes(u[0]));)i+=u.index+1;let s=u?i+u.index:t.length;return[u,s]}encode(t,n){let o=[],i=0;for(;;){let u,s;if([u,s]=this.findNextSpecialToken(t,i,n),s>i&&this.encodeByIndex(t,o,i,s),u){if(i=i+this.encodeSpecialToken(o,u),i>=t.length)break}else break}return o}encodeSpecialToken(t,n){var i;let o=(i=this.specialTokensEncoder)==null?void 0:i.get(n[0]);return t.push(o),n.index+n[0].length}encodeByIndex(t,n,o,i){let u,s=t.substring(o,i);for(this.regex.lastIndex=0;u=this.regex.exec(s);){let a=this.cache.get(u[0]);if(a)for(let c of a)n.push(c);else{let c=this.textEncoder.encode(u[0]),l=this.encoder.get(c,0,this.textEncoder.length);if(l!==void 0)n.push(l),this.cache.set(u[0],[l]);else{let m=(0,js.bytePairEncode)(c,this.encoder,this.textEncoder.length);for(let g of m)n.push(g);this.cache.set(u[0],m)}}}}encodeTrimSuffixByIndex(t,n,o,i,u,s,a){let c,l=t.substring(o,i);for(this.regex.lastIndex=0;c=this.regex.exec(l);){let m=c[0],g=this.cache.get(m);if(g)if(s+g.length<=u)s+=g.length,a+=m.length,n.push(...g);else{let _=u-s;s+=_,a+=m.length,n.push(...g.slice(0,_));break}else{let _=this.textEncoder.encode(m),v=this.encoder.get(_,0,_.length);if(v!==void 0)if(this.cache.set(m,[v]),s+1<=u)s++,a+=m.length,n.push(v);else break;else{let T=(0,js.bytePairEncode)(_,this.encoder,this.textEncoder.length);if(this.cache.set(m,T),s+T.length<=u){s+=T.length,a+=m.length;for(let P of T)n.push(P)}else{let P=u-s;s+=P,a+=m.length;for(let j=0;j<P;j++)n.push(T[j]);break}}}if(s>=u)break}return{tokenCount:s,encodeLength:a}}encodeTrimSuffix(t,n,o){let i=[],u=0,s=0,a=0;for(;;){let l,m;if([l,m]=this.findNextSpecialToken(t,u,o),m>u){let{tokenCount:g,encodeLength:_}=this.encodeTrimSuffixByIndex(t,i,u,m,n,s,a);if(s=g,a=_,s>=n)break}if(l!==null){if(s++,s<=n&&(u=u+this.encodeSpecialToken(i,l),a+=l[0].length,u>=t.length)||s>=n)break}else break}let c=a===t.length?t:t.slice(0,a);return{tokenIds:i,text:c}}encodeTrimPrefix(t,n,o){let i=[],u=0,s=0,a=0,c=new Map;for(c.set(s,a);;){let _,v;if([_,v]=this.findNextSpecialToken(t,u,o),v>u){let T,P=t.substring(u,v);for(this.regex.lastIndex=0;T=this.regex.exec(P);){let j=T[0],L=this.cache.get(j);if(L)s+=L.length,a+=j.length,i.push(...L),c.set(s,a);else{let Q=this.textEncoder.encode(j),$=this.encoder.get(Q);if($!==void 0)this.cache.set(j,[$]),s++,a+=j.length,i.push($),c.set(s,a);else{let Y=(0,js.bytePairEncode)(Q,this.encoder,this.textEncoder.length);this.cache.set(j,Y),s+=Y.length,a+=j.length;for(let V of Y)i.push(V);c.set(s,a)}}}}if(_!==null){if(u=u+this.encodeSpecialToken(i,_),s++,a+=_[0].length,c.set(s,a),u>=t.length)break}else break}if(s<=n)return{tokenIds:i,text:t};let l=s-n,m=0,g=0;for(let[_,v]of c)if(_>=l){m=_,g=v;break}if(m>n){let _=this.encode(t,o),v=_.slice(_.length-n);return{tokenIds:v,text:this.decode(v)}}return{tokenIds:i.slice(m),text:t.slice(g)}}decode(t){var o,i;let n=[];for(let u of t){let s=[],a=(o=this.decoder)==null?void 0:o.get(u);if(a!==void 0)s=Array.from(a);else{let c=(i=this.specialTokensDecoder)==null?void 0:i.get(u);if(c!==void 0){let l=this.textEncoder.encode(c);s=Array.from(l.subarray(0,this.textEncoder.length))}}n.push(...s)}return this.textDecoder.decode(new Uint8Array(n))}};r(_c,"TikTokenizer");var hc=_c;Us.TikTokenizer=hc});var Zp=X(it=>{"use strict";Object.defineProperty(it,"__esModule",{value:!0});it.createTokenizer=it.createByEncoderName=it.createByModelName=it.getRegexByModel=it.getRegexByEncoder=it.getSpecialTokensByModel=it.getSpecialTokensByEncoder=it.MODEL_TO_ENCODING=void 0;var Bs=require("fs"),bc=require("path"),GI=yc(),VI=new Map([["gpt-4o-","o200k_base"],["gpt-4-","cl100k_base"],["gpt-3.5-turbo-","cl100k_base"],["gpt-35-turbo-","cl100k_base"]]);it.MODEL_TO_ENCODING=new Map([["gpt-4o","o200k_base"],["gpt-4","cl100k_base"],["gpt-3.5-turbo","cl100k_base"],["text-davinci-003","p50k_base"],["text-davinci-002","p50k_base"],["text-davinci-001","r50k_base"],["text-curie-001","r50k_base"],["text-babbage-001","r50k_base"],["text-ada-001","r50k_base"],["davinci","r50k_base"],["curie","r50k_base"],["babbage","r50k_base"],["ada","r50k_base"],["code-davinci-002","p50k_base"],["code-davinci-001","p50k_base"],["code-cushman-002","p50k_base"],["code-cushman-001","p50k_base"],["davinci-codex","p50k_base"],["cushman-codex","p50k_base"],["text-davinci-edit-001","p50k_edit"],["code-davinci-edit-001","p50k_edit"],["text-embedding-ada-002","cl100k_base"],["text-similarity-davinci-001","r50k_base"],["text-similarity-curie-001","r50k_base"],["text-similarity-babbage-001","r50k_base"],["text-similarity-ada-001","r50k_base"],["text-search-davinci-doc-001","r50k_base"],["text-search-curie-doc-001","r50k_base"],["text-search-babbage-doc-001","r50k_base"],["text-search-ada-doc-001","r50k_base"],["code-search-babbage-code-001","r50k_base"],["code-search-ada-code-001","r50k_base"],["gpt2","gpt2"]]);var qs="<|endoftext|>",qp="<|fim_prefix|>",Bp="<|fim_middle|>",Wp="<|fim_suffix|>",$p="<|endofprompt|>",Mi="'s|'t|'re|'ve|'m|'ll|'d| ?\\p{L}+| ?\\p{N}+| ?[^\\s\\p{L}\\p{N}]+|\\s+(?!\\S)|\\s+",Gp="(?:'s|'S|'t|'T|'re|'RE|'Re|'eR|'ve|'VE|'vE|'Ve|'m|'M|'ll|'lL|'Ll|'LL|'d|'D)|[^\\r\\n\\p{L}\\p{N}]?\\p{L}+|\\p{N}{1,3}| ?[^\\s\\p{L}\\p{N}]+[\\r\\n]*|\\s*[\\r\\n]+|\\s+(?!\\S)|\\s+",zI=[`[^\r
\\p{L}\\p{N}]?[\\p{Lu}\\p{Lt}\\p{Lm}\\p{Lo}\\p{M}]*[\\p{Ll}\\p{Lm}\\p{Lo}\\p{M}]+(?:'s|'S|'t|'T|'re|'RE|'Re|'eR|'ve|'VE|'vE|'Ve|'m|'M|'ll|'lL|'Ll|'LL|'d|'D)?`,`[^\r
\\p{L}\\p{N}]?[\\p{Lu}\\p{Lt}\\p{Lm}\\p{Lo}\\p{M}]+[\\p{Ll}\\p{Lm}\\p{Lo}\\p{M}]*(?:'s|'S|'t|'T|'re|'RE|'Re|'eR|'ve|'VE|'vE|'Ve|'m|'M|'ll|'lL|'Ll|'LL|'d|'D)?`,"\\p{N}{1,3}"," ?[^\\s\\p{L}\\p{N}]+[\\r\\n/]*","\\s*[\\r\\n]+","\\s+(?!\\S)","\\s+"],Vp=zI.join("|");function wc(e){let t="";if(it.MODEL_TO_ENCODING.has(e))t=it.MODEL_TO_ENCODING.get(e);else for(let[n,o]of VI)if(e.startsWith(n)){t=o;break}return t}r(wc,"getEncoderFromModelName");async function KI(e,t){let n=await fetch(e);if(!n.ok)throw new Error(`Failed to fetch file from ${e}. Status code: ${n.status}`);let o=await n.text();Bs.writeFileSync(t,o)}r(KI,"fetchAndSaveFile");function vc(e){let t=new Map([[qs,50256]]);switch(e){case"o200k_base":t=new Map([[qs,199999],[$p,200018]]);break;case"cl100k_base":t=new Map([[qs,100257],[qp,100258],[Bp,100259],[Wp,100260],[$p,100276]]);break;case"p50k_edit":t=new Map([[qs,50256],[qp,50281],[Bp,50282],[Wp,50283]]);break;default:break}return t}r(vc,"getSpecialTokensByEncoder");it.getSpecialTokensByEncoder=vc;function HI(e){let t=wc(e);return vc(t)}r(HI,"getSpecialTokensByModel");it.getSpecialTokensByModel=HI;function zp(e){switch(e){case"o200k_base":return Vp;case"cl100k_base":return Gp;default:break}return Mi}r(zp,"getRegexByEncoder");it.getRegexByEncoder=zp;function ZI(e){let t=wc(e);return zp(t)}r(ZI,"getRegexByModel");it.getRegexByModel=ZI;async function QI(e,t=null){return Kp(wc(e),t)}r(QI,"createByModelName");it.createByModelName=QI;async function Kp(e,t=null){let n,o,i=vc(e);switch(e){case"o200k_base":n=Vp,o="https://openaipublic.blob.core.windows.net/encodings/o200k_base.tiktoken";break;case"cl100k_base":n=Gp,o="https://openaipublic.blob.core.windows.net/encodings/cl100k_base.tiktoken";break;case"p50k_base":n=Mi,o="https://openaipublic.blob.core.windows.net/encodings/p50k_base.tiktoken";break;case"p50k_edit":n=Mi,o="https://openaipublic.blob.core.windows.net/encodings/p50k_base.tiktoken";break;case"r50k_base":n=Mi,o="https://openaipublic.blob.core.windows.net/encodings/r50k_base.tiktoken";break;case"gpt2":n=Mi,o="https://raw.githubusercontent.com/microsoft/Tokenizer/main/model/gpt2.tiktoken";break;default:throw new Error(`Doesn't support this encoder [${e}]`)}t!==null&&(i=new Map([...i,...t]));let u=bc.basename(o),s=bc.resolve(__dirname,"..","model");Bs.existsSync(s)||Bs.mkdirSync(s,{recursive:!0});let a=bc.resolve(s,u);return Bs.existsSync(a)||(console.log(`Downloading file from ${o}`),await KI(o,a),console.log(`Saved file to ${a}`)),Hp(a,i,n)}r(Kp,"createByEncoderName");it.createByEncoderName=Kp;function Hp(e,t,n,o=8192){return new GI.TikTokenizer(e,t,n,o)}r(Hp,"createTokenizer");it.createTokenizer=Hp});var Qp=X(st=>{"use strict";Object.defineProperty(st,"__esModule",{value:!0});st.createTokenizer=st.createByEncoderName=st.createByModelName=st.getSpecialTokensByModel=st.getSpecialTokensByEncoder=st.getRegexByModel=st.getRegexByEncoder=st.MODEL_TO_ENCODING=st.TikTokenizer=void 0;var JI=yc();Object.defineProperty(st,"TikTokenizer",{enumerable:!0,get:r(function(){return JI.TikTokenizer},"get")});var fr=Zp();Object.defineProperty(st,"MODEL_TO_ENCODING",{enumerable:!0,get:r(function(){return fr.MODEL_TO_ENCODING},"get")});Object.defineProperty(st,"getRegexByEncoder",{enumerable:!0,get:r(function(){return fr.getRegexByEncoder},"get")});Object.defineProperty(st,"getRegexByModel",{enumerable:!0,get:r(function(){return fr.getRegexByModel},"get")});Object.defineProperty(st,"getSpecialTokensByEncoder",{enumerable:!0,get:r(function(){return fr.getSpecialTokensByEncoder},"get")});Object.defineProperty(st,"getSpecialTokensByModel",{enumerable:!0,get:r(function(){return fr.getSpecialTokensByModel},"get")});Object.defineProperty(st,"createByModelName",{enumerable:!0,get:r(function(){return fr.createByModelName},"get")});Object.defineProperty(st,"createByEncoderName",{enumerable:!0,get:r(function(){return fr.createByEncoderName},"get")});Object.defineProperty(st,"createTokenizer",{enumerable:!0,get:r(function(){return fr.createTokenizer},"get")})});var sg=X((exports,module)=>{var Module=Module!==void 0?Module:{},TreeSitter=function(){var initPromise,document=typeof window=="object"?{currentScript:window.document.currentScript}:null;let _Parser=class _Parser{constructor(){this.initialize()}initialize(){throw new Error("cannot construct a Parser before calling `init()`")}static init(moduleOptions){return initPromise||(Module=Object.assign({},Module,moduleOptions),initPromise=new Promise(resolveInitPromise=>{var moduleOverrides=Object.assign({},Module),arguments_=[],thisProgram="./this.program",quit_=r((s,a)=>{throw a},"quit_"),ENVIRONMENT_IS_WEB=typeof window=="object",ENVIRONMENT_IS_WORKER=typeof importScripts=="function",ENVIRONMENT_IS_NODE=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",scriptDirectory="",read_,readAsync,readBinary,setWindowTitle;function locateFile(s){return Module.locateFile?Module.locateFile(s,scriptDirectory):scriptDirectory+s}r(locateFile,"locateFile");function logExceptionOnExit(s){s instanceof ExitStatus||err("exiting due to exception: "+s)}if(r(logExceptionOnExit,"logExceptionOnExit"),ENVIRONMENT_IS_NODE){var fs=require("fs"),nodePath=require("path");scriptDirectory=ENVIRONMENT_IS_WORKER?nodePath.dirname(scriptDirectory)+"/":__dirname+"/",read_=r((s,a)=>(s=isFileURI(s)?new URL(s):nodePath.normalize(s),fs.readFileSync(s,a?void 0:"utf8")),"read_"),readBinary=r(s=>{var a=read_(s,!0);return a.buffer||(a=new Uint8Array(a)),a},"readBinary"),readAsync=r((s,a,c)=>{s=isFileURI(s)?new URL(s):nodePath.normalize(s),fs.readFile(s,function(l,m){l?c(l):a(m.buffer)})},"readAsync"),process.argv.length>1&&(thisProgram=process.argv[1].replace(/\\/g,"/")),arguments_=process.argv.slice(2),typeof module<"u"&&(module.exports=Module),quit_=r((s,a)=>{if(keepRuntimeAlive())throw process.exitCode=s,a;logExceptionOnExit(a),process.exit(s)},"quit_"),Module.inspect=function(){return"[Emscripten Module object]"}}else(ENVIRONMENT_IS_WEB||ENVIRONMENT_IS_WORKER)&&(ENVIRONMENT_IS_WORKER?scriptDirectory=self.location.href:document!==void 0&&document.currentScript&&(scriptDirectory=document.currentScript.src),scriptDirectory=scriptDirectory.indexOf("blob:")!==0?scriptDirectory.substr(0,scriptDirectory.replace(/[?#].*/,"").lastIndexOf("/")+1):"",read_=r(s=>{var a=new XMLHttpRequest;return a.open("GET",s,!1),a.send(null),a.responseText},"read_"),ENVIRONMENT_IS_WORKER&&(readBinary=r(s=>{var a=new XMLHttpRequest;return a.open("GET",s,!1),a.responseType="arraybuffer",a.send(null),new Uint8Array(a.response)},"readBinary")),readAsync=r((s,a,c)=>{var l=new XMLHttpRequest;l.open("GET",s,!0),l.responseType="arraybuffer",l.onload=()=>{l.status==200||l.status==0&&l.response?a(l.response):c()},l.onerror=c,l.send(null)},"readAsync"),setWindowTitle=r(s=>document.title=s,"setWindowTitle"));var out=Module.print||console.log.bind(console),err=Module.printErr||console.warn.bind(console);Object.assign(Module,moduleOverrides),moduleOverrides=null,Module.arguments&&(arguments_=Module.arguments),Module.thisProgram&&(thisProgram=Module.thisProgram),Module.quit&&(quit_=Module.quit);var STACK_ALIGN=16,dynamicLibraries=Module.dynamicLibraries||[],wasmBinary;Module.wasmBinary&&(wasmBinary=Module.wasmBinary);var noExitRuntime=Module.noExitRuntime||!0,wasmMemory;typeof WebAssembly!="object"&&abort("no native wasm support detected");var ABORT=!1,EXITSTATUS,UTF8Decoder=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,buffer,HEAP8,HEAPU8,HEAP16,HEAPU16,HEAP32,HEAPU32,HEAPF32,HEAPF64;function UTF8ArrayToString(s,a,c){for(var l=a+c,m=a;s[m]&&!(m>=l);)++m;if(m-a>16&&s.buffer&&UTF8Decoder)return UTF8Decoder.decode(s.subarray(a,m));for(var g="";a<m;){var _=s[a++];if(128&_){var v=63&s[a++];if((224&_)!=192){var T=63&s[a++];if((_=(240&_)==224?(15&_)<<12|v<<6|T:(7&_)<<18|v<<12|T<<6|63&s[a++])<65536)g+=String.fromCharCode(_);else{var P=_-65536;g+=String.fromCharCode(55296|P>>10,56320|1023&P)}}else g+=String.fromCharCode((31&_)<<6|v)}else g+=String.fromCharCode(_)}return g}r(UTF8ArrayToString,"UTF8ArrayToString");function UTF8ToString(s,a){return s?UTF8ArrayToString(HEAPU8,s,a):""}r(UTF8ToString,"UTF8ToString");function stringToUTF8Array(s,a,c,l){if(!(l>0))return 0;for(var m=c,g=c+l-1,_=0;_<s.length;++_){var v=s.charCodeAt(_);if(v>=55296&&v<=57343&&(v=65536+((1023&v)<<10)|1023&s.charCodeAt(++_)),v<=127){if(c>=g)break;a[c++]=v}else if(v<=2047){if(c+1>=g)break;a[c++]=192|v>>6,a[c++]=128|63&v}else if(v<=65535){if(c+2>=g)break;a[c++]=224|v>>12,a[c++]=128|v>>6&63,a[c++]=128|63&v}else{if(c+3>=g)break;a[c++]=240|v>>18,a[c++]=128|v>>12&63,a[c++]=128|v>>6&63,a[c++]=128|63&v}}return a[c]=0,c-m}r(stringToUTF8Array,"stringToUTF8Array");function stringToUTF8(s,a,c){return stringToUTF8Array(s,HEAPU8,a,c)}r(stringToUTF8,"stringToUTF8");function lengthBytesUTF8(s){for(var a=0,c=0;c<s.length;++c){var l=s.charCodeAt(c);l<=127?a++:l<=2047?a+=2:l>=55296&&l<=57343?(a+=4,++c):a+=3}return a}r(lengthBytesUTF8,"lengthBytesUTF8");function updateGlobalBufferAndViews(s){buffer=s,Module.HEAP8=HEAP8=new Int8Array(s),Module.HEAP16=HEAP16=new Int16Array(s),Module.HEAP32=HEAP32=new Int32Array(s),Module.HEAPU8=HEAPU8=new Uint8Array(s),Module.HEAPU16=HEAPU16=new Uint16Array(s),Module.HEAPU32=HEAPU32=new Uint32Array(s),Module.HEAPF32=HEAPF32=new Float32Array(s),Module.HEAPF64=HEAPF64=new Float64Array(s)}r(updateGlobalBufferAndViews,"updateGlobalBufferAndViews");var INITIAL_MEMORY=Module.INITIAL_MEMORY||33554432;wasmMemory=Module.wasmMemory?Module.wasmMemory:new WebAssembly.Memory({initial:INITIAL_MEMORY/65536,maximum:32768}),wasmMemory&&(buffer=wasmMemory.buffer),INITIAL_MEMORY=buffer.byteLength,updateGlobalBufferAndViews(buffer);var wasmTable=new WebAssembly.Table({initial:20,element:"anyfunc"}),__ATPRERUN__=[],__ATINIT__=[],__ATMAIN__=[],__ATPOSTRUN__=[],__RELOC_FUNCS__=[],runtimeInitialized=!1;function keepRuntimeAlive(){return noExitRuntime}r(keepRuntimeAlive,"keepRuntimeAlive");function preRun(){if(Module.preRun)for(typeof Module.preRun=="function"&&(Module.preRun=[Module.preRun]);Module.preRun.length;)addOnPreRun(Module.preRun.shift());callRuntimeCallbacks(__ATPRERUN__)}r(preRun,"preRun");function initRuntime(){runtimeInitialized=!0,callRuntimeCallbacks(__RELOC_FUNCS__),callRuntimeCallbacks(__ATINIT__)}r(initRuntime,"initRuntime");function preMain(){callRuntimeCallbacks(__ATMAIN__)}r(preMain,"preMain");function postRun(){if(Module.postRun)for(typeof Module.postRun=="function"&&(Module.postRun=[Module.postRun]);Module.postRun.length;)addOnPostRun(Module.postRun.shift());callRuntimeCallbacks(__ATPOSTRUN__)}r(postRun,"postRun");function addOnPreRun(s){__ATPRERUN__.unshift(s)}r(addOnPreRun,"addOnPreRun");function addOnInit(s){__ATINIT__.unshift(s)}r(addOnInit,"addOnInit");function addOnPostRun(s){__ATPOSTRUN__.unshift(s)}r(addOnPostRun,"addOnPostRun");var runDependencies=0,runDependencyWatcher=null,dependenciesFulfilled=null;function addRunDependency(s){runDependencies++,Module.monitorRunDependencies&&Module.monitorRunDependencies(runDependencies)}r(addRunDependency,"addRunDependency");function removeRunDependency(s){if(runDependencies--,Module.monitorRunDependencies&&Module.monitorRunDependencies(runDependencies),runDependencies==0&&(runDependencyWatcher!==null&&(clearInterval(runDependencyWatcher),runDependencyWatcher=null),dependenciesFulfilled)){var a=dependenciesFulfilled;dependenciesFulfilled=null,a()}}r(removeRunDependency,"removeRunDependency");function abort(s){throw Module.onAbort&&Module.onAbort(s),err(s="Aborted("+s+")"),ABORT=!0,EXITSTATUS=1,s+=". Build with -sASSERTIONS for more info.",new WebAssembly.RuntimeError(s)}r(abort,"abort");var dataURIPrefix="data:application/octet-stream;base64,",wasmBinaryFile,tempDouble,tempI64;function isDataURI(s){return s.startsWith(dataURIPrefix)}r(isDataURI,"isDataURI");function isFileURI(s){return s.startsWith("file://")}r(isFileURI,"isFileURI");function getBinary(s){try{if(s==wasmBinaryFile&&wasmBinary)return new Uint8Array(wasmBinary);if(readBinary)return readBinary(s);throw"both async and sync fetching of the wasm failed"}catch(a){abort(a)}}r(getBinary,"getBinary");function getBinaryPromise(){if(!wasmBinary&&(ENVIRONMENT_IS_WEB||ENVIRONMENT_IS_WORKER)){if(typeof fetch=="function"&&!isFileURI(wasmBinaryFile))return fetch(wasmBinaryFile,{credentials:"same-origin"}).then(function(s){if(!s.ok)throw"failed to load wasm binary file at '"+wasmBinaryFile+"'";return s.arrayBuffer()}).catch(function(){return getBinary(wasmBinaryFile)});if(readAsync)return new Promise(function(s,a){readAsync(wasmBinaryFile,function(c){s(new Uint8Array(c))},a)})}return Promise.resolve().then(function(){return getBinary(wasmBinaryFile)})}r(getBinaryPromise,"getBinaryPromise");function createWasm(){var s={env:asmLibraryArg,wasi_snapshot_preview1:asmLibraryArg,"GOT.mem":new Proxy(asmLibraryArg,GOTHandler),"GOT.func":new Proxy(asmLibraryArg,GOTHandler)};function a(m,g){var _=m.exports;_=relocateExports(_,1024);var v=getDylinkMetadata(g);v.neededDynlibs&&(dynamicLibraries=v.neededDynlibs.concat(dynamicLibraries)),mergeLibSymbols(_,"main"),Module.asm=_,addOnInit(Module.asm.__wasm_call_ctors),__RELOC_FUNCS__.push(Module.asm.__wasm_apply_data_relocs),removeRunDependency("wasm-instantiate")}r(a,"t");function c(m){a(m.instance,m.module)}r(c,"r");function l(m){return getBinaryPromise().then(function(g){return WebAssembly.instantiate(g,s)}).then(function(g){return g}).then(m,function(g){err("failed to asynchronously prepare wasm: "+g),abort(g)})}if(r(l,"_"),addRunDependency("wasm-instantiate"),Module.instantiateWasm)try{return Module.instantiateWasm(s,a)}catch(m){return err("Module.instantiateWasm callback failed with error: "+m),!1}return wasmBinary||typeof WebAssembly.instantiateStreaming!="function"||isDataURI(wasmBinaryFile)||isFileURI(wasmBinaryFile)||ENVIRONMENT_IS_NODE||typeof fetch!="function"?l(c):fetch(wasmBinaryFile,{credentials:"same-origin"}).then(function(m){return WebAssembly.instantiateStreaming(m,s).then(c,function(g){return err("wasm streaming compile failed: "+g),err("falling back to ArrayBuffer instantiation"),l(c)})}),{}}r(createWasm,"createWasm"),wasmBinaryFile="tree-sitter.wasm",isDataURI(wasmBinaryFile)||(wasmBinaryFile=locateFile(wasmBinaryFile));var ASM_CONSTS={};function ExitStatus(s){this.name="ExitStatus",this.message="Program terminated with exit("+s+")",this.status=s}r(ExitStatus,"ExitStatus");var GOT={},CurrentModuleWeakSymbols=new Set([]),GOTHandler={get:r(function(s,a){var c=GOT[a];return c||(c=GOT[a]=new WebAssembly.Global({value:"i32",mutable:!0})),CurrentModuleWeakSymbols.has(a)||(c.required=!0),c},"get")};function callRuntimeCallbacks(s){for(;s.length>0;)s.shift()(Module)}r(callRuntimeCallbacks,"callRuntimeCallbacks");function getDylinkMetadata(s){var a=0,c=0;function l(){for(var ne=0,U=1;;){var ie=s[a++];if(ne+=(127&ie)*U,U*=128,!(128&ie))break}return ne}r(l,"_");function m(){var ne=l();return UTF8ArrayToString(s,(a+=ne)-ne,ne)}r(m,"n");function g(ne,U){if(ne)throw new Error(U)}r(g,"s");var _="dylink.0";if(s instanceof WebAssembly.Module){var v=WebAssembly.Module.customSections(s,_);v.length===0&&(_="dylink",v=WebAssembly.Module.customSections(s,_)),g(v.length===0,"need dylink section"),c=(s=new Uint8Array(v[0])).length}else{g(new Uint32Array(new Uint8Array(s.subarray(0,24)).buffer)[0]!=1836278016,"need to see wasm magic number"),g(s[8]!==0,"need the dylink section to be first"),a=9;var T=l();c=a+T,_=m()}var P={neededDynlibs:[],tlsExports:new Set,weakImports:new Set};if(_=="dylink"){P.memorySize=l(),P.memoryAlign=l(),P.tableSize=l(),P.tableAlign=l();for(var j=l(),L=0;L<j;++L){var Q=m();P.neededDynlibs.push(Q)}}else for(g(_!=="dylink.0");a<c;){var $=s[a++],Y=l();if($===1)P.memorySize=l(),P.memoryAlign=l(),P.tableSize=l(),P.tableAlign=l();else if($===2)for(j=l(),L=0;L<j;++L)Q=m(),P.neededDynlibs.push(Q);else if($===3)for(var V=l();V--;){var re=m();256&l()&&P.tlsExports.add(re)}else if($===4)for(V=l();V--;)m(),re=m(),(3&l())==1&&P.weakImports.add(re);else a+=Y}return P}r(getDylinkMetadata,"getDylinkMetadata");function getValue(s,a="i8"){switch(a.endsWith("*")&&(a="*"),a){case"i1":case"i8":return HEAP8[s>>0];case"i16":return HEAP16[s>>1];case"i32":case"i64":return HEAP32[s>>2];case"float":return HEAPF32[s>>2];case"double":return HEAPF64[s>>3];case"*":return HEAPU32[s>>2];default:abort("invalid type for getValue: "+a)}return null}r(getValue,"getValue");function asmjsMangle(s){return s.indexOf("dynCall_")==0||["stackAlloc","stackSave","stackRestore","getTempRet0","setTempRet0"].includes(s)?s:"_"+s}r(asmjsMangle,"asmjsMangle");function mergeLibSymbols(s,a){for(var c in s)if(s.hasOwnProperty(c)){asmLibraryArg.hasOwnProperty(c)||(asmLibraryArg[c]=s[c]);var l=asmjsMangle(c);Module.hasOwnProperty(l)||(Module[l]=s[c]),c=="__main_argc_argv"&&(Module._main=s[c])}}r(mergeLibSymbols,"mergeLibSymbols");var LDSO={loadedLibsByName:{},loadedLibsByHandle:{}};function dynCallLegacy(s,a,c){var l=Module["dynCall_"+s];return c&&c.length?l.apply(null,[a].concat(c)):l.call(null,a)}r(dynCallLegacy,"dynCallLegacy");var wasmTableMirror=[];function getWasmTableEntry(s){var a=wasmTableMirror[s];return a||(s>=wasmTableMirror.length&&(wasmTableMirror.length=s+1),wasmTableMirror[s]=a=wasmTable.get(s)),a}r(getWasmTableEntry,"getWasmTableEntry");function dynCall(s,a,c){return s.includes("j")?dynCallLegacy(s,a,c):getWasmTableEntry(a).apply(null,c)}r(dynCall,"dynCall");function createInvokeFunction(s){return function(){var a=stackSave();try{return dynCall(s,arguments[0],Array.prototype.slice.call(arguments,1))}catch(c){if(stackRestore(a),c!==c+0)throw c;_setThrew(1,0)}}}r(createInvokeFunction,"createInvokeFunction");var ___heap_base=78144;function zeroMemory(s,a){return HEAPU8.fill(0,s,s+a),s}r(zeroMemory,"zeroMemory");function getMemory(s){if(runtimeInitialized)return zeroMemory(_malloc(s),s);var a=___heap_base,c=a+s+15&-16;return ___heap_base=c,GOT.__heap_base.value=c,a}r(getMemory,"getMemory");function isInternalSym(s){return["__cpp_exception","__c_longjmp","__wasm_apply_data_relocs","__dso_handle","__tls_size","__tls_align","__set_stack_limits","_emscripten_tls_init","__wasm_init_tls","__wasm_call_ctors","__start_em_asm","__stop_em_asm"].includes(s)}r(isInternalSym,"isInternalSym");function uleb128Encode(s,a){s<128?a.push(s):a.push(s%128|128,s>>7)}r(uleb128Encode,"uleb128Encode");function sigToWasmTypes(s){for(var a={i:"i32",j:"i32",f:"f32",d:"f64",p:"i32"},c={parameters:[],results:s[0]=="v"?[]:[a[s[0]]]},l=1;l<s.length;++l)c.parameters.push(a[s[l]]),s[l]==="j"&&c.parameters.push("i32");return c}r(sigToWasmTypes,"sigToWasmTypes");function generateFuncType(s,a){var c=s.slice(0,1),l=s.slice(1),m={i:127,p:127,j:126,f:125,d:124};a.push(96),uleb128Encode(l.length,a);for(var g=0;g<l.length;++g)a.push(m[l[g]]);c=="v"?a.push(0):a.push(1,m[c])}r(generateFuncType,"generateFuncType");function convertJsFunctionToWasm(s,a){if(typeof WebAssembly.Function=="function")return new WebAssembly.Function(sigToWasmTypes(a),s);var c=[1];generateFuncType(a,c);var l=[0,97,115,109,1,0,0,0,1];uleb128Encode(c.length,l),l.push.apply(l,c),l.push(2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0);var m=new WebAssembly.Module(new Uint8Array(l));return new WebAssembly.Instance(m,{e:{f:s}}).exports.f}r(convertJsFunctionToWasm,"convertJsFunctionToWasm");function updateTableMap(s,a){if(functionsInTableMap)for(var c=s;c<s+a;c++){var l=getWasmTableEntry(c);l&&functionsInTableMap.set(l,c)}}r(updateTableMap,"updateTableMap");var functionsInTableMap=void 0,freeTableIndexes=[];function getEmptyTableSlot(){if(freeTableIndexes.length)return freeTableIndexes.pop();try{wasmTable.grow(1)}catch(s){throw s instanceof RangeError?"Unable to grow wasm table. Set ALLOW_TABLE_GROWTH.":s}return wasmTable.length-1}r(getEmptyTableSlot,"getEmptyTableSlot");function setWasmTableEntry(s,a){wasmTable.set(s,a),wasmTableMirror[s]=wasmTable.get(s)}r(setWasmTableEntry,"setWasmTableEntry");function addFunction(s,a){if(functionsInTableMap||(functionsInTableMap=new WeakMap,updateTableMap(0,wasmTable.length)),functionsInTableMap.has(s))return functionsInTableMap.get(s);var c=getEmptyTableSlot();try{setWasmTableEntry(c,s)}catch(l){if(!(l instanceof TypeError))throw l;setWasmTableEntry(c,convertJsFunctionToWasm(s,a))}return functionsInTableMap.set(s,c),c}r(addFunction,"addFunction");function updateGOT(s,a){for(var c in s)if(!isInternalSym(c)){var l=s[c];c.startsWith("orig$")&&(c=c.split("$")[1],a=!0),GOT[c]||(GOT[c]=new WebAssembly.Global({value:"i32",mutable:!0})),(a||GOT[c].value==0)&&(typeof l=="function"?GOT[c].value=addFunction(l):typeof l=="number"?GOT[c].value=l:err("unhandled export type for `"+c+"`: "+typeof l))}}r(updateGOT,"updateGOT");function relocateExports(s,a,c){var l={};for(var m in s){var g=s[m];typeof g=="object"&&(g=g.value),typeof g=="number"&&(g+=a),l[m]=g}return updateGOT(l,c),l}r(relocateExports,"relocateExports");function resolveGlobalSymbol(s,a){var c;return a&&(c=asmLibraryArg["orig$"+s]),c||(c=asmLibraryArg[s])&&c.stub&&(c=void 0),c||(c=Module[asmjsMangle(s)]),!c&&s.startsWith("invoke_")&&(c=createInvokeFunction(s.split("_")[1])),c}r(resolveGlobalSymbol,"resolveGlobalSymbol");function alignMemory(s,a){return Math.ceil(s/a)*a}r(alignMemory,"alignMemory");function loadWebAssemblyModule(binary,flags,handle){var metadata=getDylinkMetadata(binary);function loadModule(){var firstLoad=!handle||!HEAP8[handle+12>>0];if(firstLoad){var memAlign=Math.pow(2,metadata.memoryAlign);memAlign=Math.max(memAlign,STACK_ALIGN);var memoryBase=metadata.memorySize?alignMemory(getMemory(metadata.memorySize+memAlign),memAlign):0,tableBase=metadata.tableSize?wasmTable.length:0;handle&&(HEAP8[handle+12>>0]=1,HEAPU32[handle+16>>2]=memoryBase,HEAP32[handle+20>>2]=metadata.memorySize,HEAPU32[handle+24>>2]=tableBase,HEAP32[handle+28>>2]=metadata.tableSize)}else memoryBase=HEAPU32[handle+16>>2],tableBase=HEAPU32[handle+24>>2];var tableGrowthNeeded=tableBase+metadata.tableSize-wasmTable.length,moduleExports;function resolveSymbol(s){var a=resolveGlobalSymbol(s,!1);return a||(a=moduleExports[s]),a}r(resolveSymbol,"resolveSymbol"),tableGrowthNeeded>0&&wasmTable.grow(tableGrowthNeeded);var proxyHandler={get:r(function(s,a){switch(a){case"__memory_base":return memoryBase;case"__table_base":return tableBase}if(a in asmLibraryArg)return asmLibraryArg[a];var c;return a in s||(s[a]=function(){return c||(c=resolveSymbol(a)),c.apply(null,arguments)}),s[a]},"get")},proxy=new Proxy({},proxyHandler),info={"GOT.mem":new Proxy({},GOTHandler),"GOT.func":new Proxy({},GOTHandler),env:proxy,wasi_snapshot_preview1:proxy};function postInstantiation(instance){function addEmAsm(addr,body){for(var args=[],arity=0;arity<16&&body.indexOf("$"+arity)!=-1;arity++)args.push("$"+arity);args=args.join(",");var func="("+args+" ) => { "+body+"};";ASM_CONSTS[start]=eval(func)}if(r(addEmAsm,"addEmAsm"),updateTableMap(tableBase,metadata.tableSize),moduleExports=relocateExports(instance.exports,memoryBase),flags.allowUndefined||reportUndefinedSymbols(),"__start_em_asm"in moduleExports)for(var start=moduleExports.__start_em_asm,stop=moduleExports.__stop_em_asm;start<stop;){var jsString=UTF8ToString(start);addEmAsm(start,jsString),start=HEAPU8.indexOf(0,start)+1}var applyRelocs=moduleExports.__wasm_apply_data_relocs;applyRelocs&&(runtimeInitialized?applyRelocs():__RELOC_FUNCS__.push(applyRelocs));var init=moduleExports.__wasm_call_ctors;return init&&(runtimeInitialized?init():__ATINIT__.push(init)),moduleExports}if(r(postInstantiation,"postInstantiation"),flags.loadAsync){if(binary instanceof WebAssembly.Module){var instance=new WebAssembly.Instance(binary,info);return Promise.resolve(postInstantiation(instance))}return WebAssembly.instantiate(binary,info).then(function(s){return postInstantiation(s.instance)})}var module=binary instanceof WebAssembly.Module?binary:new WebAssembly.Module(binary),instance=new WebAssembly.Instance(module,info);return postInstantiation(instance)}return r(loadModule,"loadModule"),CurrentModuleWeakSymbols=metadata.weakImports,flags.loadAsync?metadata.neededDynlibs.reduce(function(s,a){return s.then(function(){return loadDynamicLibrary(a,flags)})},Promise.resolve()).then(function(){return loadModule()}):(metadata.neededDynlibs.forEach(function(s){loadDynamicLibrary(s,flags)}),loadModule())}r(loadWebAssemblyModule,"loadWebAssemblyModule");function loadDynamicLibrary(s,a,c){a=a||{global:!0,nodelete:!0};var l=LDSO.loadedLibsByName[s];if(l)return a.global&&!l.global&&(l.global=!0,l.module!=="loading"&&mergeLibSymbols(l.module,s)),a.nodelete&&l.refcount!==1/0&&(l.refcount=1/0),l.refcount++,c&&(LDSO.loadedLibsByHandle[c]=l),!a.loadAsync||Promise.resolve(!0);function m(v){if(a.fs&&a.fs.findObject(v)){var T=a.fs.readFile(v,{encoding:"binary"});return T instanceof Uint8Array||(T=new Uint8Array(T)),a.loadAsync?Promise.resolve(T):T}if(v=locateFile(v),a.loadAsync)return new Promise(function(P,j){readAsync(v,L=>P(new Uint8Array(L)),j)});if(!readBinary)throw new Error(v+": file not found, and synchronous loading of external files is not available");return readBinary(v)}r(m,"n");function g(){if(typeof preloadedWasm<"u"&&preloadedWasm[s]){var v=preloadedWasm[s];return a.loadAsync?Promise.resolve(v):v}return a.loadAsync?m(s).then(function(T){return loadWebAssemblyModule(T,a,c)}):loadWebAssemblyModule(m(s),a,c)}r(g,"s");function _(v){l.global&&mergeLibSymbols(v,s),l.module=v}return r(_,"a"),l={refcount:a.nodelete?1/0:1,name:s,module:"loading",global:a.global},LDSO.loadedLibsByName[s]=l,c&&(LDSO.loadedLibsByHandle[c]=l),a.loadAsync?g().then(function(v){return _(v),!0}):(_(g()),!0)}r(loadDynamicLibrary,"loadDynamicLibrary");function reportUndefinedSymbols(){for(var s in GOT)if(GOT[s].value==0){var a=resolveGlobalSymbol(s,!0);if(!a&&!GOT[s].required)continue;if(typeof a=="function")GOT[s].value=addFunction(a,a.sig);else{if(typeof a!="number")throw new Error("bad export type for `"+s+"`: "+typeof a);GOT[s].value=a}}}r(reportUndefinedSymbols,"reportUndefinedSymbols");function preloadDylibs(){dynamicLibraries.length?(addRunDependency("preloadDylibs"),dynamicLibraries.reduce(function(s,a){return s.then(function(){return loadDynamicLibrary(a,{loadAsync:!0,global:!0,nodelete:!0,allowUndefined:!0})})},Promise.resolve()).then(function(){reportUndefinedSymbols(),removeRunDependency("preloadDylibs")})):reportUndefinedSymbols()}r(preloadDylibs,"preloadDylibs");function setValue(s,a,c="i8"){switch(c.endsWith("*")&&(c="*"),c){case"i1":case"i8":HEAP8[s>>0]=a;break;case"i16":HEAP16[s>>1]=a;break;case"i32":HEAP32[s>>2]=a;break;case"i64":tempI64=[a>>>0,(tempDouble=a,+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[s>>2]=tempI64[0],HEAP32[s+4>>2]=tempI64[1];break;case"float":HEAPF32[s>>2]=a;break;case"double":HEAPF64[s>>3]=a;break;case"*":HEAPU32[s>>2]=a;break;default:abort("invalid type for setValue: "+c)}}r(setValue,"setValue");var ___memory_base=new WebAssembly.Global({value:"i32",mutable:!1},1024),___stack_pointer=new WebAssembly.Global({value:"i32",mutable:!0},78144),___table_base=new WebAssembly.Global({value:"i32",mutable:!1},1),nowIsMonotonic=!0,_emscripten_get_now;function __emscripten_get_now_is_monotonic(){return nowIsMonotonic}r(__emscripten_get_now_is_monotonic,"__emscripten_get_now_is_monotonic");function _abort(){abort("")}r(_abort,"_abort");function _emscripten_date_now(){return Date.now()}r(_emscripten_date_now,"_emscripten_date_now");function _emscripten_memcpy_big(s,a,c){HEAPU8.copyWithin(s,a,a+c)}r(_emscripten_memcpy_big,"_emscripten_memcpy_big");function getHeapMax(){return 2147483648}r(getHeapMax,"getHeapMax");function emscripten_realloc_buffer(s){try{return wasmMemory.grow(s-buffer.byteLength+65535>>>16),updateGlobalBufferAndViews(wasmMemory.buffer),1}catch{}}r(emscripten_realloc_buffer,"emscripten_realloc_buffer");function _emscripten_resize_heap(s){var a=HEAPU8.length;s>>>=0;var c=getHeapMax();if(s>c)return!1;for(var l=1;l<=4;l*=2){var m=a*(1+.2/l);if(m=Math.min(m,s+100663296),emscripten_realloc_buffer(Math.min(c,(g=Math.max(s,m))+((_=65536)-g%_)%_)))return!0}var g,_;return!1}r(_emscripten_resize_heap,"_emscripten_resize_heap"),__emscripten_get_now_is_monotonic.sig="i",Module._abort=_abort,_abort.sig="v",_emscripten_date_now.sig="d",_emscripten_get_now=ENVIRONMENT_IS_NODE?()=>{var s=process.hrtime();return 1e3*s[0]+s[1]/1e6}:()=>performance.now(),_emscripten_get_now.sig="d",_emscripten_memcpy_big.sig="vppp",_emscripten_resize_heap.sig="ip";var SYSCALLS={DEFAULT_POLLMASK:5,calculateAt:r(function(s,a,c){if(PATH.isAbs(a))return a;var l;if(s===-100?l=FS.cwd():l=SYSCALLS.getStreamFromFD(s).path,a.length==0){if(!c)throw new FS.ErrnoError(44);return l}return PATH.join2(l,a)},"calculateAt"),doStat:r(function(s,a,c){try{var l=s(a)}catch(v){if(v&&v.node&&PATH.normalize(a)!==PATH.normalize(FS.getPath(v.node)))return-54;throw v}HEAP32[c>>2]=l.dev,HEAP32[c+8>>2]=l.ino,HEAP32[c+12>>2]=l.mode,HEAPU32[c+16>>2]=l.nlink,HEAP32[c+20>>2]=l.uid,HEAP32[c+24>>2]=l.gid,HEAP32[c+28>>2]=l.rdev,tempI64=[l.size>>>0,(tempDouble=l.size,+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[c+40>>2]=tempI64[0],HEAP32[c+44>>2]=tempI64[1],HEAP32[c+48>>2]=4096,HEAP32[c+52>>2]=l.blocks;var m=l.atime.getTime(),g=l.mtime.getTime(),_=l.ctime.getTime();return tempI64=[Math.floor(m/1e3)>>>0,(tempDouble=Math.floor(m/1e3),+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[c+56>>2]=tempI64[0],HEAP32[c+60>>2]=tempI64[1],HEAPU32[c+64>>2]=m%1e3*1e3,tempI64=[Math.floor(g/1e3)>>>0,(tempDouble=Math.floor(g/1e3),+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[c+72>>2]=tempI64[0],HEAP32[c+76>>2]=tempI64[1],HEAPU32[c+80>>2]=g%1e3*1e3,tempI64=[Math.floor(_/1e3)>>>0,(tempDouble=Math.floor(_/1e3),+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[c+88>>2]=tempI64[0],HEAP32[c+92>>2]=tempI64[1],HEAPU32[c+96>>2]=_%1e3*1e3,tempI64=[l.ino>>>0,(tempDouble=l.ino,+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[c+104>>2]=tempI64[0],HEAP32[c+108>>2]=tempI64[1],0},"doStat"),doMsync:r(function(s,a,c,l,m){if(!FS.isFile(a.node.mode))throw new FS.ErrnoError(43);if(2&l)return 0;var g=HEAPU8.slice(s,s+c);FS.msync(a,g,m,c,l)},"doMsync"),varargs:void 0,get:r(function(){return SYSCALLS.varargs+=4,HEAP32[SYSCALLS.varargs-4>>2]},"get"),getStr:r(function(s){return UTF8ToString(s)},"getStr"),getStreamFromFD:r(function(s){var a=FS.getStream(s);if(!a)throw new FS.ErrnoError(8);return a},"getStreamFromFD")};function _proc_exit(s){EXITSTATUS=s,keepRuntimeAlive()||(Module.onExit&&Module.onExit(s),ABORT=!0),quit_(s,new ExitStatus(s))}r(_proc_exit,"_proc_exit");function exitJS(s,a){EXITSTATUS=s,_proc_exit(s)}r(exitJS,"exitJS"),_proc_exit.sig="vi";var _exit=exitJS;function _fd_close(s){try{var a=SYSCALLS.getStreamFromFD(s);return FS.close(a),0}catch(c){if(typeof FS>"u"||!(c instanceof FS.ErrnoError))throw c;return c.errno}}r(_fd_close,"_fd_close");function convertI32PairToI53Checked(s,a){return a+2097152>>>0<4194305-!!s?(s>>>0)+4294967296*a:NaN}r(convertI32PairToI53Checked,"convertI32PairToI53Checked");function _fd_seek(s,a,c,l,m){try{var g=convertI32PairToI53Checked(a,c);if(isNaN(g))return 61;var _=SYSCALLS.getStreamFromFD(s);return FS.llseek(_,g,l),tempI64=[_.position>>>0,(tempDouble=_.position,+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[m>>2]=tempI64[0],HEAP32[m+4>>2]=tempI64[1],_.getdents&&g===0&&l===0&&(_.getdents=null),0}catch(v){if(typeof FS>"u"||!(v instanceof FS.ErrnoError))throw v;return v.errno}}r(_fd_seek,"_fd_seek");function doWritev(s,a,c,l){for(var m=0,g=0;g<c;g++){var _=HEAPU32[a>>2],v=HEAPU32[a+4>>2];a+=8;var T=FS.write(s,HEAP8,_,v,l);if(T<0)return-1;m+=T,l!==void 0&&(l+=T)}return m}r(doWritev,"doWritev");function _fd_write(s,a,c,l){try{var m=doWritev(SYSCALLS.getStreamFromFD(s),a,c);return HEAPU32[l>>2]=m,0}catch(g){if(typeof FS>"u"||!(g instanceof FS.ErrnoError))throw g;return g.errno}}r(_fd_write,"_fd_write");function _tree_sitter_log_callback(s,a){if(currentLogCallback){let c=UTF8ToString(a);currentLogCallback(c,s!==0)}}r(_tree_sitter_log_callback,"_tree_sitter_log_callback");function _tree_sitter_parse_callback(s,a,c,l,m){var g=currentParseCallback(a,{row:c,column:l});typeof g=="string"?(setValue(m,g.length,"i32"),stringToUTF16(g,s,10240)):setValue(m,0,"i32")}r(_tree_sitter_parse_callback,"_tree_sitter_parse_callback");function handleException(s){if(s instanceof ExitStatus||s=="unwind")return EXITSTATUS;quit_(1,s)}r(handleException,"handleException");function allocateUTF8OnStack(s){var a=lengthBytesUTF8(s)+1,c=stackAlloc(a);return stringToUTF8Array(s,HEAP8,c,a),c}r(allocateUTF8OnStack,"allocateUTF8OnStack");function stringToUTF16(s,a,c){if(c===void 0&&(c=2147483647),c<2)return 0;for(var l=a,m=(c-=2)<2*s.length?c/2:s.length,g=0;g<m;++g){var _=s.charCodeAt(g);HEAP16[a>>1]=_,a+=2}return HEAP16[a>>1]=0,a-l}r(stringToUTF16,"stringToUTF16");function AsciiToString(s){for(var a="";;){var c=HEAPU8[s++>>0];if(!c)return a;a+=String.fromCharCode(c)}}r(AsciiToString,"AsciiToString"),_exit.sig="vi",_fd_close.sig="ii",_fd_seek.sig="iijip",_fd_write.sig="iippp";var asmLibraryArg={__heap_base:___heap_base,__indirect_function_table:wasmTable,__memory_base:___memory_base,__stack_pointer:___stack_pointer,__table_base:___table_base,_emscripten_get_now_is_monotonic:__emscripten_get_now_is_monotonic,abort:_abort,emscripten_get_now:_emscripten_get_now,emscripten_memcpy_big:_emscripten_memcpy_big,emscripten_resize_heap:_emscripten_resize_heap,exit:_exit,fd_close:_fd_close,fd_seek:_fd_seek,fd_write:_fd_write,memory:wasmMemory,tree_sitter_log_callback:_tree_sitter_log_callback,tree_sitter_parse_callback:_tree_sitter_parse_callback},asm=createWasm(),___wasm_call_ctors=Module.___wasm_call_ctors=function(){return(___wasm_call_ctors=Module.___wasm_call_ctors=Module.asm.__wasm_call_ctors).apply(null,arguments)},___wasm_apply_data_relocs=Module.___wasm_apply_data_relocs=function(){return(___wasm_apply_data_relocs=Module.___wasm_apply_data_relocs=Module.asm.__wasm_apply_data_relocs).apply(null,arguments)},_malloc=Module._malloc=function(){return(_malloc=Module._malloc=Module.asm.malloc).apply(null,arguments)},_calloc=Module._calloc=function(){return(_calloc=Module._calloc=Module.asm.calloc).apply(null,arguments)},_realloc=Module._realloc=function(){return(_realloc=Module._realloc=Module.asm.realloc).apply(null,arguments)},_free=Module._free=function(){return(_free=Module._free=Module.asm.free).apply(null,arguments)},_ts_language_symbol_count=Module._ts_language_symbol_count=function(){return(_ts_language_symbol_count=Module._ts_language_symbol_count=Module.asm.ts_language_symbol_count).apply(null,arguments)},_ts_language_version=Module._ts_language_version=function(){return(_ts_language_version=Module._ts_language_version=Module.asm.ts_language_version).apply(null,arguments)},_ts_language_field_count=Module._ts_language_field_count=function(){return(_ts_language_field_count=Module._ts_language_field_count=Module.asm.ts_language_field_count).apply(null,arguments)},_ts_language_symbol_name=Module._ts_language_symbol_name=function(){return(_ts_language_symbol_name=Module._ts_language_symbol_name=Module.asm.ts_language_symbol_name).apply(null,arguments)},_ts_language_symbol_for_name=Module._ts_language_symbol_for_name=function(){return(_ts_language_symbol_for_name=Module._ts_language_symbol_for_name=Module.asm.ts_language_symbol_for_name).apply(null,arguments)},_ts_language_symbol_type=Module._ts_language_symbol_type=function(){return(_ts_language_symbol_type=Module._ts_language_symbol_type=Module.asm.ts_language_symbol_type).apply(null,arguments)},_ts_language_field_name_for_id=Module._ts_language_field_name_for_id=function(){return(_ts_language_field_name_for_id=Module._ts_language_field_name_for_id=Module.asm.ts_language_field_name_for_id).apply(null,arguments)},_memset=Module._memset=function(){return(_memset=Module._memset=Module.asm.memset).apply(null,arguments)},_memcpy=Module._memcpy=function(){return(_memcpy=Module._memcpy=Module.asm.memcpy).apply(null,arguments)},_ts_parser_delete=Module._ts_parser_delete=function(){return(_ts_parser_delete=Module._ts_parser_delete=Module.asm.ts_parser_delete).apply(null,arguments)},_ts_parser_reset=Module._ts_parser_reset=function(){return(_ts_parser_reset=Module._ts_parser_reset=Module.asm.ts_parser_reset).apply(null,arguments)},_ts_parser_set_language=Module._ts_parser_set_language=function(){return(_ts_parser_set_language=Module._ts_parser_set_language=Module.asm.ts_parser_set_language).apply(null,arguments)},_ts_parser_timeout_micros=Module._ts_parser_timeout_micros=function(){return(_ts_parser_timeout_micros=Module._ts_parser_timeout_micros=Module.asm.ts_parser_timeout_micros).apply(null,arguments)},_ts_parser_set_timeout_micros=Module._ts_parser_set_timeout_micros=function(){return(_ts_parser_set_timeout_micros=Module._ts_parser_set_timeout_micros=Module.asm.ts_parser_set_timeout_micros).apply(null,arguments)},_memmove=Module._memmove=function(){return(_memmove=Module._memmove=Module.asm.memmove).apply(null,arguments)},_memcmp=Module._memcmp=function(){return(_memcmp=Module._memcmp=Module.asm.memcmp).apply(null,arguments)},_ts_query_new=Module._ts_query_new=function(){return(_ts_query_new=Module._ts_query_new=Module.asm.ts_query_new).apply(null,arguments)},_ts_query_delete=Module._ts_query_delete=function(){return(_ts_query_delete=Module._ts_query_delete=Module.asm.ts_query_delete).apply(null,arguments)},_iswspace=Module._iswspace=function(){return(_iswspace=Module._iswspace=Module.asm.iswspace).apply(null,arguments)},_iswalnum=Module._iswalnum=function(){return(_iswalnum=Module._iswalnum=Module.asm.iswalnum).apply(null,arguments)},_ts_query_pattern_count=Module._ts_query_pattern_count=function(){return(_ts_query_pattern_count=Module._ts_query_pattern_count=Module.asm.ts_query_pattern_count).apply(null,arguments)},_ts_query_capture_count=Module._ts_query_capture_count=function(){return(_ts_query_capture_count=Module._ts_query_capture_count=Module.asm.ts_query_capture_count).apply(null,arguments)},_ts_query_string_count=Module._ts_query_string_count=function(){return(_ts_query_string_count=Module._ts_query_string_count=Module.asm.ts_query_string_count).apply(null,arguments)},_ts_query_capture_name_for_id=Module._ts_query_capture_name_for_id=function(){return(_ts_query_capture_name_for_id=Module._ts_query_capture_name_for_id=Module.asm.ts_query_capture_name_for_id).apply(null,arguments)},_ts_query_string_value_for_id=Module._ts_query_string_value_for_id=function(){return(_ts_query_string_value_for_id=Module._ts_query_string_value_for_id=Module.asm.ts_query_string_value_for_id).apply(null,arguments)},_ts_query_predicates_for_pattern=Module._ts_query_predicates_for_pattern=function(){return(_ts_query_predicates_for_pattern=Module._ts_query_predicates_for_pattern=Module.asm.ts_query_predicates_for_pattern).apply(null,arguments)},_ts_tree_copy=Module._ts_tree_copy=function(){return(_ts_tree_copy=Module._ts_tree_copy=Module.asm.ts_tree_copy).apply(null,arguments)},_ts_tree_delete=Module._ts_tree_delete=function(){return(_ts_tree_delete=Module._ts_tree_delete=Module.asm.ts_tree_delete).apply(null,arguments)},_ts_init=Module._ts_init=function(){return(_ts_init=Module._ts_init=Module.asm.ts_init).apply(null,arguments)},_ts_parser_new_wasm=Module._ts_parser_new_wasm=function(){return(_ts_parser_new_wasm=Module._ts_parser_new_wasm=Module.asm.ts_parser_new_wasm).apply(null,arguments)},_ts_parser_enable_logger_wasm=Module._ts_parser_enable_logger_wasm=function(){return(_ts_parser_enable_logger_wasm=Module._ts_parser_enable_logger_wasm=Module.asm.ts_parser_enable_logger_wasm).apply(null,arguments)},_ts_parser_parse_wasm=Module._ts_parser_parse_wasm=function(){return(_ts_parser_parse_wasm=Module._ts_parser_parse_wasm=Module.asm.ts_parser_parse_wasm).apply(null,arguments)},_ts_language_type_is_named_wasm=Module._ts_language_type_is_named_wasm=function(){return(_ts_language_type_is_named_wasm=Module._ts_language_type_is_named_wasm=Module.asm.ts_language_type_is_named_wasm).apply(null,arguments)},_ts_language_type_is_visible_wasm=Module._ts_language_type_is_visible_wasm=function(){return(_ts_language_type_is_visible_wasm=Module._ts_language_type_is_visible_wasm=Module.asm.ts_language_type_is_visible_wasm).apply(null,arguments)},_ts_tree_root_node_wasm=Module._ts_tree_root_node_wasm=function(){return(_ts_tree_root_node_wasm=Module._ts_tree_root_node_wasm=Module.asm.ts_tree_root_node_wasm).apply(null,arguments)},_ts_tree_edit_wasm=Module._ts_tree_edit_wasm=function(){return(_ts_tree_edit_wasm=Module._ts_tree_edit_wasm=Module.asm.ts_tree_edit_wasm).apply(null,arguments)},_ts_tree_get_changed_ranges_wasm=Module._ts_tree_get_changed_ranges_wasm=function(){return(_ts_tree_get_changed_ranges_wasm=Module._ts_tree_get_changed_ranges_wasm=Module.asm.ts_tree_get_changed_ranges_wasm).apply(null,arguments)},_ts_tree_cursor_new_wasm=Module._ts_tree_cursor_new_wasm=function(){return(_ts_tree_cursor_new_wasm=Module._ts_tree_cursor_new_wasm=Module.asm.ts_tree_cursor_new_wasm).apply(null,arguments)},_ts_tree_cursor_delete_wasm=Module._ts_tree_cursor_delete_wasm=function(){return(_ts_tree_cursor_delete_wasm=Module._ts_tree_cursor_delete_wasm=Module.asm.ts_tree_cursor_delete_wasm).apply(null,arguments)},_ts_tree_cursor_reset_wasm=Module._ts_tree_cursor_reset_wasm=function(){return(_ts_tree_cursor_reset_wasm=Module._ts_tree_cursor_reset_wasm=Module.asm.ts_tree_cursor_reset_wasm).apply(null,arguments)},_ts_tree_cursor_goto_first_child_wasm=Module._ts_tree_cursor_goto_first_child_wasm=function(){return(_ts_tree_cursor_goto_first_child_wasm=Module._ts_tree_cursor_goto_first_child_wasm=Module.asm.ts_tree_cursor_goto_first_child_wasm).apply(null,arguments)},_ts_tree_cursor_goto_next_sibling_wasm=Module._ts_tree_cursor_goto_next_sibling_wasm=function(){return(_ts_tree_cursor_goto_next_sibling_wasm=Module._ts_tree_cursor_goto_next_sibling_wasm=Module.asm.ts_tree_cursor_goto_next_sibling_wasm).apply(null,arguments)},_ts_tree_cursor_goto_parent_wasm=Module._ts_tree_cursor_goto_parent_wasm=function(){return(_ts_tree_cursor_goto_parent_wasm=Module._ts_tree_cursor_goto_parent_wasm=Module.asm.ts_tree_cursor_goto_parent_wasm).apply(null,arguments)},_ts_tree_cursor_current_node_type_id_wasm=Module._ts_tree_cursor_current_node_type_id_wasm=function(){return(_ts_tree_cursor_current_node_type_id_wasm=Module._ts_tree_cursor_current_node_type_id_wasm=Module.asm.ts_tree_cursor_current_node_type_id_wasm).apply(null,arguments)},_ts_tree_cursor_current_node_is_named_wasm=Module._ts_tree_cursor_current_node_is_named_wasm=function(){return(_ts_tree_cursor_current_node_is_named_wasm=Module._ts_tree_cursor_current_node_is_named_wasm=Module.asm.ts_tree_cursor_current_node_is_named_wasm).apply(null,arguments)},_ts_tree_cursor_current_node_is_missing_wasm=Module._ts_tree_cursor_current_node_is_missing_wasm=function(){return(_ts_tree_cursor_current_node_is_missing_wasm=Module._ts_tree_cursor_current_node_is_missing_wasm=Module.asm.ts_tree_cursor_current_node_is_missing_wasm).apply(null,arguments)},_ts_tree_cursor_current_node_id_wasm=Module._ts_tree_cursor_current_node_id_wasm=function(){return(_ts_tree_cursor_current_node_id_wasm=Module._ts_tree_cursor_current_node_id_wasm=Module.asm.ts_tree_cursor_current_node_id_wasm).apply(null,arguments)},_ts_tree_cursor_start_position_wasm=Module._ts_tree_cursor_start_position_wasm=function(){return(_ts_tree_cursor_start_position_wasm=Module._ts_tree_cursor_start_position_wasm=Module.asm.ts_tree_cursor_start_position_wasm).apply(null,arguments)},_ts_tree_cursor_end_position_wasm=Module._ts_tree_cursor_end_position_wasm=function(){return(_ts_tree_cursor_end_position_wasm=Module._ts_tree_cursor_end_position_wasm=Module.asm.ts_tree_cursor_end_position_wasm).apply(null,arguments)},_ts_tree_cursor_start_index_wasm=Module._ts_tree_cursor_start_index_wasm=function(){return(_ts_tree_cursor_start_index_wasm=Module._ts_tree_cursor_start_index_wasm=Module.asm.ts_tree_cursor_start_index_wasm).apply(null,arguments)},_ts_tree_cursor_end_index_wasm=Module._ts_tree_cursor_end_index_wasm=function(){return(_ts_tree_cursor_end_index_wasm=Module._ts_tree_cursor_end_index_wasm=Module.asm.ts_tree_cursor_end_index_wasm).apply(null,arguments)},_ts_tree_cursor_current_field_id_wasm=Module._ts_tree_cursor_current_field_id_wasm=function(){return(_ts_tree_cursor_current_field_id_wasm=Module._ts_tree_cursor_current_field_id_wasm=Module.asm.ts_tree_cursor_current_field_id_wasm).apply(null,arguments)},_ts_tree_cursor_current_node_wasm=Module._ts_tree_cursor_current_node_wasm=function(){return(_ts_tree_cursor_current_node_wasm=Module._ts_tree_cursor_current_node_wasm=Module.asm.ts_tree_cursor_current_node_wasm).apply(null,arguments)},_ts_node_symbol_wasm=Module._ts_node_symbol_wasm=function(){return(_ts_node_symbol_wasm=Module._ts_node_symbol_wasm=Module.asm.ts_node_symbol_wasm).apply(null,arguments)},_ts_node_child_count_wasm=Module._ts_node_child_count_wasm=function(){return(_ts_node_child_count_wasm=Module._ts_node_child_count_wasm=Module.asm.ts_node_child_count_wasm).apply(null,arguments)},_ts_node_named_child_count_wasm=Module._ts_node_named_child_count_wasm=function(){return(_ts_node_named_child_count_wasm=Module._ts_node_named_child_count_wasm=Module.asm.ts_node_named_child_count_wasm).apply(null,arguments)},_ts_node_child_wasm=Module._ts_node_child_wasm=function(){return(_ts_node_child_wasm=Module._ts_node_child_wasm=Module.asm.ts_node_child_wasm).apply(null,arguments)},_ts_node_named_child_wasm=Module._ts_node_named_child_wasm=function(){return(_ts_node_named_child_wasm=Module._ts_node_named_child_wasm=Module.asm.ts_node_named_child_wasm).apply(null,arguments)},_ts_node_child_by_field_id_wasm=Module._ts_node_child_by_field_id_wasm=function(){return(_ts_node_child_by_field_id_wasm=Module._ts_node_child_by_field_id_wasm=Module.asm.ts_node_child_by_field_id_wasm).apply(null,arguments)},_ts_node_next_sibling_wasm=Module._ts_node_next_sibling_wasm=function(){return(_ts_node_next_sibling_wasm=Module._ts_node_next_sibling_wasm=Module.asm.ts_node_next_sibling_wasm).apply(null,arguments)},_ts_node_prev_sibling_wasm=Module._ts_node_prev_sibling_wasm=function(){return(_ts_node_prev_sibling_wasm=Module._ts_node_prev_sibling_wasm=Module.asm.ts_node_prev_sibling_wasm).apply(null,arguments)},_ts_node_next_named_sibling_wasm=Module._ts_node_next_named_sibling_wasm=function(){return(_ts_node_next_named_sibling_wasm=Module._ts_node_next_named_sibling_wasm=Module.asm.ts_node_next_named_sibling_wasm).apply(null,arguments)},_ts_node_prev_named_sibling_wasm=Module._ts_node_prev_named_sibling_wasm=function(){return(_ts_node_prev_named_sibling_wasm=Module._ts_node_prev_named_sibling_wasm=Module.asm.ts_node_prev_named_sibling_wasm).apply(null,arguments)},_ts_node_parent_wasm=Module._ts_node_parent_wasm=function(){return(_ts_node_parent_wasm=Module._ts_node_parent_wasm=Module.asm.ts_node_parent_wasm).apply(null,arguments)},_ts_node_descendant_for_index_wasm=Module._ts_node_descendant_for_index_wasm=function(){return(_ts_node_descendant_for_index_wasm=Module._ts_node_descendant_for_index_wasm=Module.asm.ts_node_descendant_for_index_wasm).apply(null,arguments)},_ts_node_named_descendant_for_index_wasm=Module._ts_node_named_descendant_for_index_wasm=function(){return(_ts_node_named_descendant_for_index_wasm=Module._ts_node_named_descendant_for_index_wasm=Module.asm.ts_node_named_descendant_for_index_wasm).apply(null,arguments)},_ts_node_descendant_for_position_wasm=Module._ts_node_descendant_for_position_wasm=function(){return(_ts_node_descendant_for_position_wasm=Module._ts_node_descendant_for_position_wasm=Module.asm.ts_node_descendant_for_position_wasm).apply(null,arguments)},_ts_node_named_descendant_for_position_wasm=Module._ts_node_named_descendant_for_position_wasm=function(){return(_ts_node_named_descendant_for_position_wasm=Module._ts_node_named_descendant_for_position_wasm=Module.asm.ts_node_named_descendant_for_position_wasm).apply(null,arguments)},_ts_node_start_point_wasm=Module._ts_node_start_point_wasm=function(){return(_ts_node_start_point_wasm=Module._ts_node_start_point_wasm=Module.asm.ts_node_start_point_wasm).apply(null,arguments)},_ts_node_end_point_wasm=Module._ts_node_end_point_wasm=function(){return(_ts_node_end_point_wasm=Module._ts_node_end_point_wasm=Module.asm.ts_node_end_point_wasm).apply(null,arguments)},_ts_node_start_index_wasm=Module._ts_node_start_index_wasm=function(){return(_ts_node_start_index_wasm=Module._ts_node_start_index_wasm=Module.asm.ts_node_start_index_wasm).apply(null,arguments)},_ts_node_end_index_wasm=Module._ts_node_end_index_wasm=function(){return(_ts_node_end_index_wasm=Module._ts_node_end_index_wasm=Module.asm.ts_node_end_index_wasm).apply(null,arguments)},_ts_node_to_string_wasm=Module._ts_node_to_string_wasm=function(){return(_ts_node_to_string_wasm=Module._ts_node_to_string_wasm=Module.asm.ts_node_to_string_wasm).apply(null,arguments)},_ts_node_children_wasm=Module._ts_node_children_wasm=function(){return(_ts_node_children_wasm=Module._ts_node_children_wasm=Module.asm.ts_node_children_wasm).apply(null,arguments)},_ts_node_named_children_wasm=Module._ts_node_named_children_wasm=function(){return(_ts_node_named_children_wasm=Module._ts_node_named_children_wasm=Module.asm.ts_node_named_children_wasm).apply(null,arguments)},_ts_node_descendants_of_type_wasm=Module._ts_node_descendants_of_type_wasm=function(){return(_ts_node_descendants_of_type_wasm=Module._ts_node_descendants_of_type_wasm=Module.asm.ts_node_descendants_of_type_wasm).apply(null,arguments)},_ts_node_is_named_wasm=Module._ts_node_is_named_wasm=function(){return(_ts_node_is_named_wasm=Module._ts_node_is_named_wasm=Module.asm.ts_node_is_named_wasm).apply(null,arguments)},_ts_node_has_changes_wasm=Module._ts_node_has_changes_wasm=function(){return(_ts_node_has_changes_wasm=Module._ts_node_has_changes_wasm=Module.asm.ts_node_has_changes_wasm).apply(null,arguments)},_ts_node_has_error_wasm=Module._ts_node_has_error_wasm=function(){return(_ts_node_has_error_wasm=Module._ts_node_has_error_wasm=Module.asm.ts_node_has_error_wasm).apply(null,arguments)},_ts_node_is_missing_wasm=Module._ts_node_is_missing_wasm=function(){return(_ts_node_is_missing_wasm=Module._ts_node_is_missing_wasm=Module.asm.ts_node_is_missing_wasm).apply(null,arguments)},_ts_query_matches_wasm=Module._ts_query_matches_wasm=function(){return(_ts_query_matches_wasm=Module._ts_query_matches_wasm=Module.asm.ts_query_matches_wasm).apply(null,arguments)},_ts_query_captures_wasm=Module._ts_query_captures_wasm=function(){return(_ts_query_captures_wasm=Module._ts_query_captures_wasm=Module.asm.ts_query_captures_wasm).apply(null,arguments)},___cxa_atexit=Module.___cxa_atexit=function(){return(___cxa_atexit=Module.___cxa_atexit=Module.asm.__cxa_atexit).apply(null,arguments)},_iswdigit=Module._iswdigit=function(){return(_iswdigit=Module._iswdigit=Module.asm.iswdigit).apply(null,arguments)},_iswalpha=Module._iswalpha=function(){return(_iswalpha=Module._iswalpha=Module.asm.iswalpha).apply(null,arguments)},_iswlower=Module._iswlower=function(){return(_iswlower=Module._iswlower=Module.asm.iswlower).apply(null,arguments)},_memchr=Module._memchr=function(){return(_memchr=Module._memchr=Module.asm.memchr).apply(null,arguments)},_strlen=Module._strlen=function(){return(_strlen=Module._strlen=Module.asm.strlen).apply(null,arguments)},_towupper=Module._towupper=function(){return(_towupper=Module._towupper=Module.asm.towupper).apply(null,arguments)},_setThrew=Module._setThrew=function(){return(_setThrew=Module._setThrew=Module.asm.setThrew).apply(null,arguments)},stackSave=Module.stackSave=function(){return(stackSave=Module.stackSave=Module.asm.stackSave).apply(null,arguments)},stackRestore=Module.stackRestore=function(){return(stackRestore=Module.stackRestore=Module.asm.stackRestore).apply(null,arguments)},stackAlloc=Module.stackAlloc=function(){return(stackAlloc=Module.stackAlloc=Module.asm.stackAlloc).apply(null,arguments)},__Znwm=Module.__Znwm=function(){return(__Znwm=Module.__Znwm=Module.asm._Znwm).apply(null,arguments)},__ZdlPv=Module.__ZdlPv=function(){return(__ZdlPv=Module.__ZdlPv=Module.asm._ZdlPv).apply(null,arguments)},__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEED2Ev=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEED2Ev=function(){return(__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEED2Ev=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEED2Ev=Module.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEED2Ev).apply(null,arguments)},__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9__grow_byEmmmmmm=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9__grow_byEmmmmmm=function(){return(__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9__grow_byEmmmmmm=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9__grow_byEmmmmmm=Module.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9__grow_byEmmmmmm).apply(null,arguments)},__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE6__initEPKcm=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE6__initEPKcm=function(){return(__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE6__initEPKcm=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE6__initEPKcm=Module.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE6__initEPKcm).apply(null,arguments)},__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE7reserveEm=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE7reserveEm=function(){return(__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE7reserveEm=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE7reserveEm=Module.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE7reserveEm).apply(null,arguments)},__ZNKSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE4copyEPcmm=Module.__ZNKSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE4copyEPcmm=function(){return(__ZNKSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE4copyEPcmm=Module.__ZNKSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE4copyEPcmm=Module.asm._ZNKSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE4copyEPcmm).apply(null,arguments)},__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9push_backEc=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9push_backEc=function(){return(__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9push_backEc=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9push_backEc=Module.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9push_backEc).apply(null,arguments)},__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEED2Ev=Module.__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEED2Ev=function(){return(__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEED2Ev=Module.__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEED2Ev=Module.asm._ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEED2Ev).apply(null,arguments)},__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE9push_backEw=Module.__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE9push_backEw=function(){return(__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE9push_backEw=Module.__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE9push_backEw=Module.asm._ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE9push_backEw).apply(null,arguments)},__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE6resizeEmw=Module.__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE6resizeEmw=function(){return(__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE6resizeEmw=Module.__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE6resizeEmw=Module.asm._ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE6resizeEmw).apply(null,arguments)},dynCall_jiji=Module.dynCall_jiji=function(){return(dynCall_jiji=Module.dynCall_jiji=Module.asm.dynCall_jiji).apply(null,arguments)},_orig$ts_parser_timeout_micros=Module._orig$ts_parser_timeout_micros=function(){return(_orig$ts_parser_timeout_micros=Module._orig$ts_parser_timeout_micros=Module.asm.orig$ts_parser_timeout_micros).apply(null,arguments)},_orig$ts_parser_set_timeout_micros=Module._orig$ts_parser_set_timeout_micros=function(){return(_orig$ts_parser_set_timeout_micros=Module._orig$ts_parser_set_timeout_micros=Module.asm.orig$ts_parser_set_timeout_micros).apply(null,arguments)},calledRun;function callMain(s){var a=Module._main;if(a){(s=s||[]).unshift(thisProgram);var c=s.length,l=stackAlloc(4*(c+1)),m=l>>2;s.forEach(_=>{HEAP32[m++]=allocateUTF8OnStack(_)}),HEAP32[m]=0;try{var g=a(c,l);return exitJS(g,!0),g}catch(_){return handleException(_)}}}r(callMain,"callMain"),Module.AsciiToString=AsciiToString,Module.stringToUTF16=stringToUTF16,dependenciesFulfilled=r(function s(){calledRun||run(),calledRun||(dependenciesFulfilled=s)},"e");var dylibsLoaded=!1;function run(s){function a(){calledRun||(calledRun=!0,Module.calledRun=!0,ABORT||(initRuntime(),preMain(),Module.onRuntimeInitialized&&Module.onRuntimeInitialized(),shouldRunNow&&callMain(s),postRun()))}r(a,"t"),s=s||arguments_,runDependencies>0||!dylibsLoaded&&(preloadDylibs(),dylibsLoaded=!0,runDependencies>0)||(preRun(),runDependencies>0||(Module.setStatus?(Module.setStatus("Running..."),setTimeout(function(){setTimeout(function(){Module.setStatus("")},1),a()},1)):a()))}if(r(run,"run"),Module.preInit)for(typeof Module.preInit=="function"&&(Module.preInit=[Module.preInit]);Module.preInit.length>0;)Module.preInit.pop()();var shouldRunNow=!0;Module.noInitialRun&&(shouldRunNow=!1),run();let C=Module,INTERNAL={},SIZE_OF_INT=4,SIZE_OF_NODE=5*SIZE_OF_INT,SIZE_OF_POINT=2*SIZE_OF_INT,SIZE_OF_RANGE=2*SIZE_OF_INT+2*SIZE_OF_POINT,ZERO_POINT={row:0,column:0},QUERY_WORD_REGEX=/[\w-.]*/g,PREDICATE_STEP_TYPE_CAPTURE=1,PREDICATE_STEP_TYPE_STRING=2,LANGUAGE_FUNCTION_REGEX=/^_?tree_sitter_\w+/;var VERSION,MIN_COMPATIBLE_VERSION,TRANSFER_BUFFER,currentParseCallback,currentLogCallback;let e=class e{static init(){TRANSFER_BUFFER=C._ts_init(),VERSION=getValue(TRANSFER_BUFFER,"i32"),MIN_COMPATIBLE_VERSION=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32")}initialize(){C._ts_parser_new_wasm(),this[0]=getValue(TRANSFER_BUFFER,"i32"),this[1]=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32")}delete(){C._ts_parser_delete(this[0]),C._free(this[1]),this[0]=0,this[1]=0}setLanguage(a){let c;if(a){if(a.constructor!==Language)throw new Error("Argument must be a Language");{c=a[0];let l=C._ts_language_version(c);if(l<MIN_COMPATIBLE_VERSION||VERSION<l)throw new Error(`Incompatible language version ${l}. Compatibility range ${MIN_COMPATIBLE_VERSION} through ${VERSION}.`)}}else c=0,a=null;return this.language=a,C._ts_parser_set_language(this[0],c),this}getLanguage(){return this.language}parse(a,c,l){if(typeof a=="string")currentParseCallback=r((T,P,j)=>a.slice(T,j),"currentParseCallback");else{if(typeof a!="function")throw new Error("Argument must be a string or a function");currentParseCallback=a}this.logCallback?(currentLogCallback=this.logCallback,C._ts_parser_enable_logger_wasm(this[0],1)):(currentLogCallback=null,C._ts_parser_enable_logger_wasm(this[0],0));let m=0,g=0;if(l&&l.includedRanges){m=l.includedRanges.length,g=C._calloc(m,SIZE_OF_RANGE);let T=g;for(let P=0;P<m;P++)marshalRange(T,l.includedRanges[P]),T+=SIZE_OF_RANGE}let _=C._ts_parser_parse_wasm(this[0],this[1],c?c[0]:0,g,m);if(!_)throw currentParseCallback=null,currentLogCallback=null,new Error("Parsing failed");let v=new Tree(INTERNAL,_,this.language,currentParseCallback);return currentParseCallback=null,currentLogCallback=null,v}reset(){C._ts_parser_reset(this[0])}setTimeoutMicros(a){C._ts_parser_set_timeout_micros(this[0],a)}getTimeoutMicros(){return C._ts_parser_timeout_micros(this[0])}setLogger(a){if(a){if(typeof a!="function")throw new Error("Logger callback must be a function")}else a=null;return this.logCallback=a,this}getLogger(){return this.logCallback}};r(e,"ParserImpl");let ParserImpl=e,t=class t{constructor(a,c,l,m){assertInternal(a),this[0]=c,this.language=l,this.textCallback=m}copy(){let a=C._ts_tree_copy(this[0]);return new t(INTERNAL,a,this.language,this.textCallback)}delete(){C._ts_tree_delete(this[0]),this[0]=0}edit(a){marshalEdit(a),C._ts_tree_edit_wasm(this[0])}get rootNode(){return C._ts_tree_root_node_wasm(this[0]),unmarshalNode(this)}getLanguage(){return this.language}walk(){return this.rootNode.walk()}getChangedRanges(a){if(a.constructor!==t)throw new TypeError("Argument must be a Tree");C._ts_tree_get_changed_ranges_wasm(this[0],a[0]);let c=getValue(TRANSFER_BUFFER,"i32"),l=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32"),m=new Array(c);if(c>0){let g=l;for(let _=0;_<c;_++)m[_]=unmarshalRange(g),g+=SIZE_OF_RANGE;C._free(l)}return m}};r(t,"Tree");let Tree=t,n=class n{constructor(a,c){assertInternal(a),this.tree=c}get typeId(){return marshalNode(this),C._ts_node_symbol_wasm(this.tree[0])}get type(){return this.tree.language.types[this.typeId]||"ERROR"}get endPosition(){return marshalNode(this),C._ts_node_end_point_wasm(this.tree[0]),unmarshalPoint(TRANSFER_BUFFER)}get endIndex(){return marshalNode(this),C._ts_node_end_index_wasm(this.tree[0])}get text(){return getText(this.tree,this.startIndex,this.endIndex)}isNamed(){return marshalNode(this),C._ts_node_is_named_wasm(this.tree[0])===1}hasError(){return marshalNode(this),C._ts_node_has_error_wasm(this.tree[0])===1}hasChanges(){return marshalNode(this),C._ts_node_has_changes_wasm(this.tree[0])===1}isMissing(){return marshalNode(this),C._ts_node_is_missing_wasm(this.tree[0])===1}equals(a){return this.id===a.id}child(a){return marshalNode(this),C._ts_node_child_wasm(this.tree[0],a),unmarshalNode(this.tree)}namedChild(a){return marshalNode(this),C._ts_node_named_child_wasm(this.tree[0],a),unmarshalNode(this.tree)}childForFieldId(a){return marshalNode(this),C._ts_node_child_by_field_id_wasm(this.tree[0],a),unmarshalNode(this.tree)}childForFieldName(a){let c=this.tree.language.fields.indexOf(a);if(c!==-1)return this.childForFieldId(c)}get childCount(){return marshalNode(this),C._ts_node_child_count_wasm(this.tree[0])}get namedChildCount(){return marshalNode(this),C._ts_node_named_child_count_wasm(this.tree[0])}get firstChild(){return this.child(0)}get firstNamedChild(){return this.namedChild(0)}get lastChild(){return this.child(this.childCount-1)}get lastNamedChild(){return this.namedChild(this.namedChildCount-1)}get children(){if(!this._children){marshalNode(this),C._ts_node_children_wasm(this.tree[0]);let a=getValue(TRANSFER_BUFFER,"i32"),c=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32");if(this._children=new Array(a),a>0){let l=c;for(let m=0;m<a;m++)this._children[m]=unmarshalNode(this.tree,l),l+=SIZE_OF_NODE;C._free(c)}}return this._children}get namedChildren(){if(!this._namedChildren){marshalNode(this),C._ts_node_named_children_wasm(this.tree[0]);let a=getValue(TRANSFER_BUFFER,"i32"),c=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32");if(this._namedChildren=new Array(a),a>0){let l=c;for(let m=0;m<a;m++)this._namedChildren[m]=unmarshalNode(this.tree,l),l+=SIZE_OF_NODE;C._free(c)}}return this._namedChildren}descendantsOfType(a,c,l){Array.isArray(a)||(a=[a]),c||(c=ZERO_POINT),l||(l=ZERO_POINT);let m=[],g=this.tree.language.types;for(let j=0,L=g.length;j<L;j++)a.includes(g[j])&&m.push(j);let _=C._malloc(SIZE_OF_INT*m.length);for(let j=0,L=m.length;j<L;j++)setValue(_+j*SIZE_OF_INT,m[j],"i32");marshalNode(this),C._ts_node_descendants_of_type_wasm(this.tree[0],_,m.length,c.row,c.column,l.row,l.column);let v=getValue(TRANSFER_BUFFER,"i32"),T=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32"),P=new Array(v);if(v>0){let j=T;for(let L=0;L<v;L++)P[L]=unmarshalNode(this.tree,j),j+=SIZE_OF_NODE}return C._free(T),C._free(_),P}get nextSibling(){return marshalNode(this),C._ts_node_next_sibling_wasm(this.tree[0]),unmarshalNode(this.tree)}get previousSibling(){return marshalNode(this),C._ts_node_prev_sibling_wasm(this.tree[0]),unmarshalNode(this.tree)}get nextNamedSibling(){return marshalNode(this),C._ts_node_next_named_sibling_wasm(this.tree[0]),unmarshalNode(this.tree)}get previousNamedSibling(){return marshalNode(this),C._ts_node_prev_named_sibling_wasm(this.tree[0]),unmarshalNode(this.tree)}get parent(){return marshalNode(this),C._ts_node_parent_wasm(this.tree[0]),unmarshalNode(this.tree)}descendantForIndex(a,c=a){if(typeof a!="number"||typeof c!="number")throw new Error("Arguments must be numbers");marshalNode(this);let l=TRANSFER_BUFFER+SIZE_OF_NODE;return setValue(l,a,"i32"),setValue(l+SIZE_OF_INT,c,"i32"),C._ts_node_descendant_for_index_wasm(this.tree[0]),unmarshalNode(this.tree)}namedDescendantForIndex(a,c=a){if(typeof a!="number"||typeof c!="number")throw new Error("Arguments must be numbers");marshalNode(this);let l=TRANSFER_BUFFER+SIZE_OF_NODE;return setValue(l,a,"i32"),setValue(l+SIZE_OF_INT,c,"i32"),C._ts_node_named_descendant_for_index_wasm(this.tree[0]),unmarshalNode(this.tree)}descendantForPosition(a,c=a){if(!isPoint(a)||!isPoint(c))throw new Error("Arguments must be {row, column} objects");marshalNode(this);let l=TRANSFER_BUFFER+SIZE_OF_NODE;return marshalPoint(l,a),marshalPoint(l+SIZE_OF_POINT,c),C._ts_node_descendant_for_position_wasm(this.tree[0]),unmarshalNode(this.tree)}namedDescendantForPosition(a,c=a){if(!isPoint(a)||!isPoint(c))throw new Error("Arguments must be {row, column} objects");marshalNode(this);let l=TRANSFER_BUFFER+SIZE_OF_NODE;return marshalPoint(l,a),marshalPoint(l+SIZE_OF_POINT,c),C._ts_node_named_descendant_for_position_wasm(this.tree[0]),unmarshalNode(this.tree)}walk(){return marshalNode(this),C._ts_tree_cursor_new_wasm(this.tree[0]),new TreeCursor(INTERNAL,this.tree)}toString(){marshalNode(this);let a=C._ts_node_to_string_wasm(this.tree[0]),c=AsciiToString(a);return C._free(a),c}};r(n,"Node");let Node=n,o=class o{constructor(a,c){assertInternal(a),this.tree=c,unmarshalTreeCursor(this)}delete(){marshalTreeCursor(this),C._ts_tree_cursor_delete_wasm(this.tree[0]),this[0]=this[1]=this[2]=0}reset(a){marshalNode(a),marshalTreeCursor(this,TRANSFER_BUFFER+SIZE_OF_NODE),C._ts_tree_cursor_reset_wasm(this.tree[0]),unmarshalTreeCursor(this)}get nodeType(){return this.tree.language.types[this.nodeTypeId]||"ERROR"}get nodeTypeId(){return marshalTreeCursor(this),C._ts_tree_cursor_current_node_type_id_wasm(this.tree[0])}get nodeId(){return marshalTreeCursor(this),C._ts_tree_cursor_current_node_id_wasm(this.tree[0])}get nodeIsNamed(){return marshalTreeCursor(this),C._ts_tree_cursor_current_node_is_named_wasm(this.tree[0])===1}get nodeIsMissing(){return marshalTreeCursor(this),C._ts_tree_cursor_current_node_is_missing_wasm(this.tree[0])===1}get nodeText(){marshalTreeCursor(this);let a=C._ts_tree_cursor_start_index_wasm(this.tree[0]),c=C._ts_tree_cursor_end_index_wasm(this.tree[0]);return getText(this.tree,a,c)}get startPosition(){return marshalTreeCursor(this),C._ts_tree_cursor_start_position_wasm(this.tree[0]),unmarshalPoint(TRANSFER_BUFFER)}get endPosition(){return marshalTreeCursor(this),C._ts_tree_cursor_end_position_wasm(this.tree[0]),unmarshalPoint(TRANSFER_BUFFER)}get startIndex(){return marshalTreeCursor(this),C._ts_tree_cursor_start_index_wasm(this.tree[0])}get endIndex(){return marshalTreeCursor(this),C._ts_tree_cursor_end_index_wasm(this.tree[0])}currentNode(){return marshalTreeCursor(this),C._ts_tree_cursor_current_node_wasm(this.tree[0]),unmarshalNode(this.tree)}currentFieldId(){return marshalTreeCursor(this),C._ts_tree_cursor_current_field_id_wasm(this.tree[0])}currentFieldName(){return this.tree.language.fields[this.currentFieldId()]}gotoFirstChild(){marshalTreeCursor(this);let a=C._ts_tree_cursor_goto_first_child_wasm(this.tree[0]);return unmarshalTreeCursor(this),a===1}gotoNextSibling(){marshalTreeCursor(this);let a=C._ts_tree_cursor_goto_next_sibling_wasm(this.tree[0]);return unmarshalTreeCursor(this),a===1}gotoParent(){marshalTreeCursor(this);let a=C._ts_tree_cursor_goto_parent_wasm(this.tree[0]);return unmarshalTreeCursor(this),a===1}};r(o,"TreeCursor");let TreeCursor=o,i=class i{constructor(a,c){assertInternal(a),this[0]=c,this.types=new Array(C._ts_language_symbol_count(this[0]));for(let l=0,m=this.types.length;l<m;l++)C._ts_language_symbol_type(this[0],l)<2&&(this.types[l]=UTF8ToString(C._ts_language_symbol_name(this[0],l)));this.fields=new Array(C._ts_language_field_count(this[0])+1);for(let l=0,m=this.fields.length;l<m;l++){let g=C._ts_language_field_name_for_id(this[0],l);this.fields[l]=g!==0?UTF8ToString(g):null}}get version(){return C._ts_language_version(this[0])}get fieldCount(){return this.fields.length-1}fieldIdForName(a){let c=this.fields.indexOf(a);return c!==-1?c:null}fieldNameForId(a){return this.fields[a]||null}idForNodeType(a,c){let l=lengthBytesUTF8(a),m=C._malloc(l+1);stringToUTF8(a,m,l+1);let g=C._ts_language_symbol_for_name(this[0],m,l,c);return C._free(m),g||null}get nodeTypeCount(){return C._ts_language_symbol_count(this[0])}nodeTypeForId(a){let c=C._ts_language_symbol_name(this[0],a);return c?UTF8ToString(c):null}nodeTypeIsNamed(a){return!!C._ts_language_type_is_named_wasm(this[0],a)}nodeTypeIsVisible(a){return!!C._ts_language_type_is_visible_wasm(this[0],a)}query(a){let c=lengthBytesUTF8(a),l=C._malloc(c+1);stringToUTF8(a,l,c+1);let m=C._ts_query_new(this[0],l,c,TRANSFER_BUFFER,TRANSFER_BUFFER+SIZE_OF_INT);if(!m){let V=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32"),re=UTF8ToString(l,getValue(TRANSFER_BUFFER,"i32")).length,ne=a.substr(re,100).split(`
`)[0],U,ie=ne.match(QUERY_WORD_REGEX)[0];switch(V){case 2:U=new RangeError(`Bad node name '${ie}'`);break;case 3:U=new RangeError(`Bad field name '${ie}'`);break;case 4:U=new RangeError(`Bad capture name @${ie}`);break;case 5:U=new TypeError(`Bad pattern structure at offset ${re}: '${ne}'...`),ie="";break;default:U=new SyntaxError(`Bad syntax at offset ${re}: '${ne}'...`),ie=""}throw U.index=re,U.length=ie.length,C._free(l),U}let g=C._ts_query_string_count(m),_=C._ts_query_capture_count(m),v=C._ts_query_pattern_count(m),T=new Array(_),P=new Array(g);for(let V=0;V<_;V++){let re=C._ts_query_capture_name_for_id(m,V,TRANSFER_BUFFER),ne=getValue(TRANSFER_BUFFER,"i32");T[V]=UTF8ToString(re,ne)}for(let V=0;V<g;V++){let re=C._ts_query_string_value_for_id(m,V,TRANSFER_BUFFER),ne=getValue(TRANSFER_BUFFER,"i32");P[V]=UTF8ToString(re,ne)}let j=new Array(v),L=new Array(v),Q=new Array(v),$=new Array(v),Y=new Array(v);for(let V=0;V<v;V++){let re=C._ts_query_predicates_for_pattern(m,V,TRANSFER_BUFFER),ne=getValue(TRANSFER_BUFFER,"i32");$[V]=[],Y[V]=[];let U=[],ie=re;for(let ot=0;ot<ne;ot++){let mt=getValue(ie,"i32");ie+=SIZE_OF_INT;let Be=getValue(ie,"i32");if(ie+=SIZE_OF_INT,mt===PREDICATE_STEP_TYPE_CAPTURE)U.push({type:"capture",name:T[Be]});else if(mt===PREDICATE_STEP_TYPE_STRING)U.push({type:"string",value:P[Be]});else if(U.length>0){if(U[0].type!=="string")throw new Error("Predicates must begin with a literal value");let W=U[0].value,M=!0;switch(W){case"not-eq?":M=!1;case"eq?":if(U.length!==3)throw new Error("Wrong number of arguments to `#eq?` predicate. Expected 2, got "+(U.length-1));if(U[1].type!=="capture")throw new Error(`First argument of \`#eq?\` predicate must be a capture. Got "${U[1].value}"`);if(U[2].type==="capture"){let O=U[1].name,D=U[2].name;Y[V].push(function(z){let J,H;for(let se of z)se.name===O&&(J=se.node),se.name===D&&(H=se.node);return J===void 0||H===void 0||J.text===H.text===M})}else{let O=U[1].name,D=U[2].value;Y[V].push(function(z){for(let J of z)if(J.name===O)return J.node.text===D===M;return!0})}break;case"not-match?":M=!1;case"match?":if(U.length!==3)throw new Error(`Wrong number of arguments to \`#match?\` predicate. Expected 2, got ${U.length-1}.`);if(U[1].type!=="capture")throw new Error(`First argument of \`#match?\` predicate must be a capture. Got "${U[1].value}".`);if(U[2].type!=="string")throw new Error(`Second argument of \`#match?\` predicate must be a string. Got @${U[2].value}.`);let q=U[1].name,Z=new RegExp(U[2].value);Y[V].push(function(O){for(let D of O)if(D.name===q)return Z.test(D.node.text)===M;return!0});break;case"set!":if(U.length<2||U.length>3)throw new Error(`Wrong number of arguments to \`#set!\` predicate. Expected 1 or 2. Got ${U.length-1}.`);if(U.some(O=>O.type!=="string"))throw new Error('Arguments to `#set!` predicate must be a strings.".');j[V]||(j[V]={}),j[V][U[1].value]=U[2]?U[2].value:null;break;case"is?":case"is-not?":if(U.length<2||U.length>3)throw new Error(`Wrong number of arguments to \`#${W}\` predicate. Expected 1 or 2. Got ${U.length-1}.`);if(U.some(O=>O.type!=="string"))throw new Error(`Arguments to \`#${W}\` predicate must be a strings.".`);let k=W==="is?"?L:Q;k[V]||(k[V]={}),k[V][U[1].value]=U[2]?U[2].value:null;break;default:$[V].push({operator:W,operands:U.slice(1)})}U.length=0}}Object.freeze(j[V]),Object.freeze(L[V]),Object.freeze(Q[V])}return C._free(l),new Query(INTERNAL,m,T,Y,$,Object.freeze(j),Object.freeze(L),Object.freeze(Q))}static load(a){let c;if(a instanceof Uint8Array)c=Promise.resolve(a);else{let m=a;if(typeof process<"u"&&process.versions&&process.versions.node){let g=require("fs");c=Promise.resolve(g.readFileSync(m))}else c=fetch(m).then(g=>g.arrayBuffer().then(_=>{if(g.ok)return new Uint8Array(_);{let v=new TextDecoder("utf-8").decode(_);throw new Error(`Language.load failed with status ${g.status}.

${v}`)}}))}let l=typeof loadSideModule=="function"?loadSideModule:loadWebAssemblyModule;return c.then(m=>l(m,{loadAsync:!0})).then(m=>{let g=Object.keys(m),_=g.find(T=>LANGUAGE_FUNCTION_REGEX.test(T)&&!T.includes("external_scanner_"));_||console.log(`Couldn't find language function in WASM file. Symbols:
${JSON.stringify(g,null,2)}`);let v=m[_]();return new i(INTERNAL,v)})}};r(i,"Language");let Language=i,u=class u{constructor(a,c,l,m,g,_,v,T){assertInternal(a),this[0]=c,this.captureNames=l,this.textPredicates=m,this.predicates=g,this.setProperties=_,this.assertedProperties=v,this.refutedProperties=T,this.exceededMatchLimit=!1}delete(){C._ts_query_delete(this[0]),this[0]=0}matches(a,c,l,m){c||(c=ZERO_POINT),l||(l=ZERO_POINT),m||(m={});let g=m.matchLimit;if(g===void 0)g=0;else if(typeof g!="number")throw new Error("Arguments must be numbers");marshalNode(a),C._ts_query_matches_wasm(this[0],a.tree[0],c.row,c.column,l.row,l.column,g);let _=getValue(TRANSFER_BUFFER,"i32"),v=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32"),T=getValue(TRANSFER_BUFFER+2*SIZE_OF_INT,"i32"),P=new Array(_);this.exceededMatchLimit=!!T;let j=0,L=v;for(let Q=0;Q<_;Q++){let $=getValue(L,"i32");L+=SIZE_OF_INT;let Y=getValue(L,"i32");L+=SIZE_OF_INT;let V=new Array(Y);if(L=unmarshalCaptures(this,a.tree,L,V),this.textPredicates[$].every(re=>re(V))){P[j++]={pattern:$,captures:V};let re=this.setProperties[$];re&&(P[Q].setProperties=re);let ne=this.assertedProperties[$];ne&&(P[Q].assertedProperties=ne);let U=this.refutedProperties[$];U&&(P[Q].refutedProperties=U)}}return P.length=j,C._free(v),P}captures(a,c,l,m){c||(c=ZERO_POINT),l||(l=ZERO_POINT),m||(m={});let g=m.matchLimit;if(g===void 0)g=0;else if(typeof g!="number")throw new Error("Arguments must be numbers");marshalNode(a),C._ts_query_captures_wasm(this[0],a.tree[0],c.row,c.column,l.row,l.column,g);let _=getValue(TRANSFER_BUFFER,"i32"),v=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32"),T=getValue(TRANSFER_BUFFER+2*SIZE_OF_INT,"i32"),P=[];this.exceededMatchLimit=!!T;let j=[],L=v;for(let Q=0;Q<_;Q++){let $=getValue(L,"i32");L+=SIZE_OF_INT;let Y=getValue(L,"i32");L+=SIZE_OF_INT;let V=getValue(L,"i32");if(L+=SIZE_OF_INT,j.length=Y,L=unmarshalCaptures(this,a.tree,L,j),this.textPredicates[$].every(re=>re(j))){let re=j[V],ne=this.setProperties[$];ne&&(re.setProperties=ne);let U=this.assertedProperties[$];U&&(re.assertedProperties=U);let ie=this.refutedProperties[$];ie&&(re.refutedProperties=ie),P.push(re)}}return C._free(v),P}predicatesForPattern(a){return this.predicates[a]}didExceedMatchLimit(){return this.exceededMatchLimit}};r(u,"Query");let Query=u;function getText(s,a,c){let l=c-a,m=s.textCallback(a,null,c);for(a+=m.length;a<c;){let g=s.textCallback(a,null,c);if(!(g&&g.length>0))break;a+=g.length,m+=g}return a>c&&(m=m.slice(0,l)),m}r(getText,"getText");function unmarshalCaptures(s,a,c,l){for(let m=0,g=l.length;m<g;m++){let _=getValue(c,"i32"),v=unmarshalNode(a,c+=SIZE_OF_INT);c+=SIZE_OF_NODE,l[m]={name:s.captureNames[_],node:v}}return c}r(unmarshalCaptures,"unmarshalCaptures");function assertInternal(s){if(s!==INTERNAL)throw new Error("Illegal constructor")}r(assertInternal,"assertInternal");function isPoint(s){return s&&typeof s.row=="number"&&typeof s.column=="number"}r(isPoint,"isPoint");function marshalNode(s){let a=TRANSFER_BUFFER;setValue(a,s.id,"i32"),a+=SIZE_OF_INT,setValue(a,s.startIndex,"i32"),a+=SIZE_OF_INT,setValue(a,s.startPosition.row,"i32"),a+=SIZE_OF_INT,setValue(a,s.startPosition.column,"i32"),a+=SIZE_OF_INT,setValue(a,s[0],"i32")}r(marshalNode,"marshalNode");function unmarshalNode(s,a=TRANSFER_BUFFER){let c=getValue(a,"i32");if(c===0)return null;let l=getValue(a+=SIZE_OF_INT,"i32"),m=getValue(a+=SIZE_OF_INT,"i32"),g=getValue(a+=SIZE_OF_INT,"i32"),_=getValue(a+=SIZE_OF_INT,"i32"),v=new Node(INTERNAL,s);return v.id=c,v.startIndex=l,v.startPosition={row:m,column:g},v[0]=_,v}r(unmarshalNode,"unmarshalNode");function marshalTreeCursor(s,a=TRANSFER_BUFFER){setValue(a+0*SIZE_OF_INT,s[0],"i32"),setValue(a+1*SIZE_OF_INT,s[1],"i32"),setValue(a+2*SIZE_OF_INT,s[2],"i32")}r(marshalTreeCursor,"marshalTreeCursor");function unmarshalTreeCursor(s){s[0]=getValue(TRANSFER_BUFFER+0*SIZE_OF_INT,"i32"),s[1]=getValue(TRANSFER_BUFFER+1*SIZE_OF_INT,"i32"),s[2]=getValue(TRANSFER_BUFFER+2*SIZE_OF_INT,"i32")}r(unmarshalTreeCursor,"unmarshalTreeCursor");function marshalPoint(s,a){setValue(s,a.row,"i32"),setValue(s+SIZE_OF_INT,a.column,"i32")}r(marshalPoint,"marshalPoint");function unmarshalPoint(s){return{row:getValue(s,"i32"),column:getValue(s+SIZE_OF_INT,"i32")}}r(unmarshalPoint,"unmarshalPoint");function marshalRange(s,a){marshalPoint(s,a.startPosition),marshalPoint(s+=SIZE_OF_POINT,a.endPosition),setValue(s+=SIZE_OF_POINT,a.startIndex,"i32"),setValue(s+=SIZE_OF_INT,a.endIndex,"i32"),s+=SIZE_OF_INT}r(marshalRange,"marshalRange");function unmarshalRange(s){let a={};return a.startPosition=unmarshalPoint(s),s+=SIZE_OF_POINT,a.endPosition=unmarshalPoint(s),s+=SIZE_OF_POINT,a.startIndex=getValue(s,"i32"),s+=SIZE_OF_INT,a.endIndex=getValue(s,"i32"),a}r(unmarshalRange,"unmarshalRange");function marshalEdit(s){let a=TRANSFER_BUFFER;marshalPoint(a,s.startPosition),a+=SIZE_OF_POINT,marshalPoint(a,s.oldEndPosition),a+=SIZE_OF_POINT,marshalPoint(a,s.newEndPosition),a+=SIZE_OF_POINT,setValue(a,s.startIndex,"i32"),a+=SIZE_OF_INT,setValue(a,s.oldEndIndex,"i32"),a+=SIZE_OF_INT,setValue(a,s.newEndIndex,"i32"),a+=SIZE_OF_INT}r(marshalEdit,"marshalEdit");for(let s of Object.getOwnPropertyNames(ParserImpl.prototype))Object.defineProperty(_Parser.prototype,s,{value:ParserImpl.prototype[s],enumerable:!1,writable:!1});_Parser.Language=Language,Module.onRuntimeInitialized=()=>{ParserImpl.init(),resolveInitPromise()}}))}};r(_Parser,"Parser");let Parser=_Parser;return Parser}();typeof exports=="object"&&(module.exports=TreeSitter)});var k_=X(Ol=>{var P_="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split("");Ol.encode=function(e){if(0<=e&&e<P_.length)return P_[e];throw new TypeError("Must be between 0 and 63: "+e)};Ol.decode=function(e){var t=65,n=90,o=97,i=122,u=48,s=57,a=43,c=47,l=26,m=52;return t<=e&&e<=n?e-t:o<=e&&e<=i?e-o+l:u<=e&&e<=s?e-u+m:e==a?62:e==c?63:-1}});var Dl=X(Al=>{var M_=k_(),Fl=5,N_=1<<Fl,C_=N_-1,L_=N_;function nP(e){return e<0?(-e<<1)+1:(e<<1)+0}r(nP,"toVLQSigned");function rP(e){var t=(e&1)===1,n=e>>1;return t?-n:n}r(rP,"fromVLQSigned");Al.encode=r(function(t){var n="",o,i=nP(t);do o=i&C_,i>>>=Fl,i>0&&(o|=L_),n+=M_.encode(o);while(i>0);return n},"base64VLQ_encode");Al.decode=r(function(t,n,o){var i=t.length,u=0,s=0,a,c;do{if(n>=i)throw new Error("Expected more digits in base 64 VLQ value.");if(c=M_.decode(t.charCodeAt(n++)),c===-1)throw new Error("Invalid base64 digit: "+t.charAt(n-1));a=!!(c&L_),c&=C_,u=u+(c<<s),s+=Fl}while(a);o.value=rP(u),o.rest=n},"base64VLQ_decode")});var $o=X(Rt=>{function oP(e,t,n){if(t in e)return e[t];if(arguments.length===3)return n;throw new Error('"'+t+'" is a required argument.')}r(oP,"getArg");Rt.getArg=oP;var O_=/^(?:([\w+\-.]+):)?\/\/(?:(\w+:\w+)@)?([\w.-]*)(?::(\d+))?(.*)$/,iP=/^data:.+\,.+$/;function Yi(e){var t=e.match(O_);return t?{scheme:t[1],auth:t[2],host:t[3],port:t[4],path:t[5]}:null}r(Yi,"urlParse");Rt.urlParse=Yi;function Bo(e){var t="";return e.scheme&&(t+=e.scheme+":"),t+="//",e.auth&&(t+=e.auth+"@"),e.host&&(t+=e.host),e.port&&(t+=":"+e.port),e.path&&(t+=e.path),t}r(Bo,"urlGenerate");Rt.urlGenerate=Bo;function jl(e){var t=e,n=Yi(e);if(n){if(!n.path)return e;t=n.path}for(var o=Rt.isAbsolute(t),i=t.split(/\/+/),u,s=0,a=i.length-1;a>=0;a--)u=i[a],u==="."?i.splice(a,1):u===".."?s++:s>0&&(u===""?(i.splice(a+1,s),s=0):(i.splice(a,2),s--));return t=i.join("/"),t===""&&(t=o?"/":"."),n?(n.path=t,Bo(n)):t}r(jl,"normalize");Rt.normalize=jl;function F_(e,t){e===""&&(e="."),t===""&&(t=".");var n=Yi(t),o=Yi(e);if(o&&(e=o.path||"/"),n&&!n.scheme)return o&&(n.scheme=o.scheme),Bo(n);if(n||t.match(iP))return t;if(o&&!o.host&&!o.path)return o.host=t,Bo(o);var i=t.charAt(0)==="/"?t:jl(e.replace(/\/+$/,"")+"/"+t);return o?(o.path=i,Bo(o)):i}r(F_,"join");Rt.join=F_;Rt.isAbsolute=function(e){return e.charAt(0)==="/"||O_.test(e)};function sP(e,t){e===""&&(e="."),e=e.replace(/\/$/,"");for(var n=0;t.indexOf(e+"/")!==0;){var o=e.lastIndexOf("/");if(o<0||(e=e.slice(0,o),e.match(/^([^\/]+:\/)?\/*$/)))return t;++n}return Array(n+1).join("../")+t.substr(e.length+1)}r(sP,"relative");Rt.relative=sP;var A_=function(){var e=Object.create(null);return!("__proto__"in e)}();function D_(e){return e}r(D_,"identity");function aP(e){return j_(e)?"$"+e:e}r(aP,"toSetString");Rt.toSetString=A_?D_:aP;function uP(e){return j_(e)?e.slice(1):e}r(uP,"fromSetString");Rt.fromSetString=A_?D_:uP;function j_(e){if(!e)return!1;var t=e.length;if(t<9||e.charCodeAt(t-1)!==95||e.charCodeAt(t-2)!==95||e.charCodeAt(t-3)!==111||e.charCodeAt(t-4)!==116||e.charCodeAt(t-5)!==111||e.charCodeAt(t-6)!==114||e.charCodeAt(t-7)!==112||e.charCodeAt(t-8)!==95||e.charCodeAt(t-9)!==95)return!1;for(var n=t-10;n>=0;n--)if(e.charCodeAt(n)!==36)return!1;return!0}r(j_,"isProtoString");function cP(e,t,n){var o=Wo(e.source,t.source);return o!==0||(o=e.originalLine-t.originalLine,o!==0)||(o=e.originalColumn-t.originalColumn,o!==0||n)||(o=e.generatedColumn-t.generatedColumn,o!==0)||(o=e.generatedLine-t.generatedLine,o!==0)?o:Wo(e.name,t.name)}r(cP,"compareByOriginalPositions");Rt.compareByOriginalPositions=cP;function lP(e,t,n){var o=e.generatedLine-t.generatedLine;return o!==0||(o=e.generatedColumn-t.generatedColumn,o!==0||n)||(o=Wo(e.source,t.source),o!==0)||(o=e.originalLine-t.originalLine,o!==0)||(o=e.originalColumn-t.originalColumn,o!==0)?o:Wo(e.name,t.name)}r(lP,"compareByGeneratedPositionsDeflated");Rt.compareByGeneratedPositionsDeflated=lP;function Wo(e,t){return e===t?0:e===null?1:t===null?-1:e>t?1:-1}r(Wo,"strcmp");function dP(e,t){var n=e.generatedLine-t.generatedLine;return n!==0||(n=e.generatedColumn-t.generatedColumn,n!==0)||(n=Wo(e.source,t.source),n!==0)||(n=e.originalLine-t.originalLine,n!==0)||(n=e.originalColumn-t.originalColumn,n!==0)?n:Wo(e.name,t.name)}r(dP,"compareByGeneratedPositionsInflated");Rt.compareByGeneratedPositionsInflated=dP;function fP(e){return JSON.parse(e.replace(/^\)]}'[^\n]*\n/,""))}r(fP,"parseSourceMapInput");Rt.parseSourceMapInput=fP;function mP(e,t,n){if(t=t||"",e&&(e[e.length-1]!=="/"&&t[0]!=="/"&&(e+="/"),t=e+t),n){var o=Yi(n);if(!o)throw new Error("sourceMapURL could not be parsed");if(o.path){var i=o.path.lastIndexOf("/");i>=0&&(o.path=o.path.substring(0,i+1))}t=F_(Bo(o),t)}return jl(t)}r(mP,"computeSourceURL");Rt.computeSourceURL=mP});var Bl=X(U_=>{var Ul=$o(),ql=Object.prototype.hasOwnProperty,to=typeof Map<"u";function or(){this._array=[],this._set=to?new Map:Object.create(null)}r(or,"ArraySet");or.fromArray=r(function(t,n){for(var o=new or,i=0,u=t.length;i<u;i++)o.add(t[i],n);return o},"ArraySet_fromArray");or.prototype.size=r(function(){return to?this._set.size:Object.getOwnPropertyNames(this._set).length},"ArraySet_size");or.prototype.add=r(function(t,n){var o=to?t:Ul.toSetString(t),i=to?this.has(t):ql.call(this._set,o),u=this._array.length;(!i||n)&&this._array.push(t),i||(to?this._set.set(t,u):this._set[o]=u)},"ArraySet_add");or.prototype.has=r(function(t){if(to)return this._set.has(t);var n=Ul.toSetString(t);return ql.call(this._set,n)},"ArraySet_has");or.prototype.indexOf=r(function(t){if(to){var n=this._set.get(t);if(n>=0)return n}else{var o=Ul.toSetString(t);if(ql.call(this._set,o))return this._set[o]}throw new Error('"'+t+'" is not in the set.')},"ArraySet_indexOf");or.prototype.at=r(function(t){if(t>=0&&t<this._array.length)return this._array[t];throw new Error("No element indexed by "+t)},"ArraySet_at");or.prototype.toArray=r(function(){return this._array.slice()},"ArraySet_toArray");U_.ArraySet=or});var W_=X(B_=>{var q_=$o();function pP(e,t){var n=e.generatedLine,o=t.generatedLine,i=e.generatedColumn,u=t.generatedColumn;return o>n||o==n&&u>=i||q_.compareByGeneratedPositionsInflated(e,t)<=0}r(pP,"generatedPositionAfter");function Ia(){this._array=[],this._sorted=!0,this._last={generatedLine:-1,generatedColumn:0}}r(Ia,"MappingList");Ia.prototype.unsortedForEach=r(function(t,n){this._array.forEach(t,n)},"MappingList_forEach");Ia.prototype.add=r(function(t){pP(this._last,t)?(this._last=t,this._array.push(t)):(this._sorted=!1,this._array.push(t))},"MappingList_add");Ia.prototype.toArray=r(function(){return this._sorted||(this._array.sort(q_.compareByGeneratedPositionsInflated),this._sorted=!0),this._array},"MappingList_toArray");B_.MappingList=Ia});var Wl=X($_=>{var es=Dl(),lt=$o(),xa=Bl().ArraySet,gP=W_().MappingList;function an(e){e||(e={}),this._file=lt.getArg(e,"file",null),this._sourceRoot=lt.getArg(e,"sourceRoot",null),this._skipValidation=lt.getArg(e,"skipValidation",!1),this._sources=new xa,this._names=new xa,this._mappings=new gP,this._sourcesContents=null}r(an,"SourceMapGenerator");an.prototype._version=3;an.fromSourceMap=r(function(t){var n=t.sourceRoot,o=new an({file:t.file,sourceRoot:n});return t.eachMapping(function(i){var u={generated:{line:i.generatedLine,column:i.generatedColumn}};i.source!=null&&(u.source=i.source,n!=null&&(u.source=lt.relative(n,u.source)),u.original={line:i.originalLine,column:i.originalColumn},i.name!=null&&(u.name=i.name)),o.addMapping(u)}),t.sources.forEach(function(i){var u=i;n!==null&&(u=lt.relative(n,i)),o._sources.has(u)||o._sources.add(u);var s=t.sourceContentFor(i);s!=null&&o.setSourceContent(i,s)}),o},"SourceMapGenerator_fromSourceMap");an.prototype.addMapping=r(function(t){var n=lt.getArg(t,"generated"),o=lt.getArg(t,"original",null),i=lt.getArg(t,"source",null),u=lt.getArg(t,"name",null);this._skipValidation||this._validateMapping(n,o,i,u),i!=null&&(i=String(i),this._sources.has(i)||this._sources.add(i)),u!=null&&(u=String(u),this._names.has(u)||this._names.add(u)),this._mappings.add({generatedLine:n.line,generatedColumn:n.column,originalLine:o!=null&&o.line,originalColumn:o!=null&&o.column,source:i,name:u})},"SourceMapGenerator_addMapping");an.prototype.setSourceContent=r(function(t,n){var o=t;this._sourceRoot!=null&&(o=lt.relative(this._sourceRoot,o)),n!=null?(this._sourcesContents||(this._sourcesContents=Object.create(null)),this._sourcesContents[lt.toSetString(o)]=n):this._sourcesContents&&(delete this._sourcesContents[lt.toSetString(o)],Object.keys(this._sourcesContents).length===0&&(this._sourcesContents=null))},"SourceMapGenerator_setSourceContent");an.prototype.applySourceMap=r(function(t,n,o){var i=n;if(n==null){if(t.file==null)throw new Error(`SourceMapGenerator.prototype.applySourceMap requires either an explicit source file, or the source map's "file" property. Both were omitted.`);i=t.file}var u=this._sourceRoot;u!=null&&(i=lt.relative(u,i));var s=new xa,a=new xa;this._mappings.unsortedForEach(function(c){if(c.source===i&&c.originalLine!=null){var l=t.originalPositionFor({line:c.originalLine,column:c.originalColumn});l.source!=null&&(c.source=l.source,o!=null&&(c.source=lt.join(o,c.source)),u!=null&&(c.source=lt.relative(u,c.source)),c.originalLine=l.line,c.originalColumn=l.column,l.name!=null&&(c.name=l.name))}var m=c.source;m!=null&&!s.has(m)&&s.add(m);var g=c.name;g!=null&&!a.has(g)&&a.add(g)},this),this._sources=s,this._names=a,t.sources.forEach(function(c){var l=t.sourceContentFor(c);l!=null&&(o!=null&&(c=lt.join(o,c)),u!=null&&(c=lt.relative(u,c)),this.setSourceContent(c,l))},this)},"SourceMapGenerator_applySourceMap");an.prototype._validateMapping=r(function(t,n,o,i){if(n&&typeof n.line!="number"&&typeof n.column!="number")throw new Error("original.line and original.column are not numbers -- you probably meant to omit the original mapping entirely and only map the generated position. If so, pass null for the original mapping instead of an object with empty or null values.");if(!(t&&"line"in t&&"column"in t&&t.line>0&&t.column>=0&&!n&&!o&&!i)){if(t&&"line"in t&&"column"in t&&n&&"line"in n&&"column"in n&&t.line>0&&t.column>=0&&n.line>0&&n.column>=0&&o)return;throw new Error("Invalid mapping: "+JSON.stringify({generated:t,source:o,original:n,name:i}))}},"SourceMapGenerator_validateMapping");an.prototype._serializeMappings=r(function(){for(var t=0,n=1,o=0,i=0,u=0,s=0,a="",c,l,m,g,_=this._mappings.toArray(),v=0,T=_.length;v<T;v++){if(l=_[v],c="",l.generatedLine!==n)for(t=0;l.generatedLine!==n;)c+=";",n++;else if(v>0){if(!lt.compareByGeneratedPositionsInflated(l,_[v-1]))continue;c+=","}c+=es.encode(l.generatedColumn-t),t=l.generatedColumn,l.source!=null&&(g=this._sources.indexOf(l.source),c+=es.encode(g-s),s=g,c+=es.encode(l.originalLine-1-i),i=l.originalLine-1,c+=es.encode(l.originalColumn-o),o=l.originalColumn,l.name!=null&&(m=this._names.indexOf(l.name),c+=es.encode(m-u),u=m)),a+=c}return a},"SourceMapGenerator_serializeMappings");an.prototype._generateSourcesContent=r(function(t,n){return t.map(function(o){if(!this._sourcesContents)return null;n!=null&&(o=lt.relative(n,o));var i=lt.toSetString(o);return Object.prototype.hasOwnProperty.call(this._sourcesContents,i)?this._sourcesContents[i]:null},this)},"SourceMapGenerator_generateSourcesContent");an.prototype.toJSON=r(function(){var t={version:this._version,sources:this._sources.toArray(),names:this._names.toArray(),mappings:this._serializeMappings()};return this._file!=null&&(t.file=this._file),this._sourceRoot!=null&&(t.sourceRoot=this._sourceRoot),this._sourcesContents&&(t.sourcesContent=this._generateSourcesContent(t.sources,t.sourceRoot)),t},"SourceMapGenerator_toJSON");an.prototype.toString=r(function(){return JSON.stringify(this.toJSON())},"SourceMapGenerator_toString");$_.SourceMapGenerator=an});var G_=X(no=>{no.GREATEST_LOWER_BOUND=1;no.LEAST_UPPER_BOUND=2;function $l(e,t,n,o,i,u){var s=Math.floor((t-e)/2)+e,a=i(n,o[s],!0);return a===0?s:a>0?t-s>1?$l(s,t,n,o,i,u):u==no.LEAST_UPPER_BOUND?t<o.length?t:-1:s:s-e>1?$l(e,s,n,o,i,u):u==no.LEAST_UPPER_BOUND?s:e<0?-1:e}r($l,"recursiveSearch");no.search=r(function(t,n,o,i){if(n.length===0)return-1;var u=$l(-1,n.length,t,n,o,i||no.GREATEST_LOWER_BOUND);if(u<0)return-1;for(;u-1>=0&&o(n[u],n[u-1],!0)===0;)--u;return u},"search")});var z_=X(V_=>{function Gl(e,t,n){var o=e[t];e[t]=e[n],e[n]=o}r(Gl,"swap");function hP(e,t){return Math.round(e+Math.random()*(t-e))}r(hP,"randomIntInRange");function Vl(e,t,n,o){if(n<o){var i=hP(n,o),u=n-1;Gl(e,i,o);for(var s=e[o],a=n;a<o;a++)t(e[a],s)<=0&&(u+=1,Gl(e,u,a));Gl(e,u+1,a);var c=u+1;Vl(e,t,n,c-1),Vl(e,t,c+1,o)}}r(Vl,"doQuickSort");V_.quickSort=function(e,t){Vl(e,t,0,e.length-1)}});var H_=X(Sa=>{var te=$o(),zl=G_(),Go=Bl().ArraySet,_P=Dl(),ts=z_().quickSort;function Ue(e,t){var n=e;return typeof e=="string"&&(n=te.parseSourceMapInput(e)),n.sections!=null?new Mn(n,t):new wt(n,t)}r(Ue,"SourceMapConsumer");Ue.fromSourceMap=function(e,t){return wt.fromSourceMap(e,t)};Ue.prototype._version=3;Ue.prototype.__generatedMappings=null;Object.defineProperty(Ue.prototype,"_generatedMappings",{configurable:!0,enumerable:!0,get:r(function(){return this.__generatedMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__generatedMappings},"get")});Ue.prototype.__originalMappings=null;Object.defineProperty(Ue.prototype,"_originalMappings",{configurable:!0,enumerable:!0,get:r(function(){return this.__originalMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__originalMappings},"get")});Ue.prototype._charIsMappingSeparator=r(function(t,n){var o=t.charAt(n);return o===";"||o===","},"SourceMapConsumer_charIsMappingSeparator");Ue.prototype._parseMappings=r(function(t,n){throw new Error("Subclasses must implement _parseMappings")},"SourceMapConsumer_parseMappings");Ue.GENERATED_ORDER=1;Ue.ORIGINAL_ORDER=2;Ue.GREATEST_LOWER_BOUND=1;Ue.LEAST_UPPER_BOUND=2;Ue.prototype.eachMapping=r(function(t,n,o){var i=n||null,u=o||Ue.GENERATED_ORDER,s;switch(u){case Ue.GENERATED_ORDER:s=this._generatedMappings;break;case Ue.ORIGINAL_ORDER:s=this._originalMappings;break;default:throw new Error("Unknown order of iteration.")}var a=this.sourceRoot;s.map(function(c){var l=c.source===null?null:this._sources.at(c.source);return l=te.computeSourceURL(a,l,this._sourceMapURL),{source:l,generatedLine:c.generatedLine,generatedColumn:c.generatedColumn,originalLine:c.originalLine,originalColumn:c.originalColumn,name:c.name===null?null:this._names.at(c.name)}},this).forEach(t,i)},"SourceMapConsumer_eachMapping");Ue.prototype.allGeneratedPositionsFor=r(function(t){var n=te.getArg(t,"line"),o={source:te.getArg(t,"source"),originalLine:n,originalColumn:te.getArg(t,"column",0)};if(o.source=this._findSourceIndex(o.source),o.source<0)return[];var i=[],u=this._findMapping(o,this._originalMappings,"originalLine","originalColumn",te.compareByOriginalPositions,zl.LEAST_UPPER_BOUND);if(u>=0){var s=this._originalMappings[u];if(t.column===void 0)for(var a=s.originalLine;s&&s.originalLine===a;)i.push({line:te.getArg(s,"generatedLine",null),column:te.getArg(s,"generatedColumn",null),lastColumn:te.getArg(s,"lastGeneratedColumn",null)}),s=this._originalMappings[++u];else for(var c=s.originalColumn;s&&s.originalLine===n&&s.originalColumn==c;)i.push({line:te.getArg(s,"generatedLine",null),column:te.getArg(s,"generatedColumn",null),lastColumn:te.getArg(s,"lastGeneratedColumn",null)}),s=this._originalMappings[++u]}return i},"SourceMapConsumer_allGeneratedPositionsFor");Sa.SourceMapConsumer=Ue;function wt(e,t){var n=e;typeof e=="string"&&(n=te.parseSourceMapInput(e));var o=te.getArg(n,"version"),i=te.getArg(n,"sources"),u=te.getArg(n,"names",[]),s=te.getArg(n,"sourceRoot",null),a=te.getArg(n,"sourcesContent",null),c=te.getArg(n,"mappings"),l=te.getArg(n,"file",null);if(o!=this._version)throw new Error("Unsupported version: "+o);s&&(s=te.normalize(s)),i=i.map(String).map(te.normalize).map(function(m){return s&&te.isAbsolute(s)&&te.isAbsolute(m)?te.relative(s,m):m}),this._names=Go.fromArray(u.map(String),!0),this._sources=Go.fromArray(i,!0),this._absoluteSources=this._sources.toArray().map(function(m){return te.computeSourceURL(s,m,t)}),this.sourceRoot=s,this.sourcesContent=a,this._mappings=c,this._sourceMapURL=t,this.file=l}r(wt,"BasicSourceMapConsumer");wt.prototype=Object.create(Ue.prototype);wt.prototype.consumer=Ue;wt.prototype._findSourceIndex=function(e){var t=e;if(this.sourceRoot!=null&&(t=te.relative(this.sourceRoot,t)),this._sources.has(t))return this._sources.indexOf(t);var n;for(n=0;n<this._absoluteSources.length;++n)if(this._absoluteSources[n]==e)return n;return-1};wt.fromSourceMap=r(function(t,n){var o=Object.create(wt.prototype),i=o._names=Go.fromArray(t._names.toArray(),!0),u=o._sources=Go.fromArray(t._sources.toArray(),!0);o.sourceRoot=t._sourceRoot,o.sourcesContent=t._generateSourcesContent(o._sources.toArray(),o.sourceRoot),o.file=t._file,o._sourceMapURL=n,o._absoluteSources=o._sources.toArray().map(function(v){return te.computeSourceURL(o.sourceRoot,v,n)});for(var s=t._mappings.toArray().slice(),a=o.__generatedMappings=[],c=o.__originalMappings=[],l=0,m=s.length;l<m;l++){var g=s[l],_=new K_;_.generatedLine=g.generatedLine,_.generatedColumn=g.generatedColumn,g.source&&(_.source=u.indexOf(g.source),_.originalLine=g.originalLine,_.originalColumn=g.originalColumn,g.name&&(_.name=i.indexOf(g.name)),c.push(_)),a.push(_)}return ts(o.__originalMappings,te.compareByOriginalPositions),o},"SourceMapConsumer_fromSourceMap");wt.prototype._version=3;Object.defineProperty(wt.prototype,"sources",{get:r(function(){return this._absoluteSources.slice()},"get")});function K_(){this.generatedLine=0,this.generatedColumn=0,this.source=null,this.originalLine=null,this.originalColumn=null,this.name=null}r(K_,"Mapping");wt.prototype._parseMappings=r(function(t,n){for(var o=1,i=0,u=0,s=0,a=0,c=0,l=t.length,m=0,g={},_={},v=[],T=[],P,j,L,Q,$;m<l;)if(t.charAt(m)===";")o++,m++,i=0;else if(t.charAt(m)===",")m++;else{for(P=new K_,P.generatedLine=o,Q=m;Q<l&&!this._charIsMappingSeparator(t,Q);Q++);if(j=t.slice(m,Q),L=g[j],L)m+=j.length;else{for(L=[];m<Q;)_P.decode(t,m,_),$=_.value,m=_.rest,L.push($);if(L.length===2)throw new Error("Found a source, but no line and column");if(L.length===3)throw new Error("Found a source and line, but no column");g[j]=L}P.generatedColumn=i+L[0],i=P.generatedColumn,L.length>1&&(P.source=a+L[1],a+=L[1],P.originalLine=u+L[2],u=P.originalLine,P.originalLine+=1,P.originalColumn=s+L[3],s=P.originalColumn,L.length>4&&(P.name=c+L[4],c+=L[4])),T.push(P),typeof P.originalLine=="number"&&v.push(P)}ts(T,te.compareByGeneratedPositionsDeflated),this.__generatedMappings=T,ts(v,te.compareByOriginalPositions),this.__originalMappings=v},"SourceMapConsumer_parseMappings");wt.prototype._findMapping=r(function(t,n,o,i,u,s){if(t[o]<=0)throw new TypeError("Line must be greater than or equal to 1, got "+t[o]);if(t[i]<0)throw new TypeError("Column must be greater than or equal to 0, got "+t[i]);return zl.search(t,n,u,s)},"SourceMapConsumer_findMapping");wt.prototype.computeColumnSpans=r(function(){for(var t=0;t<this._generatedMappings.length;++t){var n=this._generatedMappings[t];if(t+1<this._generatedMappings.length){var o=this._generatedMappings[t+1];if(n.generatedLine===o.generatedLine){n.lastGeneratedColumn=o.generatedColumn-1;continue}}n.lastGeneratedColumn=1/0}},"SourceMapConsumer_computeColumnSpans");wt.prototype.originalPositionFor=r(function(t){var n={generatedLine:te.getArg(t,"line"),generatedColumn:te.getArg(t,"column")},o=this._findMapping(n,this._generatedMappings,"generatedLine","generatedColumn",te.compareByGeneratedPositionsDeflated,te.getArg(t,"bias",Ue.GREATEST_LOWER_BOUND));if(o>=0){var i=this._generatedMappings[o];if(i.generatedLine===n.generatedLine){var u=te.getArg(i,"source",null);u!==null&&(u=this._sources.at(u),u=te.computeSourceURL(this.sourceRoot,u,this._sourceMapURL));var s=te.getArg(i,"name",null);return s!==null&&(s=this._names.at(s)),{source:u,line:te.getArg(i,"originalLine",null),column:te.getArg(i,"originalColumn",null),name:s}}}return{source:null,line:null,column:null,name:null}},"SourceMapConsumer_originalPositionFor");wt.prototype.hasContentsOfAllSources=r(function(){return this.sourcesContent?this.sourcesContent.length>=this._sources.size()&&!this.sourcesContent.some(function(t){return t==null}):!1},"BasicSourceMapConsumer_hasContentsOfAllSources");wt.prototype.sourceContentFor=r(function(t,n){if(!this.sourcesContent)return null;var o=this._findSourceIndex(t);if(o>=0)return this.sourcesContent[o];var i=t;this.sourceRoot!=null&&(i=te.relative(this.sourceRoot,i));var u;if(this.sourceRoot!=null&&(u=te.urlParse(this.sourceRoot))){var s=i.replace(/^file:\/\//,"");if(u.scheme=="file"&&this._sources.has(s))return this.sourcesContent[this._sources.indexOf(s)];if((!u.path||u.path=="/")&&this._sources.has("/"+i))return this.sourcesContent[this._sources.indexOf("/"+i)]}if(n)return null;throw new Error('"'+i+'" is not in the SourceMap.')},"SourceMapConsumer_sourceContentFor");wt.prototype.generatedPositionFor=r(function(t){var n=te.getArg(t,"source");if(n=this._findSourceIndex(n),n<0)return{line:null,column:null,lastColumn:null};var o={source:n,originalLine:te.getArg(t,"line"),originalColumn:te.getArg(t,"column")},i=this._findMapping(o,this._originalMappings,"originalLine","originalColumn",te.compareByOriginalPositions,te.getArg(t,"bias",Ue.GREATEST_LOWER_BOUND));if(i>=0){var u=this._originalMappings[i];if(u.source===o.source)return{line:te.getArg(u,"generatedLine",null),column:te.getArg(u,"generatedColumn",null),lastColumn:te.getArg(u,"lastGeneratedColumn",null)}}return{line:null,column:null,lastColumn:null}},"SourceMapConsumer_generatedPositionFor");Sa.BasicSourceMapConsumer=wt;function Mn(e,t){var n=e;typeof e=="string"&&(n=te.parseSourceMapInput(e));var o=te.getArg(n,"version"),i=te.getArg(n,"sections");if(o!=this._version)throw new Error("Unsupported version: "+o);this._sources=new Go,this._names=new Go;var u={line:-1,column:0};this._sections=i.map(function(s){if(s.url)throw new Error("Support for url field in sections not implemented.");var a=te.getArg(s,"offset"),c=te.getArg(a,"line"),l=te.getArg(a,"column");if(c<u.line||c===u.line&&l<u.column)throw new Error("Section offsets must be ordered and non-overlapping.");return u=a,{generatedOffset:{generatedLine:c+1,generatedColumn:l+1},consumer:new Ue(te.getArg(s,"map"),t)}})}r(Mn,"IndexedSourceMapConsumer");Mn.prototype=Object.create(Ue.prototype);Mn.prototype.constructor=Ue;Mn.prototype._version=3;Object.defineProperty(Mn.prototype,"sources",{get:r(function(){for(var e=[],t=0;t<this._sections.length;t++)for(var n=0;n<this._sections[t].consumer.sources.length;n++)e.push(this._sections[t].consumer.sources[n]);return e},"get")});Mn.prototype.originalPositionFor=r(function(t){var n={generatedLine:te.getArg(t,"line"),generatedColumn:te.getArg(t,"column")},o=zl.search(n,this._sections,function(u,s){var a=u.generatedLine-s.generatedOffset.generatedLine;return a||u.generatedColumn-s.generatedOffset.generatedColumn}),i=this._sections[o];return i?i.consumer.originalPositionFor({line:n.generatedLine-(i.generatedOffset.generatedLine-1),column:n.generatedColumn-(i.generatedOffset.generatedLine===n.generatedLine?i.generatedOffset.generatedColumn-1:0),bias:t.bias}):{source:null,line:null,column:null,name:null}},"IndexedSourceMapConsumer_originalPositionFor");Mn.prototype.hasContentsOfAllSources=r(function(){return this._sections.every(function(t){return t.consumer.hasContentsOfAllSources()})},"IndexedSourceMapConsumer_hasContentsOfAllSources");Mn.prototype.sourceContentFor=r(function(t,n){for(var o=0;o<this._sections.length;o++){var i=this._sections[o],u=i.consumer.sourceContentFor(t,!0);if(u)return u}if(n)return null;throw new Error('"'+t+'" is not in the SourceMap.')},"IndexedSourceMapConsumer_sourceContentFor");Mn.prototype.generatedPositionFor=r(function(t){for(var n=0;n<this._sections.length;n++){var o=this._sections[n];if(o.consumer._findSourceIndex(te.getArg(t,"source"))!==-1){var i=o.consumer.generatedPositionFor(t);if(i){var u={line:i.line+(o.generatedOffset.generatedLine-1),column:i.column+(o.generatedOffset.generatedLine===i.line?o.generatedOffset.generatedColumn-1:0)};return u}}}return{line:null,column:null}},"IndexedSourceMapConsumer_generatedPositionFor");Mn.prototype._parseMappings=r(function(t,n){this.__generatedMappings=[],this.__originalMappings=[];for(var o=0;o<this._sections.length;o++)for(var i=this._sections[o],u=i.consumer._generatedMappings,s=0;s<u.length;s++){var a=u[s],c=i.consumer._sources.at(a.source);c=te.computeSourceURL(i.consumer.sourceRoot,c,this._sourceMapURL),this._sources.add(c),c=this._sources.indexOf(c);var l=null;a.name&&(l=i.consumer._names.at(a.name),this._names.add(l),l=this._names.indexOf(l));var m={source:c,generatedLine:a.generatedLine+(i.generatedOffset.generatedLine-1),generatedColumn:a.generatedColumn+(i.generatedOffset.generatedLine===a.generatedLine?i.generatedOffset.generatedColumn-1:0),originalLine:a.originalLine,originalColumn:a.originalColumn,name:l};this.__generatedMappings.push(m),typeof m.originalLine=="number"&&this.__originalMappings.push(m)}ts(this.__generatedMappings,te.compareByGeneratedPositionsDeflated),ts(this.__originalMappings,te.compareByOriginalPositions)},"IndexedSourceMapConsumer_parseMappings");Sa.IndexedSourceMapConsumer=Mn});var Q_=X(Z_=>{var yP=Wl().SourceMapGenerator,Ta=$o(),bP=/(\r?\n)/,wP=10,Vo="$$$isSourceNode$$$";function Qt(e,t,n,o,i){this.children=[],this.sourceContents={},this.line=e==null?null:e,this.column=t==null?null:t,this.source=n==null?null:n,this.name=i==null?null:i,this[Vo]=!0,o!=null&&this.add(o)}r(Qt,"SourceNode");Qt.fromStringWithSourceMap=r(function(t,n,o){var i=new Qt,u=t.split(bP),s=0,a=r(function(){var _=T(),v=T()||"";return _+v;function T(){return s<u.length?u[s++]:void 0}},"shiftNextLine"),c=1,l=0,m=null;return n.eachMapping(function(_){if(m!==null)if(c<_.generatedLine)g(m,a()),c++,l=0;else{var v=u[s]||"",T=v.substr(0,_.generatedColumn-l);u[s]=v.substr(_.generatedColumn-l),l=_.generatedColumn,g(m,T),m=_;return}for(;c<_.generatedLine;)i.add(a()),c++;if(l<_.generatedColumn){var v=u[s]||"";i.add(v.substr(0,_.generatedColumn)),u[s]=v.substr(_.generatedColumn),l=_.generatedColumn}m=_},this),s<u.length&&(m&&g(m,a()),i.add(u.splice(s).join(""))),n.sources.forEach(function(_){var v=n.sourceContentFor(_);v!=null&&(o!=null&&(_=Ta.join(o,_)),i.setSourceContent(_,v))}),i;function g(_,v){if(_===null||_.source===void 0)i.add(v);else{var T=o?Ta.join(o,_.source):_.source;i.add(new Qt(_.originalLine,_.originalColumn,T,v,_.name))}}r(g,"addMappingWithCode")},"SourceNode_fromStringWithSourceMap");Qt.prototype.add=r(function(t){if(Array.isArray(t))t.forEach(function(n){this.add(n)},this);else if(t[Vo]||typeof t=="string")t&&this.children.push(t);else throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+t);return this},"SourceNode_add");Qt.prototype.prepend=r(function(t){if(Array.isArray(t))for(var n=t.length-1;n>=0;n--)this.prepend(t[n]);else if(t[Vo]||typeof t=="string")this.children.unshift(t);else throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+t);return this},"SourceNode_prepend");Qt.prototype.walk=r(function(t){for(var n,o=0,i=this.children.length;o<i;o++)n=this.children[o],n[Vo]?n.walk(t):n!==""&&t(n,{source:this.source,line:this.line,column:this.column,name:this.name})},"SourceNode_walk");Qt.prototype.join=r(function(t){var n,o,i=this.children.length;if(i>0){for(n=[],o=0;o<i-1;o++)n.push(this.children[o]),n.push(t);n.push(this.children[o]),this.children=n}return this},"SourceNode_join");Qt.prototype.replaceRight=r(function(t,n){var o=this.children[this.children.length-1];return o[Vo]?o.replaceRight(t,n):typeof o=="string"?this.children[this.children.length-1]=o.replace(t,n):this.children.push("".replace(t,n)),this},"SourceNode_replaceRight");Qt.prototype.setSourceContent=r(function(t,n){this.sourceContents[Ta.toSetString(t)]=n},"SourceNode_setSourceContent");Qt.prototype.walkSourceContents=r(function(t){for(var n=0,o=this.children.length;n<o;n++)this.children[n][Vo]&&this.children[n].walkSourceContents(t);for(var i=Object.keys(this.sourceContents),n=0,o=i.length;n<o;n++)t(Ta.fromSetString(i[n]),this.sourceContents[i[n]])},"SourceNode_walkSourceContents");Qt.prototype.toString=r(function(){var t="";return this.walk(function(n){t+=n}),t},"SourceNode_toString");Qt.prototype.toStringWithSourceMap=r(function(t){var n={code:"",line:1,column:0},o=new yP(t),i=!1,u=null,s=null,a=null,c=null;return this.walk(function(l,m){n.code+=l,m.source!==null&&m.line!==null&&m.column!==null?((u!==m.source||s!==m.line||a!==m.column||c!==m.name)&&o.addMapping({source:m.source,original:{line:m.line,column:m.column},generated:{line:n.line,column:n.column},name:m.name}),u=m.source,s=m.line,a=m.column,c=m.name,i=!0):i&&(o.addMapping({generated:{line:n.line,column:n.column}}),u=null,i=!1);for(var g=0,_=l.length;g<_;g++)l.charCodeAt(g)===wP?(n.line++,n.column=0,g+1===_?(u=null,i=!1):i&&o.addMapping({source:m.source,original:{line:m.line,column:m.column},generated:{line:n.line,column:n.column},name:m.name})):n.column++}),this.walkSourceContents(function(l,m){o.setSourceContent(l,m)}),{code:n.code,map:o}},"SourceNode_toStringWithSourceMap");Z_.SourceNode=Qt});var J_=X(Ea=>{Ea.SourceMapGenerator=Wl().SourceMapGenerator;Ea.SourceMapConsumer=H_().SourceMapConsumer;Ea.SourceNode=Q_().SourceNode});var Y_=X((Q3,X_)=>{var vP=Object.prototype.toString,Kl=typeof Buffer<"u"&&typeof Buffer.alloc=="function"&&typeof Buffer.allocUnsafe=="function"&&typeof Buffer.from=="function";function IP(e){return vP.call(e).slice(8,-1)==="ArrayBuffer"}r(IP,"isArrayBuffer");function xP(e,t,n){t>>>=0;var o=e.byteLength-t;if(o<0)throw new RangeError("'offset' is out of bounds");if(n===void 0)n=o;else if(n>>>=0,n>o)throw new RangeError("'length' is out of bounds");return Kl?Buffer.from(e.slice(t,t+n)):new Buffer(new Uint8Array(e.slice(t,t+n)))}r(xP,"fromArrayBuffer");function SP(e,t){if((typeof t!="string"||t==="")&&(t="utf8"),!Buffer.isEncoding(t))throw new TypeError('"encoding" must be a valid string encoding');return Kl?Buffer.from(e,t):new Buffer(e,t)}r(SP,"fromString");function TP(e,t,n){if(typeof e=="number")throw new TypeError('"value" argument must not be a number');return IP(e)?xP(e,t,n):typeof e=="string"?SP(e,t):Kl?Buffer.from(e):new Buffer(e)}r(TP,"bufferFrom");X_.exports=TP});var ay=X((oo,Jl)=>{var EP=J_().SourceMapConsumer,Hl=require("path"),Wn;try{Wn=require("fs"),(!Wn.existsSync||!Wn.readFileSync)&&(Wn=null)}catch{}var RP=Y_();function ey(e,t){return e.require(t)}r(ey,"dynamicRequire");var ty=!1,ny=!1,Zl=!1,ns="auto",ro={},rs={},PP=/^data:application\/json[^,]+base64,/,Tr=[],Er=[];function Xl(){return ns==="browser"?!0:ns==="node"?!1:typeof window<"u"&&typeof XMLHttpRequest=="function"&&!(window.require&&window.module&&window.process&&window.process.type==="renderer")}r(Xl,"isInBrowser");function kP(){return typeof process=="object"&&process!==null&&typeof process.on=="function"}r(kP,"hasGlobalProcessEventEmitter");function MP(){return typeof process=="object"&&process!==null?process.version:""}r(MP,"globalProcessVersion");function NP(){if(typeof process=="object"&&process!==null)return process.stderr}r(NP,"globalProcessStderr");function CP(e){if(typeof process=="object"&&process!==null&&typeof process.exit=="function")return process.exit(e)}r(CP,"globalProcessExit");function Ra(e){return function(t){for(var n=0;n<e.length;n++){var o=e[n](t);if(o)return o}return null}}r(Ra,"handlerExec");var Yl=Ra(Tr);Tr.push(function(e){if(e=e.trim(),/^file:/.test(e)&&(e=e.replace(/file:\/\/\/(\w:)?/,function(o,i){return i?"":"/"})),e in ro)return ro[e];var t="";try{if(Wn)Wn.existsSync(e)&&(t=Wn.readFileSync(e,"utf8"));else{var n=new XMLHttpRequest;n.open("GET",e,!1),n.send(null),n.readyState===4&&n.status===200&&(t=n.responseText)}}catch{}return ro[e]=t});function Ql(e,t){if(!e)return t;var n=Hl.dirname(e),o=/^\w+:\/\/[^\/]*/.exec(n),i=o?o[0]:"",u=n.slice(i.length);return i&&/^\/\w\:/.test(u)?(i+="/",i+Hl.resolve(n.slice(i.length),t).replace(/\\/g,"/")):i+Hl.resolve(n.slice(i.length),t)}r(Ql,"supportRelativeURL");function LP(e){var t;if(Xl())try{var n=new XMLHttpRequest;n.open("GET",e,!1),n.send(null),t=n.readyState===4?n.responseText:null;var o=n.getResponseHeader("SourceMap")||n.getResponseHeader("X-SourceMap");if(o)return o}catch{}t=Yl(e);for(var i=/(?:\/\/[@#][\s]*sourceMappingURL=([^\s'"]+)[\s]*$)|(?:\/\*[@#][\s]*sourceMappingURL=([^\s*'"]+)[\s]*(?:\*\/)[\s]*$)/mg,u,s;s=i.exec(t);)u=s;return u?u[1]:null}r(LP,"retrieveSourceMapURL");var ed=Ra(Er);Er.push(function(e){var t=LP(e);if(!t)return null;var n;if(PP.test(t)){var o=t.slice(t.indexOf(",")+1);n=RP(o,"base64").toString(),t=e}else t=Ql(e,t),n=Yl(t);return n?{url:t,map:n}:null});function td(e){var t=rs[e.source];if(!t){var n=ed(e.source);n?(t=rs[e.source]={url:n.url,map:new EP(n.map)},t.map.sourcesContent&&t.map.sources.forEach(function(i,u){var s=t.map.sourcesContent[u];if(s){var a=Ql(t.url,i);ro[a]=s}})):t=rs[e.source]={url:null,map:null}}if(t&&t.map&&typeof t.map.originalPositionFor=="function"){var o=t.map.originalPositionFor(e);if(o.source!==null)return o.source=Ql(t.url,o.source),o}return e}r(td,"mapSourcePosition");function oy(e){var t=/^eval at ([^(]+) \((.+):(\d+):(\d+)\)$/.exec(e);if(t){var n=td({source:t[2],line:+t[3],column:t[4]-1});return"eval at "+t[1]+" ("+n.source+":"+n.line+":"+(n.column+1)+")"}return t=/^eval at ([^(]+) \((.+)\)$/.exec(e),t?"eval at "+t[1]+" ("+oy(t[2])+")":e}r(oy,"mapEvalOrigin");function OP(){var e,t="";if(this.isNative())t="native";else{e=this.getScriptNameOrSourceURL(),!e&&this.isEval()&&(t=this.getEvalOrigin(),t+=", "),e?t+=e:t+="<anonymous>";var n=this.getLineNumber();if(n!=null){t+=":"+n;var o=this.getColumnNumber();o&&(t+=":"+o)}}var i="",u=this.getFunctionName(),s=!0,a=this.isConstructor(),c=!(this.isToplevel()||a);if(c){var l=this.getTypeName();l==="[object Object]"&&(l="null");var m=this.getMethodName();u?(l&&u.indexOf(l)!=0&&(i+=l+"."),i+=u,m&&u.indexOf("."+m)!=u.length-m.length-1&&(i+=" [as "+m+"]")):i+=l+"."+(m||"<anonymous>")}else a?i+="new "+(u||"<anonymous>"):u?i+=u:(i+=t,s=!1);return s&&(i+=" ("+t+")"),i}r(OP,"CallSiteToString");function ry(e){var t={};return Object.getOwnPropertyNames(Object.getPrototypeOf(e)).forEach(function(n){t[n]=/^(?:is|get)/.test(n)?function(){return e[n].call(e)}:e[n]}),t.toString=OP,t}r(ry,"cloneCallSite");function iy(e,t){if(t===void 0&&(t={nextPosition:null,curPosition:null}),e.isNative())return t.curPosition=null,e;var n=e.getFileName()||e.getScriptNameOrSourceURL();if(n){var o=e.getLineNumber(),i=e.getColumnNumber()-1,u=/^v(10\.1[6-9]|10\.[2-9][0-9]|10\.[0-9]{3,}|1[2-9]\d*|[2-9]\d|\d{3,}|11\.11)/,s=u.test(MP())?0:62;o===1&&i>s&&!Xl()&&!e.isEval()&&(i-=s);var a=td({source:n,line:o,column:i});t.curPosition=a,e=ry(e);var c=e.getFunctionName;return e.getFunctionName=function(){return t.nextPosition==null?c():t.nextPosition.name||c()},e.getFileName=function(){return a.source},e.getLineNumber=function(){return a.line},e.getColumnNumber=function(){return a.column+1},e.getScriptNameOrSourceURL=function(){return a.source},e}var l=e.isEval()&&e.getEvalOrigin();return l&&(l=oy(l),e=ry(e),e.getEvalOrigin=function(){return l}),e}r(iy,"wrapCallSite");function FP(e,t){Zl&&(ro={},rs={});for(var n=e.name||"Error",o=e.message||"",i=n+": "+o,u={nextPosition:null,curPosition:null},s=[],a=t.length-1;a>=0;a--)s.push(`
    at `+iy(t[a],u)),u.nextPosition=u.curPosition;return u.curPosition=u.nextPosition=null,i+s.reverse().join("")}r(FP,"prepareStackTrace");function sy(e){var t=/\n    at [^(]+ \((.*):(\d+):(\d+)\)/.exec(e.stack);if(t){var n=t[1],o=+t[2],i=+t[3],u=ro[n];if(!u&&Wn&&Wn.existsSync(n))try{u=Wn.readFileSync(n,"utf8")}catch{u=""}if(u){var s=u.split(/(?:\r\n|\r|\n)/)[o-1];if(s)return n+":"+o+`
`+s+`
`+new Array(i).join(" ")+"^"}}return null}r(sy,"getErrorSource");function AP(e){var t=sy(e),n=NP();n&&n._handle&&n._handle.setBlocking&&n._handle.setBlocking(!0),t&&(console.error(),console.error(t)),console.error(e.stack),CP(1)}r(AP,"printErrorAndExit");function DP(){var e=process.emit;process.emit=function(t){if(t==="uncaughtException"){var n=arguments[1]&&arguments[1].stack,o=this.listeners(t).length>0;if(n&&!o)return AP(arguments[1])}return e.apply(this,arguments)}}r(DP,"shimEmitUncaughtException");var jP=Tr.slice(0),UP=Er.slice(0);oo.wrapCallSite=iy;oo.getErrorSource=sy;oo.mapSourcePosition=td;oo.retrieveSourceMap=ed;oo.install=function(e){if(e=e||{},e.environment&&(ns=e.environment,["node","browser","auto"].indexOf(ns)===-1))throw new Error("environment "+ns+" was unknown. Available options are {auto, browser, node}");if(e.retrieveFile&&(e.overrideRetrieveFile&&(Tr.length=0),Tr.unshift(e.retrieveFile)),e.retrieveSourceMap&&(e.overrideRetrieveSourceMap&&(Er.length=0),Er.unshift(e.retrieveSourceMap)),e.hookRequire&&!Xl()){var t=ey(Jl,"module"),n=t.prototype._compile;n.__sourceMapSupport||(t.prototype._compile=function(u,s){return ro[s]=u,rs[s]=void 0,n.call(this,u,s)},t.prototype._compile.__sourceMapSupport=!0)}if(Zl||(Zl="emptyCacheBetweenOperations"in e?e.emptyCacheBetweenOperations:!1),ty||(ty=!0,Error.prepareStackTrace=FP),!ny){var o="handleUncaughtExceptions"in e?e.handleUncaughtExceptions:!0;try{var i=ey(Jl,"worker_threads");i.isMainThread===!1&&(o=!1)}catch{}o&&kP()&&(ny=!0,DP())}};oo.resetRetrieveHandlers=function(){Tr.length=0,Er.length=0,Tr=jP.slice(0),Er=UP.slice(0),ed=Ra(Er),Yl=Ra(Tr)}});var uy=X(()=>{ay().install()});var xy=X((sz,Iy)=>{var Pd=require("fs"),qa=require("path"),ds=qa.join,n0=qa.dirname,wy=Pd.accessSync&&function(e){try{Pd.accessSync(e)}catch{return!1}return!0}||Pd.existsSync||qa.existsSync,vy={arrow:process.env.NODE_BINDINGS_ARROW||" \u2192 ",compiled:process.env.NODE_BINDINGS_COMPILED_DIR||"compiled",platform:process.platform,arch:process.arch,nodePreGyp:"node-v"+process.versions.modules+"-"+process.platform+"-"+process.arch,version:process.versions.node,bindings:"bindings.node",try:[["module_root","build","bindings"],["module_root","build","Debug","bindings"],["module_root","build","Release","bindings"],["module_root","out","Debug","bindings"],["module_root","Debug","bindings"],["module_root","out","Release","bindings"],["module_root","Release","bindings"],["module_root","build","default","bindings"],["module_root","compiled","version","platform","arch","bindings"],["module_root","compiled","platform","arch","bindings"]]};function r0(e){typeof e=="string"?e={bindings:e}:e||(e={}),Object.keys(vy).map(function(c){c in e||(e[c]=vy[c])}),e.module_root||(e.module_root=o0(__filename)),qa.extname(e.bindings)!=".node"&&(e.bindings+=".node");for(var t=typeof __webpack_require__=="function"?__non_webpack_require__:require,n=[],o=0,i=e.try.length,u,s,a;o<i;o++){u=ds.apply(null,e.try[o].map(function(c){return e[c]||c})),n.push(u);try{return s=e.path?t.resolve(u):t(u),e.path||(s.path=u),s}catch(c){if(c.code!=="MODULE_NOT_FOUND"&&c.code!=="QUALIFIED_PATH_RESOLUTION_FAILED"&&!/not find/i.test(c.message))throw c}}throw a=new Error(`Could not locate the bindings file. Tried:
`+n.map(function(c){return e.arrow+c}).join(`
`)),a.tries=n,a}r(r0,"bindings");Iy.exports=r0;function o0(e){for(var t=n0(e),n;;){if(t==="."&&(t=process.cwd()),wy(ds(t,"dist")))return ds(t,"dist");if(wy(ds(t,"compiled")))return t;if(n===t)throw new Error('Could not find module root given file: "'+e+'". Do you have a `dist` or `compiled` directory? ');n=t,t=ds(t,"..")}}r(o0,"getRoot")});var Ty=X((uz,Sy)=>{Sy.exports=xy()("node_sqlite3.node")});var Py=X(Ry=>{var i0=require("util");function s0(e,t,n){let o=e[t];e[t]=function(){let i=new Error,u=e.constructor.name+"#"+t+"("+Array.prototype.slice.call(arguments).map(function(a){return i0.inspect(a,!1,0)}).join(", ")+")";typeof n>"u"&&(n=-1),n<0&&(n+=arguments.length);let s=arguments[n];return typeof arguments[n]=="function"&&(arguments[n]=r(function(){let c=arguments[0];return c&&c.stack&&!c.__augmented&&(c.stack=Ey(c).join(`
`),c.stack+=`
--> in `+u,c.stack+=`
`+Ey(i).slice(1).join(`
`),c.__augmented=!0),s.apply(this,arguments)},"replacement")),o.apply(this,arguments)}}r(s0,"extendTrace");Ry.extendTrace=s0;function Ey(e){return e.stack.split(`
`).filter(function(t){return t.indexOf(__filename)<0})}r(Ey,"filter")});var Cy=X((My,Ny)=>{var a0=require("path"),ln=Ty(),Qo=require("events").EventEmitter;Ny.exports=My=ln;function Jo(e){return function(t){let n,o=Array.prototype.slice.call(arguments,1);if(typeof o[o.length-1]=="function"){let u=o[o.length-1];n=r(function(s){s&&u(s)},"errBack")}let i=new Ba(this,t,n);return e.call(this,i,o)}}r(Jo,"normalizeMethod");function Md(e,t){for(let n in t.prototype)e.prototype[n]=t.prototype[n]}r(Md,"inherits");ln.cached={Database:r(function(e,t,n){if(e===""||e===":memory:")return new Ct(e,t,n);let o;if(e=a0.resolve(e),!ln.cached.objects[e])o=ln.cached.objects[e]=new Ct(e,t,n);else{o=ln.cached.objects[e];let u=typeof t=="number"?n:t;if(typeof u=="function"){let s=function(){u.call(o,null)};var i=s;r(s,"cb"),o.open?process.nextTick(s):o.once("open",s)}}return o},"Database"),objects:{}};var Ct=ln.Database,Ba=ln.Statement,kd=ln.Backup;Md(Ct,Qo);Md(Ba,Qo);Md(kd,Qo);Ct.prototype.prepare=Jo(function(e,t){return t.length?e.bind.apply(e,t):e});Ct.prototype.run=Jo(function(e,t){return e.run.apply(e,t).finalize(),this});Ct.prototype.get=Jo(function(e,t){return e.get.apply(e,t).finalize(),this});Ct.prototype.all=Jo(function(e,t){return e.all.apply(e,t).finalize(),this});Ct.prototype.each=Jo(function(e,t){return e.each.apply(e,t).finalize(),this});Ct.prototype.map=Jo(function(e,t){return e.map.apply(e,t).finalize(),this});Ct.prototype.backup=function(){let e;return arguments.length<=2?e=new kd(this,arguments[0],"main","main",!0,arguments[1]):e=new kd(this,arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]),e.retryErrors=[ln.BUSY,ln.LOCKED],e};Ba.prototype.map=function(){let e=Array.prototype.slice.call(arguments),t=e.pop();return e.push(function(n,o){if(n)return t(n);let i={};if(o.length){let u=Object.keys(o[0]),s=u[0];if(u.length>2)for(let a=0;a<o.length;a++)i[o[a][s]]=o[a];else{let a=u[1];for(let c=0;c<o.length;c++)i[o[c][s]]=o[c][a]}}t(n,i)}),this.all.apply(this,e)};var ky=!1,Nd=["trace","profile","change"];Ct.prototype.addListener=Ct.prototype.on=function(e){let t=Qo.prototype.addListener.apply(this,arguments);return Nd.indexOf(e)>=0&&this.configure(e,!0),t};Ct.prototype.removeListener=function(e){let t=Qo.prototype.removeListener.apply(this,arguments);return Nd.indexOf(e)>=0&&!this._events[e]&&this.configure(e,!1),t};Ct.prototype.removeAllListeners=function(e){let t=Qo.prototype.removeAllListeners.apply(this,arguments);return Nd.indexOf(e)>=0&&this.configure(e,!1),t};ln.verbose=function(){if(!ky){let e=Py();["prepare","get","run","all","each","map","close","exec"].forEach(function(t){e.extendTrace(Ct.prototype,t)}),["bind","get","run","all","each","map","reset","finalize"].forEach(function(t){e.extendTrace(Ba.prototype,t)}),ky=!0}return ln}});var Yo=X(Pt=>{"use strict";Object.defineProperty(Pt,"__esModule",{value:!0});Pt.stringArray=Pt.array=Pt.func=Pt.error=Pt.number=Pt.string=Pt.boolean=void 0;function c0(e){return e===!0||e===!1}r(c0,"boolean");Pt.boolean=c0;function Fy(e){return typeof e=="string"||e instanceof String}r(Fy,"string");Pt.string=Fy;function l0(e){return typeof e=="number"||e instanceof Number}r(l0,"number");Pt.number=l0;function d0(e){return e instanceof Error}r(d0,"error");Pt.error=d0;function f0(e){return typeof e=="function"}r(f0,"func");Pt.func=f0;function Ay(e){return Array.isArray(e)}r(Ay,"array");Pt.array=Ay;function m0(e){return Ay(e)&&e.every(t=>Fy(t))}r(m0,"stringArray");Pt.stringArray=m0});var Cf=X(oe=>{"use strict";Object.defineProperty(oe,"__esModule",{value:!0});oe.Message=oe.NotificationType9=oe.NotificationType8=oe.NotificationType7=oe.NotificationType6=oe.NotificationType5=oe.NotificationType4=oe.NotificationType3=oe.NotificationType2=oe.NotificationType1=oe.NotificationType0=oe.NotificationType=oe.RequestType9=oe.RequestType8=oe.RequestType7=oe.RequestType6=oe.RequestType5=oe.RequestType4=oe.RequestType3=oe.RequestType2=oe.RequestType1=oe.RequestType=oe.RequestType0=oe.AbstractMessageSignature=oe.ParameterStructures=oe.ResponseError=oe.ErrorCodes=void 0;var uo=Yo(),jd;(function(e){e.ParseError=-32700,e.InvalidRequest=-32600,e.MethodNotFound=-32601,e.InvalidParams=-32602,e.InternalError=-32603,e.jsonrpcReservedErrorRangeStart=-32099,e.serverErrorStart=-32099,e.MessageWriteError=-32099,e.MessageReadError=-32098,e.PendingResponseRejected=-32097,e.ConnectionInactive=-32096,e.ServerNotInitialized=-32002,e.UnknownErrorCode=-32001,e.jsonrpcReservedErrorRangeEnd=-32e3,e.serverErrorEnd=-32e3})(jd||(oe.ErrorCodes=jd={}));var za=class za extends Error{constructor(t,n,o){super(n),this.code=uo.number(t)?t:jd.UnknownErrorCode,this.data=o,Object.setPrototypeOf(this,za.prototype)}toJson(){let t={code:this.code,message:this.message};return this.data!==void 0&&(t.data=this.data),t}};r(za,"ResponseError");var Ud=za;oe.ResponseError=Ud;var ei=class ei{constructor(t){this.kind=t}static is(t){return t===ei.auto||t===ei.byName||t===ei.byPosition}toString(){return this.kind}};r(ei,"ParameterStructures");var jt=ei;oe.ParameterStructures=jt;jt.auto=new jt("auto");jt.byPosition=new jt("byPosition");jt.byName=new jt("byName");var cf=class cf{constructor(t,n){this.method=t,this.numberOfParams=n}get parameterStructures(){return jt.auto}};r(cf,"AbstractMessageSignature");var qe=cf;oe.AbstractMessageSignature=qe;var lf=class lf extends qe{constructor(t){super(t,0)}};r(lf,"RequestType0");var qd=lf;oe.RequestType0=qd;var df=class df extends qe{constructor(t,n=jt.auto){super(t,1),this._parameterStructures=n}get parameterStructures(){return this._parameterStructures}};r(df,"RequestType");var Bd=df;oe.RequestType=Bd;var ff=class ff extends qe{constructor(t,n=jt.auto){super(t,1),this._parameterStructures=n}get parameterStructures(){return this._parameterStructures}};r(ff,"RequestType1");var Wd=ff;oe.RequestType1=Wd;var mf=class mf extends qe{constructor(t){super(t,2)}};r(mf,"RequestType2");var $d=mf;oe.RequestType2=$d;var pf=class pf extends qe{constructor(t){super(t,3)}};r(pf,"RequestType3");var Gd=pf;oe.RequestType3=Gd;var gf=class gf extends qe{constructor(t){super(t,4)}};r(gf,"RequestType4");var Vd=gf;oe.RequestType4=Vd;var hf=class hf extends qe{constructor(t){super(t,5)}};r(hf,"RequestType5");var zd=hf;oe.RequestType5=zd;var _f=class _f extends qe{constructor(t){super(t,6)}};r(_f,"RequestType6");var Kd=_f;oe.RequestType6=Kd;var yf=class yf extends qe{constructor(t){super(t,7)}};r(yf,"RequestType7");var Hd=yf;oe.RequestType7=Hd;var bf=class bf extends qe{constructor(t){super(t,8)}};r(bf,"RequestType8");var Zd=bf;oe.RequestType8=Zd;var wf=class wf extends qe{constructor(t){super(t,9)}};r(wf,"RequestType9");var Qd=wf;oe.RequestType9=Qd;var vf=class vf extends qe{constructor(t,n=jt.auto){super(t,1),this._parameterStructures=n}get parameterStructures(){return this._parameterStructures}};r(vf,"NotificationType");var Jd=vf;oe.NotificationType=Jd;var If=class If extends qe{constructor(t){super(t,0)}};r(If,"NotificationType0");var Xd=If;oe.NotificationType0=Xd;var xf=class xf extends qe{constructor(t,n=jt.auto){super(t,1),this._parameterStructures=n}get parameterStructures(){return this._parameterStructures}};r(xf,"NotificationType1");var Yd=xf;oe.NotificationType1=Yd;var Sf=class Sf extends qe{constructor(t){super(t,2)}};r(Sf,"NotificationType2");var ef=Sf;oe.NotificationType2=ef;var Tf=class Tf extends qe{constructor(t){super(t,3)}};r(Tf,"NotificationType3");var tf=Tf;oe.NotificationType3=tf;var Ef=class Ef extends qe{constructor(t){super(t,4)}};r(Ef,"NotificationType4");var nf=Ef;oe.NotificationType4=nf;var Rf=class Rf extends qe{constructor(t){super(t,5)}};r(Rf,"NotificationType5");var rf=Rf;oe.NotificationType5=rf;var Pf=class Pf extends qe{constructor(t){super(t,6)}};r(Pf,"NotificationType6");var of=Pf;oe.NotificationType6=of;var kf=class kf extends qe{constructor(t){super(t,7)}};r(kf,"NotificationType7");var sf=kf;oe.NotificationType7=sf;var Mf=class Mf extends qe{constructor(t){super(t,8)}};r(Mf,"NotificationType8");var af=Mf;oe.NotificationType8=af;var Nf=class Nf extends qe{constructor(t){super(t,9)}};r(Nf,"NotificationType9");var uf=Nf;oe.NotificationType9=uf;var Dy;(function(e){function t(i){let u=i;return u&&uo.string(u.method)&&(uo.string(u.id)||uo.number(u.id))}r(t,"isRequest"),e.isRequest=t;function n(i){let u=i;return u&&uo.string(u.method)&&i.id===void 0}r(n,"isNotification"),e.isNotification=n;function o(i){let u=i;return u&&(u.result!==void 0||!!u.error)&&(uo.string(u.id)||uo.number(u.id)||u.id===null)}r(o,"isResponse"),e.isResponse=o})(Dy||(oe.Message=Dy={}))});var Af=X(Pr=>{"use strict";var jy;Object.defineProperty(Pr,"__esModule",{value:!0});Pr.LRUCache=Pr.LinkedMap=Pr.Touch=void 0;var kt;(function(e){e.None=0,e.First=1,e.AsOld=e.First,e.Last=2,e.AsNew=e.Last})(kt||(Pr.Touch=kt={}));var Of=class Of{constructor(){this[jy]="LinkedMap",this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){var t;return(t=this._head)==null?void 0:t.value}get last(){var t;return(t=this._tail)==null?void 0:t.value}has(t){return this._map.has(t)}get(t,n=kt.None){let o=this._map.get(t);if(o)return n!==kt.None&&this.touch(o,n),o.value}set(t,n,o=kt.None){let i=this._map.get(t);if(i)i.value=n,o!==kt.None&&this.touch(i,o);else{switch(i={key:t,value:n,next:void 0,previous:void 0},o){case kt.None:this.addItemLast(i);break;case kt.First:this.addItemFirst(i);break;case kt.Last:this.addItemLast(i);break;default:this.addItemLast(i);break}this._map.set(t,i),this._size++}return this}delete(t){return!!this.remove(t)}remove(t){let n=this._map.get(t);if(n)return this._map.delete(t),this.removeItem(n),this._size--,n.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");let t=this._head;return this._map.delete(t.key),this.removeItem(t),this._size--,t.value}forEach(t,n){let o=this._state,i=this._head;for(;i;){if(n?t.bind(n)(i.value,i.key,this):t(i.value,i.key,this),this._state!==o)throw new Error("LinkedMap got modified during iteration.");i=i.next}}keys(){let t=this._state,n=this._head,o={[Symbol.iterator]:()=>o,next:r(()=>{if(this._state!==t)throw new Error("LinkedMap got modified during iteration.");if(n){let i={value:n.key,done:!1};return n=n.next,i}else return{value:void 0,done:!0}},"next")};return o}values(){let t=this._state,n=this._head,o={[Symbol.iterator]:()=>o,next:r(()=>{if(this._state!==t)throw new Error("LinkedMap got modified during iteration.");if(n){let i={value:n.value,done:!1};return n=n.next,i}else return{value:void 0,done:!0}},"next")};return o}entries(){let t=this._state,n=this._head,o={[Symbol.iterator]:()=>o,next:r(()=>{if(this._state!==t)throw new Error("LinkedMap got modified during iteration.");if(n){let i={value:[n.key,n.value],done:!1};return n=n.next,i}else return{value:void 0,done:!0}},"next")};return o}[(jy=Symbol.toStringTag,Symbol.iterator)](){return this.entries()}trimOld(t){if(t>=this.size)return;if(t===0){this.clear();return}let n=this._head,o=this.size;for(;n&&o>t;)this._map.delete(n.key),n=n.next,o--;this._head=n,this._size=o,n&&(n.previous=void 0),this._state++}addItemFirst(t){if(!this._head&&!this._tail)this._tail=t;else if(this._head)t.next=this._head,this._head.previous=t;else throw new Error("Invalid list");this._head=t,this._state++}addItemLast(t){if(!this._head&&!this._tail)this._head=t;else if(this._tail)t.previous=this._tail,this._tail.next=t;else throw new Error("Invalid list");this._tail=t,this._state++}removeItem(t){if(t===this._head&&t===this._tail)this._head=void 0,this._tail=void 0;else if(t===this._head){if(!t.next)throw new Error("Invalid list");t.next.previous=void 0,this._head=t.next}else if(t===this._tail){if(!t.previous)throw new Error("Invalid list");t.previous.next=void 0,this._tail=t.previous}else{let n=t.next,o=t.previous;if(!n||!o)throw new Error("Invalid list");n.previous=o,o.next=n}t.next=void 0,t.previous=void 0,this._state++}touch(t,n){if(!this._head||!this._tail)throw new Error("Invalid list");if(!(n!==kt.First&&n!==kt.Last)){if(n===kt.First){if(t===this._head)return;let o=t.next,i=t.previous;t===this._tail?(i.next=void 0,this._tail=i):(o.previous=i,i.next=o),t.previous=void 0,t.next=this._head,this._head.previous=t,this._head=t,this._state++}else if(n===kt.Last){if(t===this._tail)return;let o=t.next,i=t.previous;t===this._head?(o.previous=void 0,this._head=o):(o.previous=i,i.next=o),t.next=void 0,t.previous=this._tail,this._tail.next=t,this._tail=t,this._state++}}}toJSON(){let t=[];return this.forEach((n,o)=>{t.push([o,n])}),t}fromJSON(t){this.clear();for(let[n,o]of t)this.set(n,o)}};r(Of,"LinkedMap");var Ka=Of;Pr.LinkedMap=Ka;var Ff=class Ff extends Ka{constructor(t,n=1){super(),this._limit=t,this._ratio=Math.min(Math.max(0,n),1)}get limit(){return this._limit}set limit(t){this._limit=t,this.checkTrim()}get ratio(){return this._ratio}set ratio(t){this._ratio=Math.min(Math.max(0,t),1),this.checkTrim()}get(t,n=kt.AsNew){return super.get(t,n)}peek(t){return super.get(t,kt.None)}set(t,n){return super.set(t,n,kt.Last),this.checkTrim(),this}checkTrim(){this.size>this._limit&&this.trimOld(Math.round(this._limit*this._ratio))}};r(Ff,"LRUCache");var Lf=Ff;Pr.LRUCache=Lf});var qy=X(Ha=>{"use strict";Object.defineProperty(Ha,"__esModule",{value:!0});Ha.Disposable=void 0;var Uy;(function(e){function t(n){return{dispose:n}}r(t,"create"),e.create=t})(Uy||(Ha.Disposable=Uy={}))});var kr=X(Uf=>{"use strict";Object.defineProperty(Uf,"__esModule",{value:!0});var Df;function jf(){if(Df===void 0)throw new Error("No runtime abstraction layer installed");return Df}r(jf,"RAL");(function(e){function t(n){if(n===void 0)throw new Error("No runtime abstraction layer provided");Df=n}r(t,"install"),e.install=t})(jf||(jf={}));Uf.default=jf});var ni=X(ti=>{"use strict";Object.defineProperty(ti,"__esModule",{value:!0});ti.Emitter=ti.Event=void 0;var p0=kr(),By;(function(e){let t={dispose(){}};e.None=function(){return t}})(By||(ti.Event=By={}));var Bf=class Bf{add(t,n=null,o){this._callbacks||(this._callbacks=[],this._contexts=[]),this._callbacks.push(t),this._contexts.push(n),Array.isArray(o)&&o.push({dispose:r(()=>this.remove(t,n),"dispose")})}remove(t,n=null){if(!this._callbacks)return;let o=!1;for(let i=0,u=this._callbacks.length;i<u;i++)if(this._callbacks[i]===t)if(this._contexts[i]===n){this._callbacks.splice(i,1),this._contexts.splice(i,1);return}else o=!0;if(o)throw new Error("When adding a listener with a context, you should remove it with the same context")}invoke(...t){if(!this._callbacks)return[];let n=[],o=this._callbacks.slice(0),i=this._contexts.slice(0);for(let u=0,s=o.length;u<s;u++)try{n.push(o[u].apply(i[u],t))}catch(a){(0,p0.default)().console.error(a)}return n}isEmpty(){return!this._callbacks||this._callbacks.length===0}dispose(){this._callbacks=void 0,this._contexts=void 0}};r(Bf,"CallbackList");var qf=Bf,Qa=class Qa{constructor(t){this._options=t}get event(){return this._event||(this._event=(t,n,o)=>{this._callbacks||(this._callbacks=new qf),this._options&&this._options.onFirstListenerAdd&&this._callbacks.isEmpty()&&this._options.onFirstListenerAdd(this),this._callbacks.add(t,n);let i={dispose:r(()=>{this._callbacks&&(this._callbacks.remove(t,n),i.dispose=Qa._noop,this._options&&this._options.onLastListenerRemove&&this._callbacks.isEmpty()&&this._options.onLastListenerRemove(this))},"dispose")};return Array.isArray(o)&&o.push(i),i}),this._event}fire(t){this._callbacks&&this._callbacks.invoke.call(this._callbacks,t)}dispose(){this._callbacks&&(this._callbacks.dispose(),this._callbacks=void 0)}};r(Qa,"Emitter");var Za=Qa;ti.Emitter=Za;Za._noop=function(){}});var Ya=X(ri=>{"use strict";Object.defineProperty(ri,"__esModule",{value:!0});ri.CancellationTokenSource=ri.CancellationToken=void 0;var g0=kr(),h0=Yo(),Wf=ni(),Ja;(function(e){e.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:Wf.Event.None}),e.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:Wf.Event.None});function t(n){let o=n;return o&&(o===e.None||o===e.Cancelled||h0.boolean(o.isCancellationRequested)&&!!o.onCancellationRequested)}r(t,"is"),e.is=t})(Ja||(ri.CancellationToken=Ja={}));var _0=Object.freeze(function(e,t){let n=(0,g0.default)().timer.setTimeout(e.bind(t),0);return{dispose(){n.dispose()}}}),Gf=class Gf{constructor(){this._isCancelled=!1}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?_0:(this._emitter||(this._emitter=new Wf.Emitter),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=void 0)}};r(Gf,"MutableToken");var Xa=Gf,Vf=class Vf{get token(){return this._token||(this._token=new Xa),this._token}cancel(){this._token?this._token.cancel():this._token=Ja.Cancelled}dispose(){this._token?this._token instanceof Xa&&this._token.dispose():this._token=Ja.None}};r(Vf,"CancellationTokenSource");var $f=Vf;ri.CancellationTokenSource=$f});var Wy=X(oi=>{"use strict";Object.defineProperty(oi,"__esModule",{value:!0});oi.SharedArrayReceiverStrategy=oi.SharedArraySenderStrategy=void 0;var y0=Ya(),ms;(function(e){e.Continue=0,e.Cancelled=1})(ms||(ms={}));var Qf=class Qf{constructor(){this.buffers=new Map}enableCancellation(t){if(t.id===null)return;let n=new SharedArrayBuffer(4),o=new Int32Array(n,0,1);o[0]=ms.Continue,this.buffers.set(t.id,n),t.$cancellationData=n}async sendCancellation(t,n){let o=this.buffers.get(n);if(o===void 0)return;let i=new Int32Array(o,0,1);Atomics.store(i,0,ms.Cancelled)}cleanup(t){this.buffers.delete(t)}dispose(){this.buffers.clear()}};r(Qf,"SharedArraySenderStrategy");var zf=Qf;oi.SharedArraySenderStrategy=zf;var Jf=class Jf{constructor(t){this.data=new Int32Array(t,0,1)}get isCancellationRequested(){return Atomics.load(this.data,0)===ms.Cancelled}get onCancellationRequested(){throw new Error("Cancellation over SharedArrayBuffer doesn't support cancellation events")}};r(Jf,"SharedArrayBufferCancellationToken");var Kf=Jf,Xf=class Xf{constructor(t){this.token=new Kf(t)}cancel(){}dispose(){}};r(Xf,"SharedArrayBufferCancellationTokenSource");var Hf=Xf,Yf=class Yf{constructor(){this.kind="request"}createCancellationTokenSource(t){let n=t.$cancellationData;return n===void 0?new y0.CancellationTokenSource:new Hf(n)}};r(Yf,"SharedArrayReceiverStrategy");var Zf=Yf;oi.SharedArrayReceiverStrategy=Zf});var nm=X(eu=>{"use strict";Object.defineProperty(eu,"__esModule",{value:!0});eu.Semaphore=void 0;var b0=kr(),tm=class tm{constructor(t=1){if(t<=0)throw new Error("Capacity must be greater than 0");this._capacity=t,this._active=0,this._waiting=[]}lock(t){return new Promise((n,o)=>{this._waiting.push({thunk:t,resolve:n,reject:o}),this.runNext()})}get active(){return this._active}runNext(){this._waiting.length===0||this._active===this._capacity||(0,b0.default)().timer.setImmediate(()=>this.doRunNext())}doRunNext(){if(this._waiting.length===0||this._active===this._capacity)return;let t=this._waiting.shift();if(this._active++,this._active>this._capacity)throw new Error("To many thunks active");try{let n=t.thunk();n instanceof Promise?n.then(o=>{this._active--,t.resolve(o),this.runNext()},o=>{this._active--,t.reject(o),this.runNext()}):(this._active--,t.resolve(n),this.runNext())}catch(n){this._active--,t.reject(n),this.runNext()}}};r(tm,"Semaphore");var em=tm;eu.Semaphore=em});var Gy=X(Mr=>{"use strict";Object.defineProperty(Mr,"__esModule",{value:!0});Mr.ReadableStreamMessageReader=Mr.AbstractMessageReader=Mr.MessageReader=void 0;var om=kr(),ii=Yo(),rm=ni(),w0=nm(),$y;(function(e){function t(n){let o=n;return o&&ii.func(o.listen)&&ii.func(o.dispose)&&ii.func(o.onError)&&ii.func(o.onClose)&&ii.func(o.onPartialMessage)}r(t,"is"),e.is=t})($y||(Mr.MessageReader=$y={}));var am=class am{constructor(){this.errorEmitter=new rm.Emitter,this.closeEmitter=new rm.Emitter,this.partialMessageEmitter=new rm.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(t){this.errorEmitter.fire(this.asError(t))}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}get onPartialMessage(){return this.partialMessageEmitter.event}firePartialMessage(t){this.partialMessageEmitter.fire(t)}asError(t){return t instanceof Error?t:new Error(`Reader received error. Reason: ${ii.string(t.message)?t.message:"unknown"}`)}};r(am,"AbstractMessageReader");var tu=am;Mr.AbstractMessageReader=tu;var im;(function(e){function t(n){var l;let o,i,u,s=new Map,a,c=new Map;if(n===void 0||typeof n=="string")o=n!=null?n:"utf-8";else{if(o=(l=n.charset)!=null?l:"utf-8",n.contentDecoder!==void 0&&(u=n.contentDecoder,s.set(u.name,u)),n.contentDecoders!==void 0)for(let m of n.contentDecoders)s.set(m.name,m);if(n.contentTypeDecoder!==void 0&&(a=n.contentTypeDecoder,c.set(a.name,a)),n.contentTypeDecoders!==void 0)for(let m of n.contentTypeDecoders)c.set(m.name,m)}return a===void 0&&(a=(0,om.default)().applicationJson.decoder,c.set(a.name,a)),{charset:o,contentDecoder:u,contentDecoders:s,contentTypeDecoder:a,contentTypeDecoders:c}}r(t,"fromOptions"),e.fromOptions=t})(im||(im={}));var um=class um extends tu{constructor(t,n){super(),this.readable=t,this.options=im.fromOptions(n),this.buffer=(0,om.default)().messageBuffer.create(this.options.charset),this._partialMessageTimeout=1e4,this.nextMessageLength=-1,this.messageToken=0,this.readSemaphore=new w0.Semaphore(1)}set partialMessageTimeout(t){this._partialMessageTimeout=t}get partialMessageTimeout(){return this._partialMessageTimeout}listen(t){this.nextMessageLength=-1,this.messageToken=0,this.partialMessageTimer=void 0,this.callback=t;let n=this.readable.onData(o=>{this.onData(o)});return this.readable.onError(o=>this.fireError(o)),this.readable.onClose(()=>this.fireClose()),n}onData(t){try{for(this.buffer.append(t);;){if(this.nextMessageLength===-1){let o=this.buffer.tryReadHeaders(!0);if(!o)return;let i=o.get("content-length");if(!i){this.fireError(new Error(`Header must provide a Content-Length property.
${JSON.stringify(Object.fromEntries(o))}`));return}let u=parseInt(i);if(isNaN(u)){this.fireError(new Error(`Content-Length value must be a number. Got ${i}`));return}this.nextMessageLength=u}let n=this.buffer.tryReadBody(this.nextMessageLength);if(n===void 0){this.setPartialMessageTimer();return}this.clearPartialMessageTimer(),this.nextMessageLength=-1,this.readSemaphore.lock(async()=>{let o=this.options.contentDecoder!==void 0?await this.options.contentDecoder.decode(n):n,i=await this.options.contentTypeDecoder.decode(o,this.options);this.callback(i)}).catch(o=>{this.fireError(o)})}}catch(n){this.fireError(n)}}clearPartialMessageTimer(){this.partialMessageTimer&&(this.partialMessageTimer.dispose(),this.partialMessageTimer=void 0)}setPartialMessageTimer(){this.clearPartialMessageTimer(),!(this._partialMessageTimeout<=0)&&(this.partialMessageTimer=(0,om.default)().timer.setTimeout((t,n)=>{this.partialMessageTimer=void 0,t===this.messageToken&&(this.firePartialMessage({messageToken:t,waitingTime:n}),this.setPartialMessageTimer())},this._partialMessageTimeout,this.messageToken,this._partialMessageTimeout))}};r(um,"ReadableStreamMessageReader");var sm=um;Mr.ReadableStreamMessageReader=sm});var Zy=X(Nr=>{"use strict";Object.defineProperty(Nr,"__esModule",{value:!0});Nr.WriteableStreamMessageWriter=Nr.AbstractMessageWriter=Nr.MessageWriter=void 0;var Vy=kr(),ps=Yo(),v0=nm(),zy=ni(),I0="Content-Length: ",Ky=`\r
`,Hy;(function(e){function t(n){let o=n;return o&&ps.func(o.dispose)&&ps.func(o.onClose)&&ps.func(o.onError)&&ps.func(o.write)}r(t,"is"),e.is=t})(Hy||(Nr.MessageWriter=Hy={}));var dm=class dm{constructor(){this.errorEmitter=new zy.Emitter,this.closeEmitter=new zy.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(t,n,o){this.errorEmitter.fire([this.asError(t),n,o])}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}asError(t){return t instanceof Error?t:new Error(`Writer received error. Reason: ${ps.string(t.message)?t.message:"unknown"}`)}};r(dm,"AbstractMessageWriter");var nu=dm;Nr.AbstractMessageWriter=nu;var cm;(function(e){function t(n){var o,i;return n===void 0||typeof n=="string"?{charset:n!=null?n:"utf-8",contentTypeEncoder:(0,Vy.default)().applicationJson.encoder}:{charset:(o=n.charset)!=null?o:"utf-8",contentEncoder:n.contentEncoder,contentTypeEncoder:(i=n.contentTypeEncoder)!=null?i:(0,Vy.default)().applicationJson.encoder}}r(t,"fromOptions"),e.fromOptions=t})(cm||(cm={}));var fm=class fm extends nu{constructor(t,n){super(),this.writable=t,this.options=cm.fromOptions(n),this.errorCount=0,this.writeSemaphore=new v0.Semaphore(1),this.writable.onError(o=>this.fireError(o)),this.writable.onClose(()=>this.fireClose())}async write(t){return this.writeSemaphore.lock(async()=>this.options.contentTypeEncoder.encode(t,this.options).then(o=>this.options.contentEncoder!==void 0?this.options.contentEncoder.encode(o):o).then(o=>{let i=[];return i.push(I0,o.byteLength.toString(),Ky),i.push(Ky),this.doWrite(t,i,o)},o=>{throw this.fireError(o),o}))}async doWrite(t,n,o){try{return await this.writable.write(n.join(""),"ascii"),this.writable.write(o)}catch(i){return this.handleError(i,t),Promise.reject(i)}}handleError(t,n){this.errorCount++,this.fireError(t,n,this.errorCount)}end(){this.writable.end()}};r(fm,"WriteableStreamMessageWriter");var lm=fm;Nr.WriteableStreamMessageWriter=lm});var Qy=X(ru=>{"use strict";Object.defineProperty(ru,"__esModule",{value:!0});ru.AbstractMessageBuffer=void 0;var x0=13,S0=10,T0=`\r
`,pm=class pm{constructor(t="utf-8"){this._encoding=t,this._chunks=[],this._totalLength=0}get encoding(){return this._encoding}append(t){let n=typeof t=="string"?this.fromString(t,this._encoding):t;this._chunks.push(n),this._totalLength+=n.byteLength}tryReadHeaders(t=!1){if(this._chunks.length===0)return;let n=0,o=0,i=0,u=0;e:for(;o<this._chunks.length;){let l=this._chunks[o];for(i=0;i<l.length;){switch(l[i]){case x0:switch(n){case 0:n=1;break;case 2:n=3;break;default:n=0}break;case S0:switch(n){case 1:n=2;break;case 3:n=4,i++;break e;default:n=0}break;default:n=0}i++}u+=l.byteLength,o++}if(n!==4)return;let s=this._read(u+i),a=new Map,c=this.toString(s,"ascii").split(T0);if(c.length<2)return a;for(let l=0;l<c.length-2;l++){let m=c[l],g=m.indexOf(":");if(g===-1)throw new Error(`Message header must separate key and value using ':'
${m}`);let _=m.substr(0,g),v=m.substr(g+1).trim();a.set(t?_.toLowerCase():_,v)}return a}tryReadBody(t){if(!(this._totalLength<t))return this._read(t)}get numberOfBytes(){return this._totalLength}_read(t){if(t===0)return this.emptyBuffer();if(t>this._totalLength)throw new Error("Cannot read so many bytes!");if(this._chunks[0].byteLength===t){let u=this._chunks[0];return this._chunks.shift(),this._totalLength-=t,this.asNative(u)}if(this._chunks[0].byteLength>t){let u=this._chunks[0],s=this.asNative(u,t);return this._chunks[0]=u.slice(t),this._totalLength-=t,s}let n=this.allocNative(t),o=0,i=0;for(;t>0;){let u=this._chunks[i];if(u.byteLength>t){let s=u.slice(0,t);n.set(s,o),o+=t,this._chunks[i]=u.slice(t),this._totalLength-=t,t-=t}else n.set(u,o),o+=u.byteLength,this._chunks.shift(),this._totalLength-=u.byteLength,t-=u.byteLength}return n}};r(pm,"AbstractMessageBuffer");var mm=pm;ru.AbstractMessageBuffer=mm});var tb=X(ce=>{"use strict";Object.defineProperty(ce,"__esModule",{value:!0});ce.createMessageConnection=ce.ConnectionOptions=ce.MessageStrategy=ce.CancellationStrategy=ce.CancellationSenderStrategy=ce.CancellationReceiverStrategy=ce.RequestCancellationReceiverStrategy=ce.IdCancellationReceiverStrategy=ce.ConnectionStrategy=ce.ConnectionError=ce.ConnectionErrors=ce.LogTraceNotification=ce.SetTraceNotification=ce.TraceFormat=ce.TraceValues=ce.Trace=ce.NullLogger=ce.ProgressType=ce.ProgressToken=void 0;var Jy=kr(),He=Yo(),ae=Cf(),Xy=Af(),gs=ni(),gm=Ya(),ys;(function(e){e.type=new ae.NotificationType("$/cancelRequest")})(ys||(ys={}));var hm;(function(e){function t(n){return typeof n=="string"||typeof n=="number"}r(t,"is"),e.is=t})(hm||(ce.ProgressToken=hm={}));var hs;(function(e){e.type=new ae.NotificationType("$/progress")})(hs||(hs={}));var Im=class Im{constructor(){}};r(Im,"ProgressType");var _m=Im;ce.ProgressType=_m;var ym;(function(e){function t(n){return He.func(n)}r(t,"is"),e.is=t})(ym||(ym={}));ce.NullLogger=Object.freeze({error:r(()=>{},"error"),warn:r(()=>{},"warn"),info:r(()=>{},"info"),log:r(()=>{},"log")});var Ie;(function(e){e[e.Off=0]="Off",e[e.Messages=1]="Messages",e[e.Compact=2]="Compact",e[e.Verbose=3]="Verbose"})(Ie||(ce.Trace=Ie={}));var Yy;(function(e){e.Off="off",e.Messages="messages",e.Compact="compact",e.Verbose="verbose"})(Yy||(ce.TraceValues=Yy={}));(function(e){function t(o){if(!He.string(o))return e.Off;switch(o=o.toLowerCase(),o){case"off":return e.Off;case"messages":return e.Messages;case"compact":return e.Compact;case"verbose":return e.Verbose;default:return e.Off}}r(t,"fromString"),e.fromString=t;function n(o){switch(o){case e.Off:return"off";case e.Messages:return"messages";case e.Compact:return"compact";case e.Verbose:return"verbose";default:return"off"}}r(n,"toString"),e.toString=n})(Ie||(ce.Trace=Ie={}));var Xt;(function(e){e.Text="text",e.JSON="json"})(Xt||(ce.TraceFormat=Xt={}));(function(e){function t(n){return He.string(n)?(n=n.toLowerCase(),n==="json"?e.JSON:e.Text):e.Text}r(t,"fromString"),e.fromString=t})(Xt||(ce.TraceFormat=Xt={}));var bm;(function(e){e.type=new ae.NotificationType("$/setTrace")})(bm||(ce.SetTraceNotification=bm={}));var ou;(function(e){e.type=new ae.NotificationType("$/logTrace")})(ou||(ce.LogTraceNotification=ou={}));var _s;(function(e){e[e.Closed=1]="Closed",e[e.Disposed=2]="Disposed",e[e.AlreadyListening=3]="AlreadyListening"})(_s||(ce.ConnectionErrors=_s={}));var lu=class lu extends Error{constructor(t,n){super(n),this.code=t,Object.setPrototypeOf(this,lu.prototype)}};r(lu,"ConnectionError");var si=lu;ce.ConnectionError=si;var wm;(function(e){function t(n){let o=n;return o&&He.func(o.cancelUndispatched)}r(t,"is"),e.is=t})(wm||(ce.ConnectionStrategy=wm={}));var iu;(function(e){function t(n){let o=n;return o&&(o.kind===void 0||o.kind==="id")&&He.func(o.createCancellationTokenSource)&&(o.dispose===void 0||He.func(o.dispose))}r(t,"is"),e.is=t})(iu||(ce.IdCancellationReceiverStrategy=iu={}));var vm;(function(e){function t(n){let o=n;return o&&o.kind==="request"&&He.func(o.createCancellationTokenSource)&&(o.dispose===void 0||He.func(o.dispose))}r(t,"is"),e.is=t})(vm||(ce.RequestCancellationReceiverStrategy=vm={}));var su;(function(e){e.Message=Object.freeze({createCancellationTokenSource(n){return new gm.CancellationTokenSource}});function t(n){return iu.is(n)||vm.is(n)}r(t,"is"),e.is=t})(su||(ce.CancellationReceiverStrategy=su={}));var au;(function(e){e.Message=Object.freeze({sendCancellation(n,o){return n.sendNotification(ys.type,{id:o})},cleanup(n){}});function t(n){let o=n;return o&&He.func(o.sendCancellation)&&He.func(o.cleanup)}r(t,"is"),e.is=t})(au||(ce.CancellationSenderStrategy=au={}));var uu;(function(e){e.Message=Object.freeze({receiver:su.Message,sender:au.Message});function t(n){let o=n;return o&&su.is(o.receiver)&&au.is(o.sender)}r(t,"is"),e.is=t})(uu||(ce.CancellationStrategy=uu={}));var cu;(function(e){function t(n){let o=n;return o&&He.func(o.handleMessage)}r(t,"is"),e.is=t})(cu||(ce.MessageStrategy=cu={}));var eb;(function(e){function t(n){let o=n;return o&&(uu.is(o.cancellationStrategy)||wm.is(o.connectionStrategy)||cu.is(o.messageStrategy))}r(t,"is"),e.is=t})(eb||(ce.ConnectionOptions=eb={}));var Cn;(function(e){e[e.New=1]="New",e[e.Listening=2]="Listening",e[e.Closed=3]="Closed",e[e.Disposed=4]="Disposed"})(Cn||(Cn={}));function E0(e,t,n,o){let i=n!==void 0?n:ce.NullLogger,u=0,s=0,a=0,c="2.0",l,m=new Map,g,_=new Map,v=new Map,T,P=new Xy.LinkedMap,j=new Map,L=new Set,Q=new Map,$=Ie.Off,Y=Xt.Text,V,re=Cn.New,ne=new gs.Emitter,U=new gs.Emitter,ie=new gs.Emitter,ot=new gs.Emitter,mt=new gs.Emitter,Be=o&&o.cancellationStrategy?o.cancellationStrategy:uu.Message;function W(y){if(y===null)throw new Error("Can't send requests with id null since the response can't be correlated.");return"req-"+y.toString()}r(W,"createRequestQueueKey");function M(y){return y===null?"res-unknown-"+(++a).toString():"res-"+y.toString()}r(M,"createResponseQueueKey");function q(){return"not-"+(++s).toString()}r(q,"createNotificationQueueKey");function Z(y,F){ae.Message.isRequest(F)?y.set(W(F.id),F):ae.Message.isResponse(F)?y.set(M(F.id),F):y.set(q(),F)}r(Z,"addMessageToQueue");function k(y){}r(k,"cancelUndispatched");function O(){return re===Cn.Listening}r(O,"isListening");function D(){return re===Cn.Closed}r(D,"isClosed");function z(){return re===Cn.Disposed}r(z,"isDisposed");function J(){(re===Cn.New||re===Cn.Listening)&&(re=Cn.Closed,U.fire(void 0))}r(J,"closeHandler");function H(y){ne.fire([y,void 0,void 0])}r(H,"readErrorHandler");function se(y){ne.fire(y)}r(se,"writeErrorHandler"),e.onClose(J),e.onError(H),t.onClose(J),t.onError(se);function le(){T||P.size===0||(T=(0,Jy.default)().timer.setImmediate(()=>{T=void 0,xe()}))}r(le,"triggerMessageQueue");function Ze(y){ae.Message.isRequest(y)?On(y):ae.Message.isNotification(y)?xs(y):ae.Message.isResponse(y)?Is(y):go(y)}r(Ze,"handleMessage");function xe(){if(P.size===0)return;let y=P.shift();try{let F=o==null?void 0:o.messageStrategy;cu.is(F)?F.handleMessage(y,Ze):Ze(y)}finally{le()}}r(xe,"processMessageQueue");let Wt=r(y=>{try{if(ae.Message.isNotification(y)&&y.method===ys.type.method){let F=y.params.id,K=W(F),ee=P.get(K);if(ae.Message.isRequest(ee)){let Se=o==null?void 0:o.connectionStrategy,Te=Se&&Se.cancelUndispatched?Se.cancelUndispatched(ee,k):void 0;if(Te&&(Te.error!==void 0||Te.result!==void 0)){P.delete(K),Q.delete(F),Te.id=ee.id,Dr(Te,y.method,Date.now()),t.write(Te).catch(()=>i.error("Sending response for canceled message failed."));return}}let Ne=Q.get(F);if(Ne!==void 0){Ne.cancel(),ho(y);return}else L.add(F)}Z(P,y)}finally{le()}},"callback");function On(y){var Ye;if(z())return;function F(be,$e,Ee){let Ge={jsonrpc:c,id:y.id};be instanceof ae.ResponseError?Ge.error=be.toJson():Ge.result=be===void 0?null:be,Dr(Ge,$e,Ee),t.write(Ge).catch(()=>i.error("Sending response failed."))}r(F,"reply");function K(be,$e,Ee){let Ge={jsonrpc:c,id:y.id,error:be.toJson()};Dr(Ge,$e,Ee),t.write(Ge).catch(()=>i.error("Sending response failed."))}r(K,"replyError");function ee(be,$e,Ee){be===void 0&&(be=null);let Ge={jsonrpc:c,id:y.id,result:be};Dr(Ge,$e,Ee),t.write(Ge).catch(()=>i.error("Sending response failed."))}r(ee,"replySuccess"),Es(y);let Ne=m.get(y.method),Se,Te;Ne&&(Se=Ne.type,Te=Ne.handler);let We=Date.now();if(Te||l){let be=(Ye=y.id)!=null?Ye:String(Date.now()),$e=iu.is(Be.receiver)?Be.receiver.createCancellationTokenSource(be):Be.receiver.createCancellationTokenSource(y);y.id!==null&&L.has(y.id)&&$e.cancel(),y.id!==null&&Q.set(be,$e);try{let Ee;if(Te)if(y.params===void 0){if(Se!==void 0&&Se.numberOfParams!==0){K(new ae.ResponseError(ae.ErrorCodes.InvalidParams,`Request ${y.method} defines ${Se.numberOfParams} params but received none.`),y.method,We);return}Ee=Te($e.token)}else if(Array.isArray(y.params)){if(Se!==void 0&&Se.parameterStructures===ae.ParameterStructures.byName){K(new ae.ResponseError(ae.ErrorCodes.InvalidParams,`Request ${y.method} defines parameters by name but received parameters by position`),y.method,We);return}Ee=Te(...y.params,$e.token)}else{if(Se!==void 0&&Se.parameterStructures===ae.ParameterStructures.byPosition){K(new ae.ResponseError(ae.ErrorCodes.InvalidParams,`Request ${y.method} defines parameters by position but received parameters by name`),y.method,We);return}Ee=Te(y.params,$e.token)}else l&&(Ee=l(y.method,y.params,$e.token));let Ge=Ee;Ee?Ge.then?Ge.then(et=>{Q.delete(be),F(et,y.method,We)},et=>{Q.delete(be),et instanceof ae.ResponseError?K(et,y.method,We):et&&He.string(et.message)?K(new ae.ResponseError(ae.ErrorCodes.InternalError,`Request ${y.method} failed with message: ${et.message}`),y.method,We):K(new ae.ResponseError(ae.ErrorCodes.InternalError,`Request ${y.method} failed unexpectedly without providing any details.`),y.method,We)}):(Q.delete(be),F(Ee,y.method,We)):(Q.delete(be),ee(Ee,y.method,We))}catch(Ee){Q.delete(be),Ee instanceof ae.ResponseError?F(Ee,y.method,We):Ee&&He.string(Ee.message)?K(new ae.ResponseError(ae.ErrorCodes.InternalError,`Request ${y.method} failed with message: ${Ee.message}`),y.method,We):K(new ae.ResponseError(ae.ErrorCodes.InternalError,`Request ${y.method} failed unexpectedly without providing any details.`),y.method,We)}}else K(new ae.ResponseError(ae.ErrorCodes.MethodNotFound,`Unhandled method ${y.method}`),y.method,We)}r(On,"handleRequest");function Is(y){if(!z())if(y.id===null)y.error?i.error(`Received response message without id: Error is: 
${JSON.stringify(y.error,void 0,4)}`):i.error("Received response message without id. No further error information provided.");else{let F=y.id,K=j.get(F);if(Rs(y,K),K!==void 0){j.delete(F);try{if(y.error){let ee=y.error;K.reject(new ae.ResponseError(ee.code,ee.message,ee.data))}else if(y.result!==void 0)K.resolve(y.result);else throw new Error("Should never happen.")}catch(ee){ee.message?i.error(`Response handler '${K.method}' failed with message: ${ee.message}`):i.error(`Response handler '${K.method}' failed unexpectedly.`)}}}}r(Is,"handleResponse");function xs(y){if(z())return;let F,K;if(y.method===ys.type.method){let ee=y.params.id;L.delete(ee),ho(y);return}else{let ee=_.get(y.method);ee&&(K=ee.handler,F=ee.type)}if(K||g)try{if(ho(y),K)if(y.params===void 0)F!==void 0&&F.numberOfParams!==0&&F.parameterStructures!==ae.ParameterStructures.byName&&i.error(`Notification ${y.method} defines ${F.numberOfParams} params but received none.`),K();else if(Array.isArray(y.params)){let ee=y.params;y.method===hs.type.method&&ee.length===2&&hm.is(ee[0])?K({token:ee[0],value:ee[1]}):(F!==void 0&&(F.parameterStructures===ae.ParameterStructures.byName&&i.error(`Notification ${y.method} defines parameters by name but received parameters by position`),F.numberOfParams!==y.params.length&&i.error(`Notification ${y.method} defines ${F.numberOfParams} params but received ${ee.length} arguments`)),K(...ee))}else F!==void 0&&F.parameterStructures===ae.ParameterStructures.byPosition&&i.error(`Notification ${y.method} defines parameters by position but received parameters by name`),K(y.params);else g&&g(y.method,y.params)}catch(ee){ee.message?i.error(`Notification handler '${y.method}' failed with message: ${ee.message}`):i.error(`Notification handler '${y.method}' failed unexpectedly.`)}else ie.fire(y)}r(xs,"handleNotification");function go(y){if(!y){i.error("Received empty message.");return}i.error(`Received message which is neither a response nor a notification message:
${JSON.stringify(y,null,4)}`);let F=y;if(He.string(F.id)||He.number(F.id)){let K=F.id,ee=j.get(K);ee&&ee.reject(new Error("The received response has neither a result nor an error property."))}}r(go,"handleInvalidMessage");function gn(y){if(y!=null)switch($){case Ie.Verbose:return JSON.stringify(y,null,4);case Ie.Compact:return JSON.stringify(y);default:return}}r(gn,"stringifyTrace");function Ss(y){if(!($===Ie.Off||!V))if(Y===Xt.Text){let F;($===Ie.Verbose||$===Ie.Compact)&&y.params&&(F=`Params: ${gn(y.params)}

`),V.log(`Sending request '${y.method} - (${y.id})'.`,F)}else Kn("send-request",y)}r(Ss,"traceSendingRequest");function Ts(y){if(!($===Ie.Off||!V))if(Y===Xt.Text){let F;($===Ie.Verbose||$===Ie.Compact)&&(y.params?F=`Params: ${gn(y.params)}

`:F=`No parameters provided.

`),V.log(`Sending notification '${y.method}'.`,F)}else Kn("send-notification",y)}r(Ts,"traceSendingNotification");function Dr(y,F,K){if(!($===Ie.Off||!V))if(Y===Xt.Text){let ee;($===Ie.Verbose||$===Ie.Compact)&&(y.error&&y.error.data?ee=`Error data: ${gn(y.error.data)}

`:y.result?ee=`Result: ${gn(y.result)}

`:y.error===void 0&&(ee=`No result returned.

`)),V.log(`Sending response '${F} - (${y.id})'. Processing request took ${Date.now()-K}ms`,ee)}else Kn("send-response",y)}r(Dr,"traceSendingResponse");function Es(y){if(!($===Ie.Off||!V))if(Y===Xt.Text){let F;($===Ie.Verbose||$===Ie.Compact)&&y.params&&(F=`Params: ${gn(y.params)}

`),V.log(`Received request '${y.method} - (${y.id})'.`,F)}else Kn("receive-request",y)}r(Es,"traceReceivedRequest");function ho(y){if(!($===Ie.Off||!V||y.method===ou.type.method))if(Y===Xt.Text){let F;($===Ie.Verbose||$===Ie.Compact)&&(y.params?F=`Params: ${gn(y.params)}

`:F=`No parameters provided.

`),V.log(`Received notification '${y.method}'.`,F)}else Kn("receive-notification",y)}r(ho,"traceReceivedNotification");function Rs(y,F){if(!($===Ie.Off||!V))if(Y===Xt.Text){let K;if(($===Ie.Verbose||$===Ie.Compact)&&(y.error&&y.error.data?K=`Error data: ${gn(y.error.data)}

`:y.result?K=`Result: ${gn(y.result)}

`:y.error===void 0&&(K=`No result returned.

`)),F){let ee=y.error?` Request failed: ${y.error.message} (${y.error.code}).`:"";V.log(`Received response '${F.method} - (${y.id})' in ${Date.now()-F.timerStart}ms.${ee}`,K)}else V.log(`Received response ${y.id} without active response promise.`,K)}else Kn("receive-response",y)}r(Rs,"traceReceivedResponse");function Kn(y,F){if(!V||$===Ie.Off)return;let K={isLSPMessage:!0,type:y,message:F,timestamp:Date.now()};V.log(K)}r(Kn,"logLSPMessage");function cr(){if(D())throw new si(_s.Closed,"Connection is closed.");if(z())throw new si(_s.Disposed,"Connection is disposed.")}r(cr,"throwIfClosedOrDisposed");function Ps(){if(O())throw new si(_s.AlreadyListening,"Connection is already listening")}r(Ps,"throwIfListening");function ks(){if(!O())throw new Error("Call listen() first.")}r(ks,"throwIfNotListening");function Fn(y){return y===void 0?null:y}r(Fn,"undefinedToNull");function wi(y){if(y!==null)return y}r(wi,"nullToUndefined");function vi(y){return y!=null&&!Array.isArray(y)&&typeof y=="object"}r(vi,"isNamedParam");function _o(y,F){switch(y){case ae.ParameterStructures.auto:return vi(F)?wi(F):[Fn(F)];case ae.ParameterStructures.byName:if(!vi(F))throw new Error("Received parameters by name but param is not an object literal.");return wi(F);case ae.ParameterStructures.byPosition:return[Fn(F)];default:throw new Error(`Unknown parameter structure ${y.toString()}`)}}r(_o,"computeSingleParam");function Ii(y,F){let K,ee=y.numberOfParams;switch(ee){case 0:K=void 0;break;case 1:K=_o(y.parameterStructures,F[0]);break;default:K=[];for(let Ne=0;Ne<F.length&&Ne<ee;Ne++)K.push(Fn(F[Ne]));if(F.length<ee)for(let Ne=F.length;Ne<ee;Ne++)K.push(null);break}return K}r(Ii,"computeMessageParams");let Hn={sendNotification:r((y,...F)=>{cr();let K,ee;if(He.string(y)){K=y;let Se=F[0],Te=0,We=ae.ParameterStructures.auto;ae.ParameterStructures.is(Se)&&(Te=1,We=Se);let Ye=F.length,be=Ye-Te;switch(be){case 0:ee=void 0;break;case 1:ee=_o(We,F[Te]);break;default:if(We===ae.ParameterStructures.byName)throw new Error(`Received ${be} parameters for 'by Name' notification parameter structure.`);ee=F.slice(Te,Ye).map($e=>Fn($e));break}}else{let Se=F;K=y.method,ee=Ii(y,Se)}let Ne={jsonrpc:c,method:K,params:ee};return Ts(Ne),t.write(Ne).catch(Se=>{throw i.error("Sending notification failed."),Se})},"sendNotification"),onNotification:r((y,F)=>{cr();let K;return He.func(y)?g=y:F&&(He.string(y)?(K=y,_.set(y,{type:void 0,handler:F})):(K=y.method,_.set(y.method,{type:y,handler:F}))),{dispose:r(()=>{K!==void 0?_.delete(K):g=void 0},"dispose")}},"onNotification"),onProgress:r((y,F,K)=>{if(v.has(F))throw new Error(`Progress handler for token ${F} already registered`);return v.set(F,K),{dispose:r(()=>{v.delete(F)},"dispose")}},"onProgress"),sendProgress:r((y,F,K)=>Hn.sendNotification(hs.type,{token:F,value:K}),"sendProgress"),onUnhandledProgress:ot.event,sendRequest:r((y,...F)=>{cr(),ks();let K,ee,Ne;if(He.string(y)){K=y;let Ye=F[0],be=F[F.length-1],$e=0,Ee=ae.ParameterStructures.auto;ae.ParameterStructures.is(Ye)&&($e=1,Ee=Ye);let Ge=F.length;gm.CancellationToken.is(be)&&(Ge=Ge-1,Ne=be);let et=Ge-$e;switch(et){case 0:ee=void 0;break;case 1:ee=_o(Ee,F[$e]);break;default:if(Ee===ae.ParameterStructures.byName)throw new Error(`Received ${et} parameters for 'by Name' request parameter structure.`);ee=F.slice($e,Ge).map(Ms=>Fn(Ms));break}}else{let Ye=F;K=y.method,ee=Ii(y,Ye);let be=y.numberOfParams;Ne=gm.CancellationToken.is(Ye[be])?Ye[be]:void 0}let Se=u++,Te;Ne&&(Te=Ne.onCancellationRequested(()=>{let Ye=Be.sender.sendCancellation(Hn,Se);return Ye===void 0?(i.log(`Received no promise from cancellation strategy when cancelling id ${Se}`),Promise.resolve()):Ye.catch(()=>{i.log(`Sending cancellation messages for id ${Se} failed`)})}));let We={jsonrpc:c,id:Se,method:K,params:ee};return Ss(We),typeof Be.sender.enableCancellation=="function"&&Be.sender.enableCancellation(We),new Promise(async(Ye,be)=>{let $e=r(et=>{Ye(et),Be.sender.cleanup(Se),Te==null||Te.dispose()},"resolveWithCleanup"),Ee=r(et=>{be(et),Be.sender.cleanup(Se),Te==null||Te.dispose()},"rejectWithCleanup"),Ge={method:K,timerStart:Date.now(),resolve:$e,reject:Ee};try{await t.write(We),j.set(Se,Ge)}catch(et){throw i.error("Sending request failed."),Ge.reject(new ae.ResponseError(ae.ErrorCodes.MessageWriteError,et.message?et.message:"Unknown reason")),et}})},"sendRequest"),onRequest:r((y,F)=>{cr();let K=null;return ym.is(y)?(K=void 0,l=y):He.string(y)?(K=null,F!==void 0&&(K=y,m.set(y,{handler:F,type:void 0}))):F!==void 0&&(K=y.method,m.set(y.method,{type:y,handler:F})),{dispose:r(()=>{K!==null&&(K!==void 0?m.delete(K):l=void 0)},"dispose")}},"onRequest"),hasPendingResponse:r(()=>j.size>0,"hasPendingResponse"),trace:r(async(y,F,K)=>{let ee=!1,Ne=Xt.Text;K!==void 0&&(He.boolean(K)?ee=K:(ee=K.sendNotification||!1,Ne=K.traceFormat||Xt.Text)),$=y,Y=Ne,$===Ie.Off?V=void 0:V=F,ee&&!D()&&!z()&&await Hn.sendNotification(bm.type,{value:Ie.toString(y)})},"trace"),onError:ne.event,onClose:U.event,onUnhandledNotification:ie.event,onDispose:mt.event,end:r(()=>{t.end()},"end"),dispose:r(()=>{if(z())return;re=Cn.Disposed,mt.fire(void 0);let y=new ae.ResponseError(ae.ErrorCodes.PendingResponseRejected,"Pending response rejected since connection got disposed");for(let F of j.values())F.reject(y);j=new Map,Q=new Map,L=new Set,P=new Xy.LinkedMap,He.func(t.dispose)&&t.dispose(),He.func(e.dispose)&&e.dispose()},"dispose"),listen:r(()=>{cr(),Ps(),re=Cn.Listening,e.listen(Wt)},"listen"),inspect:r(()=>{(0,Jy.default)().console.log("inspect")},"inspect")};return Hn.onNotification(ou.type,y=>{if($===Ie.Off||!V)return;let F=$===Ie.Verbose||$===Ie.Compact;V.log(y.message,F?y.verbose:void 0)}),Hn.onNotification(hs.type,y=>{let F=v.get(y.token);F?F(y.value):ot.fire(y)}),Hn}r(E0,"createMessageConnection");ce.createMessageConnection=E0});var du=X(N=>{"use strict";Object.defineProperty(N,"__esModule",{value:!0});N.ProgressType=N.ProgressToken=N.createMessageConnection=N.NullLogger=N.ConnectionOptions=N.ConnectionStrategy=N.AbstractMessageBuffer=N.WriteableStreamMessageWriter=N.AbstractMessageWriter=N.MessageWriter=N.ReadableStreamMessageReader=N.AbstractMessageReader=N.MessageReader=N.SharedArrayReceiverStrategy=N.SharedArraySenderStrategy=N.CancellationToken=N.CancellationTokenSource=N.Emitter=N.Event=N.Disposable=N.LRUCache=N.Touch=N.LinkedMap=N.ParameterStructures=N.NotificationType9=N.NotificationType8=N.NotificationType7=N.NotificationType6=N.NotificationType5=N.NotificationType4=N.NotificationType3=N.NotificationType2=N.NotificationType1=N.NotificationType0=N.NotificationType=N.ErrorCodes=N.ResponseError=N.RequestType9=N.RequestType8=N.RequestType7=N.RequestType6=N.RequestType5=N.RequestType4=N.RequestType3=N.RequestType2=N.RequestType1=N.RequestType0=N.RequestType=N.Message=N.RAL=void 0;N.MessageStrategy=N.CancellationStrategy=N.CancellationSenderStrategy=N.CancellationReceiverStrategy=N.ConnectionError=N.ConnectionErrors=N.LogTraceNotification=N.SetTraceNotification=N.TraceFormat=N.TraceValues=N.Trace=void 0;var Ae=Cf();Object.defineProperty(N,"Message",{enumerable:!0,get:r(function(){return Ae.Message},"get")});Object.defineProperty(N,"RequestType",{enumerable:!0,get:r(function(){return Ae.RequestType},"get")});Object.defineProperty(N,"RequestType0",{enumerable:!0,get:r(function(){return Ae.RequestType0},"get")});Object.defineProperty(N,"RequestType1",{enumerable:!0,get:r(function(){return Ae.RequestType1},"get")});Object.defineProperty(N,"RequestType2",{enumerable:!0,get:r(function(){return Ae.RequestType2},"get")});Object.defineProperty(N,"RequestType3",{enumerable:!0,get:r(function(){return Ae.RequestType3},"get")});Object.defineProperty(N,"RequestType4",{enumerable:!0,get:r(function(){return Ae.RequestType4},"get")});Object.defineProperty(N,"RequestType5",{enumerable:!0,get:r(function(){return Ae.RequestType5},"get")});Object.defineProperty(N,"RequestType6",{enumerable:!0,get:r(function(){return Ae.RequestType6},"get")});Object.defineProperty(N,"RequestType7",{enumerable:!0,get:r(function(){return Ae.RequestType7},"get")});Object.defineProperty(N,"RequestType8",{enumerable:!0,get:r(function(){return Ae.RequestType8},"get")});Object.defineProperty(N,"RequestType9",{enumerable:!0,get:r(function(){return Ae.RequestType9},"get")});Object.defineProperty(N,"ResponseError",{enumerable:!0,get:r(function(){return Ae.ResponseError},"get")});Object.defineProperty(N,"ErrorCodes",{enumerable:!0,get:r(function(){return Ae.ErrorCodes},"get")});Object.defineProperty(N,"NotificationType",{enumerable:!0,get:r(function(){return Ae.NotificationType},"get")});Object.defineProperty(N,"NotificationType0",{enumerable:!0,get:r(function(){return Ae.NotificationType0},"get")});Object.defineProperty(N,"NotificationType1",{enumerable:!0,get:r(function(){return Ae.NotificationType1},"get")});Object.defineProperty(N,"NotificationType2",{enumerable:!0,get:r(function(){return Ae.NotificationType2},"get")});Object.defineProperty(N,"NotificationType3",{enumerable:!0,get:r(function(){return Ae.NotificationType3},"get")});Object.defineProperty(N,"NotificationType4",{enumerable:!0,get:r(function(){return Ae.NotificationType4},"get")});Object.defineProperty(N,"NotificationType5",{enumerable:!0,get:r(function(){return Ae.NotificationType5},"get")});Object.defineProperty(N,"NotificationType6",{enumerable:!0,get:r(function(){return Ae.NotificationType6},"get")});Object.defineProperty(N,"NotificationType7",{enumerable:!0,get:r(function(){return Ae.NotificationType7},"get")});Object.defineProperty(N,"NotificationType8",{enumerable:!0,get:r(function(){return Ae.NotificationType8},"get")});Object.defineProperty(N,"NotificationType9",{enumerable:!0,get:r(function(){return Ae.NotificationType9},"get")});Object.defineProperty(N,"ParameterStructures",{enumerable:!0,get:r(function(){return Ae.ParameterStructures},"get")});var xm=Af();Object.defineProperty(N,"LinkedMap",{enumerable:!0,get:r(function(){return xm.LinkedMap},"get")});Object.defineProperty(N,"LRUCache",{enumerable:!0,get:r(function(){return xm.LRUCache},"get")});Object.defineProperty(N,"Touch",{enumerable:!0,get:r(function(){return xm.Touch},"get")});var R0=qy();Object.defineProperty(N,"Disposable",{enumerable:!0,get:r(function(){return R0.Disposable},"get")});var nb=ni();Object.defineProperty(N,"Event",{enumerable:!0,get:r(function(){return nb.Event},"get")});Object.defineProperty(N,"Emitter",{enumerable:!0,get:r(function(){return nb.Emitter},"get")});var rb=Ya();Object.defineProperty(N,"CancellationTokenSource",{enumerable:!0,get:r(function(){return rb.CancellationTokenSource},"get")});Object.defineProperty(N,"CancellationToken",{enumerable:!0,get:r(function(){return rb.CancellationToken},"get")});var ob=Wy();Object.defineProperty(N,"SharedArraySenderStrategy",{enumerable:!0,get:r(function(){return ob.SharedArraySenderStrategy},"get")});Object.defineProperty(N,"SharedArrayReceiverStrategy",{enumerable:!0,get:r(function(){return ob.SharedArrayReceiverStrategy},"get")});var Sm=Gy();Object.defineProperty(N,"MessageReader",{enumerable:!0,get:r(function(){return Sm.MessageReader},"get")});Object.defineProperty(N,"AbstractMessageReader",{enumerable:!0,get:r(function(){return Sm.AbstractMessageReader},"get")});Object.defineProperty(N,"ReadableStreamMessageReader",{enumerable:!0,get:r(function(){return Sm.ReadableStreamMessageReader},"get")});var Tm=Zy();Object.defineProperty(N,"MessageWriter",{enumerable:!0,get:r(function(){return Tm.MessageWriter},"get")});Object.defineProperty(N,"AbstractMessageWriter",{enumerable:!0,get:r(function(){return Tm.AbstractMessageWriter},"get")});Object.defineProperty(N,"WriteableStreamMessageWriter",{enumerable:!0,get:r(function(){return Tm.WriteableStreamMessageWriter},"get")});var P0=Qy();Object.defineProperty(N,"AbstractMessageBuffer",{enumerable:!0,get:r(function(){return P0.AbstractMessageBuffer},"get")});var vt=tb();Object.defineProperty(N,"ConnectionStrategy",{enumerable:!0,get:r(function(){return vt.ConnectionStrategy},"get")});Object.defineProperty(N,"ConnectionOptions",{enumerable:!0,get:r(function(){return vt.ConnectionOptions},"get")});Object.defineProperty(N,"NullLogger",{enumerable:!0,get:r(function(){return vt.NullLogger},"get")});Object.defineProperty(N,"createMessageConnection",{enumerable:!0,get:r(function(){return vt.createMessageConnection},"get")});Object.defineProperty(N,"ProgressToken",{enumerable:!0,get:r(function(){return vt.ProgressToken},"get")});Object.defineProperty(N,"ProgressType",{enumerable:!0,get:r(function(){return vt.ProgressType},"get")});Object.defineProperty(N,"Trace",{enumerable:!0,get:r(function(){return vt.Trace},"get")});Object.defineProperty(N,"TraceValues",{enumerable:!0,get:r(function(){return vt.TraceValues},"get")});Object.defineProperty(N,"TraceFormat",{enumerable:!0,get:r(function(){return vt.TraceFormat},"get")});Object.defineProperty(N,"SetTraceNotification",{enumerable:!0,get:r(function(){return vt.SetTraceNotification},"get")});Object.defineProperty(N,"LogTraceNotification",{enumerable:!0,get:r(function(){return vt.LogTraceNotification},"get")});Object.defineProperty(N,"ConnectionErrors",{enumerable:!0,get:r(function(){return vt.ConnectionErrors},"get")});Object.defineProperty(N,"ConnectionError",{enumerable:!0,get:r(function(){return vt.ConnectionError},"get")});Object.defineProperty(N,"CancellationReceiverStrategy",{enumerable:!0,get:r(function(){return vt.CancellationReceiverStrategy},"get")});Object.defineProperty(N,"CancellationSenderStrategy",{enumerable:!0,get:r(function(){return vt.CancellationSenderStrategy},"get")});Object.defineProperty(N,"CancellationStrategy",{enumerable:!0,get:r(function(){return vt.CancellationStrategy},"get")});Object.defineProperty(N,"MessageStrategy",{enumerable:!0,get:r(function(){return vt.MessageStrategy},"get")});var k0=kr();N.RAL=k0.default});var ab=X(km=>{"use strict";Object.defineProperty(km,"__esModule",{value:!0});var ib=require("util"),ar=du(),mu=class mu extends ar.AbstractMessageBuffer{constructor(t="utf-8"){super(t)}emptyBuffer(){return mu.emptyBuffer}fromString(t,n){return Buffer.from(t,n)}toString(t,n){return t instanceof Buffer?t.toString(n):new ib.TextDecoder(n).decode(t)}asNative(t,n){return n===void 0?t instanceof Buffer?t:Buffer.from(t):t instanceof Buffer?t.slice(0,n):Buffer.from(t,0,n)}allocNative(t){return Buffer.allocUnsafe(t)}};r(mu,"MessageBuffer");var fu=mu;fu.emptyBuffer=Buffer.allocUnsafe(0);var Mm=class Mm{constructor(t){this.stream=t}onClose(t){return this.stream.on("close",t),ar.Disposable.create(()=>this.stream.off("close",t))}onError(t){return this.stream.on("error",t),ar.Disposable.create(()=>this.stream.off("error",t))}onEnd(t){return this.stream.on("end",t),ar.Disposable.create(()=>this.stream.off("end",t))}onData(t){return this.stream.on("data",t),ar.Disposable.create(()=>this.stream.off("data",t))}};r(Mm,"ReadableStreamWrapper");var Em=Mm,Nm=class Nm{constructor(t){this.stream=t}onClose(t){return this.stream.on("close",t),ar.Disposable.create(()=>this.stream.off("close",t))}onError(t){return this.stream.on("error",t),ar.Disposable.create(()=>this.stream.off("error",t))}onEnd(t){return this.stream.on("end",t),ar.Disposable.create(()=>this.stream.off("end",t))}write(t,n){return new Promise((o,i)=>{let u=r(s=>{s==null?o():i(s)},"callback");typeof t=="string"?this.stream.write(t,n,u):this.stream.write(t,u)})}end(){this.stream.end()}};r(Nm,"WritableStreamWrapper");var Rm=Nm,sb=Object.freeze({messageBuffer:Object.freeze({create:r(e=>new fu(e),"create")}),applicationJson:Object.freeze({encoder:Object.freeze({name:"application/json",encode:r((e,t)=>{try{return Promise.resolve(Buffer.from(JSON.stringify(e,void 0,0),t.charset))}catch(n){return Promise.reject(n)}},"encode")}),decoder:Object.freeze({name:"application/json",decode:r((e,t)=>{try{return e instanceof Buffer?Promise.resolve(JSON.parse(e.toString(t.charset))):Promise.resolve(JSON.parse(new ib.TextDecoder(t.charset).decode(e)))}catch(n){return Promise.reject(n)}},"decode")})}),stream:Object.freeze({asReadableStream:r(e=>new Em(e),"asReadableStream"),asWritableStream:r(e=>new Rm(e),"asWritableStream")}),console,timer:Object.freeze({setTimeout(e,t,...n){let o=setTimeout(e,t,...n);return{dispose:r(()=>clearTimeout(o),"dispose")}},setImmediate(e,...t){let n=setImmediate(e,...t);return{dispose:r(()=>clearImmediate(n),"dispose")}},setInterval(e,t,...n){let o=setInterval(e,t,...n);return{dispose:r(()=>clearInterval(o),"dispose")}}})});function Pm(){return sb}r(Pm,"RIL");(function(e){function t(){ar.RAL.install(sb)}r(t,"install"),e.install=t})(Pm||(Pm={}));km.default=Pm});var fo=X(_e=>{"use strict";var M0=_e&&_e.__createBinding||(Object.create?function(e,t,n,o){o===void 0&&(o=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:r(function(){return t[n]},"get")}),Object.defineProperty(e,o,i)}:function(e,t,n,o){o===void 0&&(o=n),e[o]=t[n]}),N0=_e&&_e.__exportStar||function(e,t){for(var n in e)n!=="default"&&!Object.prototype.hasOwnProperty.call(t,n)&&M0(t,e,n)};Object.defineProperty(_e,"__esModule",{value:!0});_e.createMessageConnection=_e.createServerSocketTransport=_e.createClientSocketTransport=_e.createServerPipeTransport=_e.createClientPipeTransport=_e.generateRandomPipeName=_e.StreamMessageWriter=_e.StreamMessageReader=_e.SocketMessageWriter=_e.SocketMessageReader=_e.PortMessageWriter=_e.PortMessageReader=_e.IPCMessageWriter=_e.IPCMessageReader=void 0;var ai=ab();ai.default.install();var ub=require("path"),C0=require("os"),L0=require("crypto"),hu=require("net"),Yt=du();N0(du(),_e);var Am=class Am extends Yt.AbstractMessageReader{constructor(t){super(),this.process=t;let n=this.process;n.on("error",o=>this.fireError(o)),n.on("close",()=>this.fireClose())}listen(t){return this.process.on("message",t),Yt.Disposable.create(()=>this.process.off("message",t))}};r(Am,"IPCMessageReader");var Cm=Am;_e.IPCMessageReader=Cm;var Dm=class Dm extends Yt.AbstractMessageWriter{constructor(t){super(),this.process=t,this.errorCount=0;let n=this.process;n.on("error",o=>this.fireError(o)),n.on("close",()=>this.fireClose)}write(t){try{return typeof this.process.send=="function"&&this.process.send(t,void 0,void 0,n=>{n?(this.errorCount++,this.handleError(n,t)):this.errorCount=0}),Promise.resolve()}catch(n){return this.handleError(n,t),Promise.reject(n)}}handleError(t,n){this.errorCount++,this.fireError(t,n,this.errorCount)}end(){}};r(Dm,"IPCMessageWriter");var Lm=Dm;_e.IPCMessageWriter=Lm;var jm=class jm extends Yt.AbstractMessageReader{constructor(t){super(),this.onData=new Yt.Emitter,t.on("close",()=>this.fireClose),t.on("error",n=>this.fireError(n)),t.on("message",n=>{this.onData.fire(n)})}listen(t){return this.onData.event(t)}};r(jm,"PortMessageReader");var Om=jm;_e.PortMessageReader=Om;var Um=class Um extends Yt.AbstractMessageWriter{constructor(t){super(),this.port=t,this.errorCount=0,t.on("close",()=>this.fireClose()),t.on("error",n=>this.fireError(n))}write(t){try{return this.port.postMessage(t),Promise.resolve()}catch(n){return this.handleError(n,t),Promise.reject(n)}}handleError(t,n){this.errorCount++,this.fireError(t,n,this.errorCount)}end(){}};r(Um,"PortMessageWriter");var Fm=Um;_e.PortMessageWriter=Fm;var qm=class qm extends Yt.ReadableStreamMessageReader{constructor(t,n="utf-8"){super((0,ai.default)().stream.asReadableStream(t),n)}};r(qm,"SocketMessageReader");var co=qm;_e.SocketMessageReader=co;var Bm=class Bm extends Yt.WriteableStreamMessageWriter{constructor(t,n){super((0,ai.default)().stream.asWritableStream(t),n),this.socket=t}dispose(){super.dispose(),this.socket.destroy()}};r(Bm,"SocketMessageWriter");var lo=Bm;_e.SocketMessageWriter=lo;var Wm=class Wm extends Yt.ReadableStreamMessageReader{constructor(t,n){super((0,ai.default)().stream.asReadableStream(t),n)}};r(Wm,"StreamMessageReader");var pu=Wm;_e.StreamMessageReader=pu;var $m=class $m extends Yt.WriteableStreamMessageWriter{constructor(t,n){super((0,ai.default)().stream.asWritableStream(t),n)}};r($m,"StreamMessageWriter");var gu=$m;_e.StreamMessageWriter=gu;var cb=process.env.XDG_RUNTIME_DIR,O0=new Map([["linux",107],["darwin",103]]);function F0(){let e=(0,L0.randomBytes)(21).toString("hex");if(process.platform==="win32")return`\\\\.\\pipe\\vscode-jsonrpc-${e}-sock`;let t;cb?t=ub.join(cb,`vscode-ipc-${e}.sock`):t=ub.join(C0.tmpdir(),`vscode-${e}.sock`);let n=O0.get(process.platform);return n!==void 0&&t.length>n&&(0,ai.default)().console.warn(`WARNING: IPC handle "${t}" is longer than ${n} characters.`),t}r(F0,"generateRandomPipeName");_e.generateRandomPipeName=F0;function A0(e,t="utf-8"){let n,o=new Promise((i,u)=>{n=i});return new Promise((i,u)=>{let s=(0,hu.createServer)(a=>{s.close(),n([new co(a,t),new lo(a,t)])});s.on("error",u),s.listen(e,()=>{s.removeListener("error",u),i({onConnected:r(()=>o,"onConnected")})})})}r(A0,"createClientPipeTransport");_e.createClientPipeTransport=A0;function D0(e,t="utf-8"){let n=(0,hu.createConnection)(e);return[new co(n,t),new lo(n,t)]}r(D0,"createServerPipeTransport");_e.createServerPipeTransport=D0;function j0(e,t="utf-8"){let n,o=new Promise((i,u)=>{n=i});return new Promise((i,u)=>{let s=(0,hu.createServer)(a=>{s.close(),n([new co(a,t),new lo(a,t)])});s.on("error",u),s.listen(e,"127.0.0.1",()=>{s.removeListener("error",u),i({onConnected:r(()=>o,"onConnected")})})})}r(j0,"createClientSocketTransport");_e.createClientSocketTransport=j0;function U0(e,t="utf-8"){let n=(0,hu.createConnection)(e,"127.0.0.1");return[new co(n,t),new lo(n,t)]}r(U0,"createServerSocketTransport");_e.createServerSocketTransport=U0;function q0(e){let t=e;return t.read!==void 0&&t.addListener!==void 0}r(q0,"isReadableStream");function B0(e){let t=e;return t.write!==void 0&&t.addListener!==void 0}r(B0,"isWritableStream");function W0(e,t,n,o){n||(n=Yt.NullLogger);let i=q0(e)?new pu(e):e,u=B0(t)?new gu(t):t;return Yt.ConnectionStrategy.is(o)&&(o={connectionStrategy:o}),(0,Yt.createMessageConnection)(i,u,n,o)}r(W0,"createMessageConnection");_e.createMessageConnection=W0});var Gm=X((sK,lb)=>{"use strict";lb.exports=fo()});var yu=X((db,_u)=>{(function(e){if(typeof _u=="object"&&typeof _u.exports=="object"){var t=e(require,db);t!==void 0&&(_u.exports=t)}else typeof define=="function"&&define.amd&&define(["require","exports"],e)})(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TextDocument=t.EOL=t.WorkspaceFolder=t.InlineCompletionContext=t.SelectedCompletionInfo=t.InlineCompletionTriggerKind=t.InlineCompletionList=t.InlineCompletionItem=t.StringValue=t.InlayHint=t.InlayHintLabelPart=t.InlayHintKind=t.InlineValueContext=t.InlineValueEvaluatableExpression=t.InlineValueVariableLookup=t.InlineValueText=t.SemanticTokens=t.SemanticTokenModifiers=t.SemanticTokenTypes=t.SelectionRange=t.DocumentLink=t.FormattingOptions=t.CodeLens=t.CodeAction=t.CodeActionContext=t.CodeActionTriggerKind=t.CodeActionKind=t.DocumentSymbol=t.WorkspaceSymbol=t.SymbolInformation=t.SymbolTag=t.SymbolKind=t.DocumentHighlight=t.DocumentHighlightKind=t.SignatureInformation=t.ParameterInformation=t.Hover=t.MarkedString=t.CompletionList=t.CompletionItem=t.CompletionItemLabelDetails=t.InsertTextMode=t.InsertReplaceEdit=t.CompletionItemTag=t.InsertTextFormat=t.CompletionItemKind=t.MarkupContent=t.MarkupKind=t.TextDocumentItem=t.OptionalVersionedTextDocumentIdentifier=t.VersionedTextDocumentIdentifier=t.TextDocumentIdentifier=t.WorkspaceChange=t.WorkspaceEdit=t.DeleteFile=t.RenameFile=t.CreateFile=t.TextDocumentEdit=t.AnnotatedTextEdit=t.ChangeAnnotationIdentifier=t.ChangeAnnotation=t.TextEdit=t.Command=t.Diagnostic=t.CodeDescription=t.DiagnosticTag=t.DiagnosticSeverity=t.DiagnosticRelatedInformation=t.FoldingRange=t.FoldingRangeKind=t.ColorPresentation=t.ColorInformation=t.Color=t.LocationLink=t.Location=t.Range=t.Position=t.uinteger=t.integer=t.URI=t.DocumentUri=void 0;var n;(function(f){function b(w){return typeof w=="string"}r(b,"is"),f.is=b})(n||(t.DocumentUri=n={}));var o;(function(f){function b(w){return typeof w=="string"}r(b,"is"),f.is=b})(o||(t.URI=o={}));var i;(function(f){f.MIN_VALUE=-2147483648,f.MAX_VALUE=2147483647;function b(w){return typeof w=="number"&&f.MIN_VALUE<=w&&w<=f.MAX_VALUE}r(b,"is"),f.is=b})(i||(t.integer=i={}));var u;(function(f){f.MIN_VALUE=0,f.MAX_VALUE=2147483647;function b(w){return typeof w=="number"&&f.MIN_VALUE<=w&&w<=f.MAX_VALUE}r(b,"is"),f.is=b})(u||(t.uinteger=u={}));var s;(function(f){function b(p,d){return p===Number.MAX_VALUE&&(p=u.MAX_VALUE),d===Number.MAX_VALUE&&(d=u.MAX_VALUE),{line:p,character:d}}r(b,"create"),f.create=b;function w(p){var d=p;return S.objectLiteral(d)&&S.uinteger(d.line)&&S.uinteger(d.character)}r(w,"is"),f.is=w})(s||(t.Position=s={}));var a;(function(f){function b(p,d,x,A){if(S.uinteger(p)&&S.uinteger(d)&&S.uinteger(x)&&S.uinteger(A))return{start:s.create(p,d),end:s.create(x,A)};if(s.is(p)&&s.is(d))return{start:p,end:d};throw new Error("Range#create called with invalid arguments[".concat(p,", ").concat(d,", ").concat(x,", ").concat(A,"]"))}r(b,"create"),f.create=b;function w(p){var d=p;return S.objectLiteral(d)&&s.is(d.start)&&s.is(d.end)}r(w,"is"),f.is=w})(a||(t.Range=a={}));var c;(function(f){function b(p,d){return{uri:p,range:d}}r(b,"create"),f.create=b;function w(p){var d=p;return S.objectLiteral(d)&&a.is(d.range)&&(S.string(d.uri)||S.undefined(d.uri))}r(w,"is"),f.is=w})(c||(t.Location=c={}));var l;(function(f){function b(p,d,x,A){return{targetUri:p,targetRange:d,targetSelectionRange:x,originSelectionRange:A}}r(b,"create"),f.create=b;function w(p){var d=p;return S.objectLiteral(d)&&a.is(d.targetRange)&&S.string(d.targetUri)&&a.is(d.targetSelectionRange)&&(a.is(d.originSelectionRange)||S.undefined(d.originSelectionRange))}r(w,"is"),f.is=w})(l||(t.LocationLink=l={}));var m;(function(f){function b(p,d,x,A){return{red:p,green:d,blue:x,alpha:A}}r(b,"create"),f.create=b;function w(p){var d=p;return S.objectLiteral(d)&&S.numberRange(d.red,0,1)&&S.numberRange(d.green,0,1)&&S.numberRange(d.blue,0,1)&&S.numberRange(d.alpha,0,1)}r(w,"is"),f.is=w})(m||(t.Color=m={}));var g;(function(f){function b(p,d){return{range:p,color:d}}r(b,"create"),f.create=b;function w(p){var d=p;return S.objectLiteral(d)&&a.is(d.range)&&m.is(d.color)}r(w,"is"),f.is=w})(g||(t.ColorInformation=g={}));var _;(function(f){function b(p,d,x){return{label:p,textEdit:d,additionalTextEdits:x}}r(b,"create"),f.create=b;function w(p){var d=p;return S.objectLiteral(d)&&S.string(d.label)&&(S.undefined(d.textEdit)||V.is(d))&&(S.undefined(d.additionalTextEdits)||S.typedArray(d.additionalTextEdits,V.is))}r(w,"is"),f.is=w})(_||(t.ColorPresentation=_={}));var v;(function(f){f.Comment="comment",f.Imports="imports",f.Region="region"})(v||(t.FoldingRangeKind=v={}));var T;(function(f){function b(p,d,x,A,ue,Qe){var Oe={startLine:p,endLine:d};return S.defined(x)&&(Oe.startCharacter=x),S.defined(A)&&(Oe.endCharacter=A),S.defined(ue)&&(Oe.kind=ue),S.defined(Qe)&&(Oe.collapsedText=Qe),Oe}r(b,"create"),f.create=b;function w(p){var d=p;return S.objectLiteral(d)&&S.uinteger(d.startLine)&&S.uinteger(d.startLine)&&(S.undefined(d.startCharacter)||S.uinteger(d.startCharacter))&&(S.undefined(d.endCharacter)||S.uinteger(d.endCharacter))&&(S.undefined(d.kind)||S.string(d.kind))}r(w,"is"),f.is=w})(T||(t.FoldingRange=T={}));var P;(function(f){function b(p,d){return{location:p,message:d}}r(b,"create"),f.create=b;function w(p){var d=p;return S.defined(d)&&c.is(d.location)&&S.string(d.message)}r(w,"is"),f.is=w})(P||(t.DiagnosticRelatedInformation=P={}));var j;(function(f){f.Error=1,f.Warning=2,f.Information=3,f.Hint=4})(j||(t.DiagnosticSeverity=j={}));var L;(function(f){f.Unnecessary=1,f.Deprecated=2})(L||(t.DiagnosticTag=L={}));var Q;(function(f){function b(w){var p=w;return S.objectLiteral(p)&&S.string(p.href)}r(b,"is"),f.is=b})(Q||(t.CodeDescription=Q={}));var $;(function(f){function b(p,d,x,A,ue,Qe){var Oe={range:p,message:d};return S.defined(x)&&(Oe.severity=x),S.defined(A)&&(Oe.code=A),S.defined(ue)&&(Oe.source=ue),S.defined(Qe)&&(Oe.relatedInformation=Qe),Oe}r(b,"create"),f.create=b;function w(p){var d,x=p;return S.defined(x)&&a.is(x.range)&&S.string(x.message)&&(S.number(x.severity)||S.undefined(x.severity))&&(S.integer(x.code)||S.string(x.code)||S.undefined(x.code))&&(S.undefined(x.codeDescription)||S.string((d=x.codeDescription)===null||d===void 0?void 0:d.href))&&(S.string(x.source)||S.undefined(x.source))&&(S.undefined(x.relatedInformation)||S.typedArray(x.relatedInformation,P.is))}r(w,"is"),f.is=w})($||(t.Diagnostic=$={}));var Y;(function(f){function b(p,d){for(var x=[],A=2;A<arguments.length;A++)x[A-2]=arguments[A];var ue={title:p,command:d};return S.defined(x)&&x.length>0&&(ue.arguments=x),ue}r(b,"create"),f.create=b;function w(p){var d=p;return S.defined(d)&&S.string(d.title)&&S.string(d.command)}r(w,"is"),f.is=w})(Y||(t.Command=Y={}));var V;(function(f){function b(x,A){return{range:x,newText:A}}r(b,"replace"),f.replace=b;function w(x,A){return{range:{start:x,end:x},newText:A}}r(w,"insert"),f.insert=w;function p(x){return{range:x,newText:""}}r(p,"del"),f.del=p;function d(x){var A=x;return S.objectLiteral(A)&&S.string(A.newText)&&a.is(A.range)}r(d,"is"),f.is=d})(V||(t.TextEdit=V={}));var re;(function(f){function b(p,d,x){var A={label:p};return d!==void 0&&(A.needsConfirmation=d),x!==void 0&&(A.description=x),A}r(b,"create"),f.create=b;function w(p){var d=p;return S.objectLiteral(d)&&S.string(d.label)&&(S.boolean(d.needsConfirmation)||d.needsConfirmation===void 0)&&(S.string(d.description)||d.description===void 0)}r(w,"is"),f.is=w})(re||(t.ChangeAnnotation=re={}));var ne;(function(f){function b(w){var p=w;return S.string(p)}r(b,"is"),f.is=b})(ne||(t.ChangeAnnotationIdentifier=ne={}));var U;(function(f){function b(x,A,ue){return{range:x,newText:A,annotationId:ue}}r(b,"replace"),f.replace=b;function w(x,A,ue){return{range:{start:x,end:x},newText:A,annotationId:ue}}r(w,"insert"),f.insert=w;function p(x,A){return{range:x,newText:"",annotationId:A}}r(p,"del"),f.del=p;function d(x){var A=x;return V.is(A)&&(re.is(A.annotationId)||ne.is(A.annotationId))}r(d,"is"),f.is=d})(U||(t.AnnotatedTextEdit=U={}));var ie;(function(f){function b(p,d){return{textDocument:p,edits:d}}r(b,"create"),f.create=b;function w(p){var d=p;return S.defined(d)&&D.is(d.textDocument)&&Array.isArray(d.edits)}r(w,"is"),f.is=w})(ie||(t.TextDocumentEdit=ie={}));var ot;(function(f){function b(p,d,x){var A={kind:"create",uri:p};return d!==void 0&&(d.overwrite!==void 0||d.ignoreIfExists!==void 0)&&(A.options=d),x!==void 0&&(A.annotationId=x),A}r(b,"create"),f.create=b;function w(p){var d=p;return d&&d.kind==="create"&&S.string(d.uri)&&(d.options===void 0||(d.options.overwrite===void 0||S.boolean(d.options.overwrite))&&(d.options.ignoreIfExists===void 0||S.boolean(d.options.ignoreIfExists)))&&(d.annotationId===void 0||ne.is(d.annotationId))}r(w,"is"),f.is=w})(ot||(t.CreateFile=ot={}));var mt;(function(f){function b(p,d,x,A){var ue={kind:"rename",oldUri:p,newUri:d};return x!==void 0&&(x.overwrite!==void 0||x.ignoreIfExists!==void 0)&&(ue.options=x),A!==void 0&&(ue.annotationId=A),ue}r(b,"create"),f.create=b;function w(p){var d=p;return d&&d.kind==="rename"&&S.string(d.oldUri)&&S.string(d.newUri)&&(d.options===void 0||(d.options.overwrite===void 0||S.boolean(d.options.overwrite))&&(d.options.ignoreIfExists===void 0||S.boolean(d.options.ignoreIfExists)))&&(d.annotationId===void 0||ne.is(d.annotationId))}r(w,"is"),f.is=w})(mt||(t.RenameFile=mt={}));var Be;(function(f){function b(p,d,x){var A={kind:"delete",uri:p};return d!==void 0&&(d.recursive!==void 0||d.ignoreIfNotExists!==void 0)&&(A.options=d),x!==void 0&&(A.annotationId=x),A}r(b,"create"),f.create=b;function w(p){var d=p;return d&&d.kind==="delete"&&S.string(d.uri)&&(d.options===void 0||(d.options.recursive===void 0||S.boolean(d.options.recursive))&&(d.options.ignoreIfNotExists===void 0||S.boolean(d.options.ignoreIfNotExists)))&&(d.annotationId===void 0||ne.is(d.annotationId))}r(w,"is"),f.is=w})(Be||(t.DeleteFile=Be={}));var W;(function(f){function b(w){var p=w;return p&&(p.changes!==void 0||p.documentChanges!==void 0)&&(p.documentChanges===void 0||p.documentChanges.every(function(d){return S.string(d.kind)?ot.is(d)||mt.is(d)||Be.is(d):ie.is(d)}))}r(b,"is"),f.is=b})(W||(t.WorkspaceEdit=W={}));var M=function(){function f(b,w){this.edits=b,this.changeAnnotations=w}return r(f,"TextEditChangeImpl"),f.prototype.insert=function(b,w,p){var d,x;if(p===void 0?d=V.insert(b,w):ne.is(p)?(x=p,d=U.insert(b,w,p)):(this.assertChangeAnnotations(this.changeAnnotations),x=this.changeAnnotations.manage(p),d=U.insert(b,w,x)),this.edits.push(d),x!==void 0)return x},f.prototype.replace=function(b,w,p){var d,x;if(p===void 0?d=V.replace(b,w):ne.is(p)?(x=p,d=U.replace(b,w,p)):(this.assertChangeAnnotations(this.changeAnnotations),x=this.changeAnnotations.manage(p),d=U.replace(b,w,x)),this.edits.push(d),x!==void 0)return x},f.prototype.delete=function(b,w){var p,d;if(w===void 0?p=V.del(b):ne.is(w)?(d=w,p=U.del(b,w)):(this.assertChangeAnnotations(this.changeAnnotations),d=this.changeAnnotations.manage(w),p=U.del(b,d)),this.edits.push(p),d!==void 0)return d},f.prototype.add=function(b){this.edits.push(b)},f.prototype.all=function(){return this.edits},f.prototype.clear=function(){this.edits.splice(0,this.edits.length)},f.prototype.assertChangeAnnotations=function(b){if(b===void 0)throw new Error("Text edit change is not configured to manage change annotations.")},f}(),q=function(){function f(b){this._annotations=b===void 0?Object.create(null):b,this._counter=0,this._size=0}return r(f,"ChangeAnnotations"),f.prototype.all=function(){return this._annotations},Object.defineProperty(f.prototype,"size",{get:r(function(){return this._size},"get"),enumerable:!1,configurable:!0}),f.prototype.manage=function(b,w){var p;if(ne.is(b)?p=b:(p=this.nextId(),w=b),this._annotations[p]!==void 0)throw new Error("Id ".concat(p," is already in use."));if(w===void 0)throw new Error("No annotation provided for id ".concat(p));return this._annotations[p]=w,this._size++,p},f.prototype.nextId=function(){return this._counter++,this._counter.toString()},f}(),Z=function(){function f(b){var w=this;this._textEditChanges=Object.create(null),b!==void 0?(this._workspaceEdit=b,b.documentChanges?(this._changeAnnotations=new q(b.changeAnnotations),b.changeAnnotations=this._changeAnnotations.all(),b.documentChanges.forEach(function(p){if(ie.is(p)){var d=new M(p.edits,w._changeAnnotations);w._textEditChanges[p.textDocument.uri]=d}})):b.changes&&Object.keys(b.changes).forEach(function(p){var d=new M(b.changes[p]);w._textEditChanges[p]=d})):this._workspaceEdit={}}return r(f,"WorkspaceChange"),Object.defineProperty(f.prototype,"edit",{get:r(function(){return this.initDocumentChanges(),this._changeAnnotations!==void 0&&(this._changeAnnotations.size===0?this._workspaceEdit.changeAnnotations=void 0:this._workspaceEdit.changeAnnotations=this._changeAnnotations.all()),this._workspaceEdit},"get"),enumerable:!1,configurable:!0}),f.prototype.getTextEditChange=function(b){if(D.is(b)){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var w={uri:b.uri,version:b.version},p=this._textEditChanges[w.uri];if(!p){var d=[],x={textDocument:w,edits:d};this._workspaceEdit.documentChanges.push(x),p=new M(d,this._changeAnnotations),this._textEditChanges[w.uri]=p}return p}else{if(this.initChanges(),this._workspaceEdit.changes===void 0)throw new Error("Workspace edit is not configured for normal text edit changes.");var p=this._textEditChanges[b];if(!p){var d=[];this._workspaceEdit.changes[b]=d,p=new M(d),this._textEditChanges[b]=p}return p}},f.prototype.initDocumentChanges=function(){this._workspaceEdit.documentChanges===void 0&&this._workspaceEdit.changes===void 0&&(this._changeAnnotations=new q,this._workspaceEdit.documentChanges=[],this._workspaceEdit.changeAnnotations=this._changeAnnotations.all())},f.prototype.initChanges=function(){this._workspaceEdit.documentChanges===void 0&&this._workspaceEdit.changes===void 0&&(this._workspaceEdit.changes=Object.create(null))},f.prototype.createFile=function(b,w,p){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var d;re.is(w)||ne.is(w)?d=w:p=w;var x,A;if(d===void 0?x=ot.create(b,p):(A=ne.is(d)?d:this._changeAnnotations.manage(d),x=ot.create(b,p,A)),this._workspaceEdit.documentChanges.push(x),A!==void 0)return A},f.prototype.renameFile=function(b,w,p,d){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var x;re.is(p)||ne.is(p)?x=p:d=p;var A,ue;if(x===void 0?A=mt.create(b,w,d):(ue=ne.is(x)?x:this._changeAnnotations.manage(x),A=mt.create(b,w,d,ue)),this._workspaceEdit.documentChanges.push(A),ue!==void 0)return ue},f.prototype.deleteFile=function(b,w,p){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var d;re.is(w)||ne.is(w)?d=w:p=w;var x,A;if(d===void 0?x=Be.create(b,p):(A=ne.is(d)?d:this._changeAnnotations.manage(d),x=Be.create(b,p,A)),this._workspaceEdit.documentChanges.push(x),A!==void 0)return A},f}();t.WorkspaceChange=Z;var k;(function(f){function b(p){return{uri:p}}r(b,"create"),f.create=b;function w(p){var d=p;return S.defined(d)&&S.string(d.uri)}r(w,"is"),f.is=w})(k||(t.TextDocumentIdentifier=k={}));var O;(function(f){function b(p,d){return{uri:p,version:d}}r(b,"create"),f.create=b;function w(p){var d=p;return S.defined(d)&&S.string(d.uri)&&S.integer(d.version)}r(w,"is"),f.is=w})(O||(t.VersionedTextDocumentIdentifier=O={}));var D;(function(f){function b(p,d){return{uri:p,version:d}}r(b,"create"),f.create=b;function w(p){var d=p;return S.defined(d)&&S.string(d.uri)&&(d.version===null||S.integer(d.version))}r(w,"is"),f.is=w})(D||(t.OptionalVersionedTextDocumentIdentifier=D={}));var z;(function(f){function b(p,d,x,A){return{uri:p,languageId:d,version:x,text:A}}r(b,"create"),f.create=b;function w(p){var d=p;return S.defined(d)&&S.string(d.uri)&&S.string(d.languageId)&&S.integer(d.version)&&S.string(d.text)}r(w,"is"),f.is=w})(z||(t.TextDocumentItem=z={}));var J;(function(f){f.PlainText="plaintext",f.Markdown="markdown";function b(w){var p=w;return p===f.PlainText||p===f.Markdown}r(b,"is"),f.is=b})(J||(t.MarkupKind=J={}));var H;(function(f){function b(w){var p=w;return S.objectLiteral(w)&&J.is(p.kind)&&S.string(p.value)}r(b,"is"),f.is=b})(H||(t.MarkupContent=H={}));var se;(function(f){f.Text=1,f.Method=2,f.Function=3,f.Constructor=4,f.Field=5,f.Variable=6,f.Class=7,f.Interface=8,f.Module=9,f.Property=10,f.Unit=11,f.Value=12,f.Enum=13,f.Keyword=14,f.Snippet=15,f.Color=16,f.File=17,f.Reference=18,f.Folder=19,f.EnumMember=20,f.Constant=21,f.Struct=22,f.Event=23,f.Operator=24,f.TypeParameter=25})(se||(t.CompletionItemKind=se={}));var le;(function(f){f.PlainText=1,f.Snippet=2})(le||(t.InsertTextFormat=le={}));var Ze;(function(f){f.Deprecated=1})(Ze||(t.CompletionItemTag=Ze={}));var xe;(function(f){function b(p,d,x){return{newText:p,insert:d,replace:x}}r(b,"create"),f.create=b;function w(p){var d=p;return d&&S.string(d.newText)&&a.is(d.insert)&&a.is(d.replace)}r(w,"is"),f.is=w})(xe||(t.InsertReplaceEdit=xe={}));var Wt;(function(f){f.asIs=1,f.adjustIndentation=2})(Wt||(t.InsertTextMode=Wt={}));var On;(function(f){function b(w){var p=w;return p&&(S.string(p.detail)||p.detail===void 0)&&(S.string(p.description)||p.description===void 0)}r(b,"is"),f.is=b})(On||(t.CompletionItemLabelDetails=On={}));var Is;(function(f){function b(w){return{label:w}}r(b,"create"),f.create=b})(Is||(t.CompletionItem=Is={}));var xs;(function(f){function b(w,p){return{items:w||[],isIncomplete:!!p}}r(b,"create"),f.create=b})(xs||(t.CompletionList=xs={}));var go;(function(f){function b(p){return p.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")}r(b,"fromPlainText"),f.fromPlainText=b;function w(p){var d=p;return S.string(d)||S.objectLiteral(d)&&S.string(d.language)&&S.string(d.value)}r(w,"is"),f.is=w})(go||(t.MarkedString=go={}));var gn;(function(f){function b(w){var p=w;return!!p&&S.objectLiteral(p)&&(H.is(p.contents)||go.is(p.contents)||S.typedArray(p.contents,go.is))&&(w.range===void 0||a.is(w.range))}r(b,"is"),f.is=b})(gn||(t.Hover=gn={}));var Ss;(function(f){function b(w,p){return p?{label:w,documentation:p}:{label:w}}r(b,"create"),f.create=b})(Ss||(t.ParameterInformation=Ss={}));var Ts;(function(f){function b(w,p){for(var d=[],x=2;x<arguments.length;x++)d[x-2]=arguments[x];var A={label:w};return S.defined(p)&&(A.documentation=p),S.defined(d)?A.parameters=d:A.parameters=[],A}r(b,"create"),f.create=b})(Ts||(t.SignatureInformation=Ts={}));var Dr;(function(f){f.Text=1,f.Read=2,f.Write=3})(Dr||(t.DocumentHighlightKind=Dr={}));var Es;(function(f){function b(w,p){var d={range:w};return S.number(p)&&(d.kind=p),d}r(b,"create"),f.create=b})(Es||(t.DocumentHighlight=Es={}));var ho;(function(f){f.File=1,f.Module=2,f.Namespace=3,f.Package=4,f.Class=5,f.Method=6,f.Property=7,f.Field=8,f.Constructor=9,f.Enum=10,f.Interface=11,f.Function=12,f.Variable=13,f.Constant=14,f.String=15,f.Number=16,f.Boolean=17,f.Array=18,f.Object=19,f.Key=20,f.Null=21,f.EnumMember=22,f.Struct=23,f.Event=24,f.Operator=25,f.TypeParameter=26})(ho||(t.SymbolKind=ho={}));var Rs;(function(f){f.Deprecated=1})(Rs||(t.SymbolTag=Rs={}));var Kn;(function(f){function b(w,p,d,x,A){var ue={name:w,kind:p,location:{uri:x,range:d}};return A&&(ue.containerName=A),ue}r(b,"create"),f.create=b})(Kn||(t.SymbolInformation=Kn={}));var cr;(function(f){function b(w,p,d,x){return x!==void 0?{name:w,kind:p,location:{uri:d,range:x}}:{name:w,kind:p,location:{uri:d}}}r(b,"create"),f.create=b})(cr||(t.WorkspaceSymbol=cr={}));var Ps;(function(f){function b(p,d,x,A,ue,Qe){var Oe={name:p,detail:d,kind:x,range:A,selectionRange:ue};return Qe!==void 0&&(Oe.children=Qe),Oe}r(b,"create"),f.create=b;function w(p){var d=p;return d&&S.string(d.name)&&S.number(d.kind)&&a.is(d.range)&&a.is(d.selectionRange)&&(d.detail===void 0||S.string(d.detail))&&(d.deprecated===void 0||S.boolean(d.deprecated))&&(d.children===void 0||Array.isArray(d.children))&&(d.tags===void 0||Array.isArray(d.tags))}r(w,"is"),f.is=w})(Ps||(t.DocumentSymbol=Ps={}));var ks;(function(f){f.Empty="",f.QuickFix="quickfix",f.Refactor="refactor",f.RefactorExtract="refactor.extract",f.RefactorInline="refactor.inline",f.RefactorRewrite="refactor.rewrite",f.Source="source",f.SourceOrganizeImports="source.organizeImports",f.SourceFixAll="source.fixAll"})(ks||(t.CodeActionKind=ks={}));var Fn;(function(f){f.Invoked=1,f.Automatic=2})(Fn||(t.CodeActionTriggerKind=Fn={}));var wi;(function(f){function b(p,d,x){var A={diagnostics:p};return d!=null&&(A.only=d),x!=null&&(A.triggerKind=x),A}r(b,"create"),f.create=b;function w(p){var d=p;return S.defined(d)&&S.typedArray(d.diagnostics,$.is)&&(d.only===void 0||S.typedArray(d.only,S.string))&&(d.triggerKind===void 0||d.triggerKind===Fn.Invoked||d.triggerKind===Fn.Automatic)}r(w,"is"),f.is=w})(wi||(t.CodeActionContext=wi={}));var vi;(function(f){function b(p,d,x){var A={title:p},ue=!0;return typeof d=="string"?(ue=!1,A.kind=d):Y.is(d)?A.command=d:A.edit=d,ue&&x!==void 0&&(A.kind=x),A}r(b,"create"),f.create=b;function w(p){var d=p;return d&&S.string(d.title)&&(d.diagnostics===void 0||S.typedArray(d.diagnostics,$.is))&&(d.kind===void 0||S.string(d.kind))&&(d.edit!==void 0||d.command!==void 0)&&(d.command===void 0||Y.is(d.command))&&(d.isPreferred===void 0||S.boolean(d.isPreferred))&&(d.edit===void 0||W.is(d.edit))}r(w,"is"),f.is=w})(vi||(t.CodeAction=vi={}));var _o;(function(f){function b(p,d){var x={range:p};return S.defined(d)&&(x.data=d),x}r(b,"create"),f.create=b;function w(p){var d=p;return S.defined(d)&&a.is(d.range)&&(S.undefined(d.command)||Y.is(d.command))}r(w,"is"),f.is=w})(_o||(t.CodeLens=_o={}));var Ii;(function(f){function b(p,d){return{tabSize:p,insertSpaces:d}}r(b,"create"),f.create=b;function w(p){var d=p;return S.defined(d)&&S.uinteger(d.tabSize)&&S.boolean(d.insertSpaces)}r(w,"is"),f.is=w})(Ii||(t.FormattingOptions=Ii={}));var Hn;(function(f){function b(p,d,x){return{range:p,target:d,data:x}}r(b,"create"),f.create=b;function w(p){var d=p;return S.defined(d)&&a.is(d.range)&&(S.undefined(d.target)||S.string(d.target))}r(w,"is"),f.is=w})(Hn||(t.DocumentLink=Hn={}));var y;(function(f){function b(p,d){return{range:p,parent:d}}r(b,"create"),f.create=b;function w(p){var d=p;return S.objectLiteral(d)&&a.is(d.range)&&(d.parent===void 0||f.is(d.parent))}r(w,"is"),f.is=w})(y||(t.SelectionRange=y={}));var F;(function(f){f.namespace="namespace",f.type="type",f.class="class",f.enum="enum",f.interface="interface",f.struct="struct",f.typeParameter="typeParameter",f.parameter="parameter",f.variable="variable",f.property="property",f.enumMember="enumMember",f.event="event",f.function="function",f.method="method",f.macro="macro",f.keyword="keyword",f.modifier="modifier",f.comment="comment",f.string="string",f.number="number",f.regexp="regexp",f.operator="operator",f.decorator="decorator"})(F||(t.SemanticTokenTypes=F={}));var K;(function(f){f.declaration="declaration",f.definition="definition",f.readonly="readonly",f.static="static",f.deprecated="deprecated",f.abstract="abstract",f.async="async",f.modification="modification",f.documentation="documentation",f.defaultLibrary="defaultLibrary"})(K||(t.SemanticTokenModifiers=K={}));var ee;(function(f){function b(w){var p=w;return S.objectLiteral(p)&&(p.resultId===void 0||typeof p.resultId=="string")&&Array.isArray(p.data)&&(p.data.length===0||typeof p.data[0]=="number")}r(b,"is"),f.is=b})(ee||(t.SemanticTokens=ee={}));var Ne;(function(f){function b(p,d){return{range:p,text:d}}r(b,"create"),f.create=b;function w(p){var d=p;return d!=null&&a.is(d.range)&&S.string(d.text)}r(w,"is"),f.is=w})(Ne||(t.InlineValueText=Ne={}));var Se;(function(f){function b(p,d,x){return{range:p,variableName:d,caseSensitiveLookup:x}}r(b,"create"),f.create=b;function w(p){var d=p;return d!=null&&a.is(d.range)&&S.boolean(d.caseSensitiveLookup)&&(S.string(d.variableName)||d.variableName===void 0)}r(w,"is"),f.is=w})(Se||(t.InlineValueVariableLookup=Se={}));var Te;(function(f){function b(p,d){return{range:p,expression:d}}r(b,"create"),f.create=b;function w(p){var d=p;return d!=null&&a.is(d.range)&&(S.string(d.expression)||d.expression===void 0)}r(w,"is"),f.is=w})(Te||(t.InlineValueEvaluatableExpression=Te={}));var We;(function(f){function b(p,d){return{frameId:p,stoppedLocation:d}}r(b,"create"),f.create=b;function w(p){var d=p;return S.defined(d)&&a.is(p.stoppedLocation)}r(w,"is"),f.is=w})(We||(t.InlineValueContext=We={}));var Ye;(function(f){f.Type=1,f.Parameter=2;function b(w){return w===1||w===2}r(b,"is"),f.is=b})(Ye||(t.InlayHintKind=Ye={}));var be;(function(f){function b(p){return{value:p}}r(b,"create"),f.create=b;function w(p){var d=p;return S.objectLiteral(d)&&(d.tooltip===void 0||S.string(d.tooltip)||H.is(d.tooltip))&&(d.location===void 0||c.is(d.location))&&(d.command===void 0||Y.is(d.command))}r(w,"is"),f.is=w})(be||(t.InlayHintLabelPart=be={}));var $e;(function(f){function b(p,d,x){var A={position:p,label:d};return x!==void 0&&(A.kind=x),A}r(b,"create"),f.create=b;function w(p){var d=p;return S.objectLiteral(d)&&s.is(d.position)&&(S.string(d.label)||S.typedArray(d.label,be.is))&&(d.kind===void 0||Ye.is(d.kind))&&d.textEdits===void 0||S.typedArray(d.textEdits,V.is)&&(d.tooltip===void 0||S.string(d.tooltip)||H.is(d.tooltip))&&(d.paddingLeft===void 0||S.boolean(d.paddingLeft))&&(d.paddingRight===void 0||S.boolean(d.paddingRight))}r(w,"is"),f.is=w})($e||(t.InlayHint=$e={}));var Ee;(function(f){function b(w){return{kind:"snippet",value:w}}r(b,"createSnippet"),f.createSnippet=b})(Ee||(t.StringValue=Ee={}));var Ge;(function(f){function b(w,p,d,x){return{insertText:w,filterText:p,range:d,command:x}}r(b,"create"),f.create=b})(Ge||(t.InlineCompletionItem=Ge={}));var et;(function(f){function b(w){return{items:w}}r(b,"create"),f.create=b})(et||(t.InlineCompletionList=et={}));var Ms;(function(f){f.Invoked=0,f.Automatic=1})(Ms||(t.InlineCompletionTriggerKind=Ms={}));var pp;(function(f){function b(w,p){return{range:w,text:p}}r(b,"create"),f.create=b})(pp||(t.SelectedCompletionInfo=pp={}));var gp;(function(f){function b(w,p){return{triggerKind:w,selectedCompletionInfo:p}}r(b,"create"),f.create=b})(gp||(t.InlineCompletionContext=gp={}));var hp;(function(f){function b(w){var p=w;return S.objectLiteral(p)&&o.is(p.uri)&&S.string(p.name)}r(b,"is"),f.is=b})(hp||(t.WorkspaceFolder=hp={})),t.EOL=[`
`,`\r
`,"\r"];var _p;(function(f){function b(x,A,ue,Qe){return new fI(x,A,ue,Qe)}r(b,"create"),f.create=b;function w(x){var A=x;return!!(S.defined(A)&&S.string(A.uri)&&(S.undefined(A.languageId)||S.string(A.languageId))&&S.uinteger(A.lineCount)&&S.func(A.getText)&&S.func(A.positionAt)&&S.func(A.offsetAt))}r(w,"is"),f.is=w;function p(x,A){for(var ue=x.getText(),Qe=d(A,function(yo,Ns){var yp=yo.range.start.line-Ns.range.start.line;return yp===0?yo.range.start.character-Ns.range.start.character:yp}),Oe=ue.length,hn=Qe.length-1;hn>=0;hn--){var _n=Qe[hn],Zn=x.offsetAt(_n.range.start),pe=x.offsetAt(_n.range.end);if(pe<=Oe)ue=ue.substring(0,Zn)+_n.newText+ue.substring(pe,ue.length);else throw new Error("Overlapping edit");Oe=Zn}return ue}r(p,"applyEdits"),f.applyEdits=p;function d(x,A){if(x.length<=1)return x;var ue=x.length/2|0,Qe=x.slice(0,ue),Oe=x.slice(ue);d(Qe,A),d(Oe,A);for(var hn=0,_n=0,Zn=0;hn<Qe.length&&_n<Oe.length;){var pe=A(Qe[hn],Oe[_n]);pe<=0?x[Zn++]=Qe[hn++]:x[Zn++]=Oe[_n++]}for(;hn<Qe.length;)x[Zn++]=Qe[hn++];for(;_n<Oe.length;)x[Zn++]=Oe[_n++];return x}r(d,"mergeSort")})(_p||(t.TextDocument=_p={}));var fI=function(){function f(b,w,p,d){this._uri=b,this._languageId=w,this._version=p,this._content=d,this._lineOffsets=void 0}return r(f,"FullTextDocument"),Object.defineProperty(f.prototype,"uri",{get:r(function(){return this._uri},"get"),enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"languageId",{get:r(function(){return this._languageId},"get"),enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"version",{get:r(function(){return this._version},"get"),enumerable:!1,configurable:!0}),f.prototype.getText=function(b){if(b){var w=this.offsetAt(b.start),p=this.offsetAt(b.end);return this._content.substring(w,p)}return this._content},f.prototype.update=function(b,w){this._content=b.text,this._version=w,this._lineOffsets=void 0},f.prototype.getLineOffsets=function(){if(this._lineOffsets===void 0){for(var b=[],w=this._content,p=!0,d=0;d<w.length;d++){p&&(b.push(d),p=!1);var x=w.charAt(d);p=x==="\r"||x===`
`,x==="\r"&&d+1<w.length&&w.charAt(d+1)===`
`&&d++}p&&w.length>0&&b.push(w.length),this._lineOffsets=b}return this._lineOffsets},f.prototype.positionAt=function(b){b=Math.max(Math.min(b,this._content.length),0);var w=this.getLineOffsets(),p=0,d=w.length;if(d===0)return s.create(0,b);for(;p<d;){var x=Math.floor((p+d)/2);w[x]>b?d=x:p=x+1}var A=p-1;return s.create(A,b-w[A])},f.prototype.offsetAt=function(b){var w=this.getLineOffsets();if(b.line>=w.length)return this._content.length;if(b.line<0)return 0;var p=w[b.line],d=b.line+1<w.length?w[b.line+1]:this._content.length;return Math.max(Math.min(p+b.character,d),p)},Object.defineProperty(f.prototype,"lineCount",{get:r(function(){return this.getLineOffsets().length},"get"),enumerable:!1,configurable:!0}),f}(),S;(function(f){var b=Object.prototype.toString;function w(pe){return typeof pe<"u"}r(w,"defined"),f.defined=w;function p(pe){return typeof pe>"u"}r(p,"undefined"),f.undefined=p;function d(pe){return pe===!0||pe===!1}r(d,"boolean"),f.boolean=d;function x(pe){return b.call(pe)==="[object String]"}r(x,"string"),f.string=x;function A(pe){return b.call(pe)==="[object Number]"}r(A,"number"),f.number=A;function ue(pe,yo,Ns){return b.call(pe)==="[object Number]"&&yo<=pe&&pe<=Ns}r(ue,"numberRange"),f.numberRange=ue;function Qe(pe){return b.call(pe)==="[object Number]"&&-2147483648<=pe&&pe<=2147483647}r(Qe,"integer"),f.integer=Qe;function Oe(pe){return b.call(pe)==="[object Number]"&&0<=pe&&pe<=2147483647}r(Oe,"uinteger"),f.uinteger=Oe;function hn(pe){return b.call(pe)==="[object Function]"}r(hn,"func"),f.func=hn;function _n(pe){return pe!==null&&typeof pe=="object"}r(_n,"objectLiteral"),f.objectLiteral=_n;function Zn(pe,yo){return Array.isArray(pe)&&pe.every(yo)}r(Zn,"typedArray"),f.typedArray=Zn})(S||(S={}))})});var Ve=X(Ut=>{"use strict";Object.defineProperty(Ut,"__esModule",{value:!0});Ut.ProtocolNotificationType=Ut.ProtocolNotificationType0=Ut.ProtocolRequestType=Ut.ProtocolRequestType0=Ut.RegistrationType=Ut.MessageDirection=void 0;var ui=fo(),fb;(function(e){e.clientToServer="clientToServer",e.serverToClient="serverToClient",e.both="both"})(fb||(Ut.MessageDirection=fb={}));var Qm=class Qm{constructor(t){this.method=t}};r(Qm,"RegistrationType");var Vm=Qm;Ut.RegistrationType=Vm;var Jm=class Jm extends ui.RequestType0{constructor(t){super(t)}};r(Jm,"ProtocolRequestType0");var zm=Jm;Ut.ProtocolRequestType0=zm;var Xm=class Xm extends ui.RequestType{constructor(t){super(t,ui.ParameterStructures.byName)}};r(Xm,"ProtocolRequestType");var Km=Xm;Ut.ProtocolRequestType=Km;var Ym=class Ym extends ui.NotificationType0{constructor(t){super(t)}};r(Ym,"ProtocolNotificationType0");var Hm=Ym;Ut.ProtocolNotificationType0=Hm;var ep=class ep extends ui.NotificationType{constructor(t){super(t,ui.ParameterStructures.byName)}};r(ep,"ProtocolNotificationType");var Zm=ep;Ut.ProtocolNotificationType=Zm});var bu=X(ft=>{"use strict";Object.defineProperty(ft,"__esModule",{value:!0});ft.objectLiteral=ft.typedArray=ft.stringArray=ft.array=ft.func=ft.error=ft.number=ft.string=ft.boolean=void 0;function $0(e){return e===!0||e===!1}r($0,"boolean");ft.boolean=$0;function mb(e){return typeof e=="string"||e instanceof String}r(mb,"string");ft.string=mb;function G0(e){return typeof e=="number"||e instanceof Number}r(G0,"number");ft.number=G0;function V0(e){return e instanceof Error}r(V0,"error");ft.error=V0;function z0(e){return typeof e=="function"}r(z0,"func");ft.func=z0;function pb(e){return Array.isArray(e)}r(pb,"array");ft.array=pb;function K0(e){return pb(e)&&e.every(t=>mb(t))}r(K0,"stringArray");ft.stringArray=K0;function H0(e,t){return Array.isArray(e)&&e.every(t)}r(H0,"typedArray");ft.typedArray=H0;function Z0(e){return e!==null&&typeof e=="object"}r(Z0,"objectLiteral");ft.objectLiteral=Z0});var _b=X(wu=>{"use strict";Object.defineProperty(wu,"__esModule",{value:!0});wu.ImplementationRequest=void 0;var gb=Ve(),hb;(function(e){e.method="textDocument/implementation",e.messageDirection=gb.MessageDirection.clientToServer,e.type=new gb.ProtocolRequestType(e.method)})(hb||(wu.ImplementationRequest=hb={}))});var wb=X(vu=>{"use strict";Object.defineProperty(vu,"__esModule",{value:!0});vu.TypeDefinitionRequest=void 0;var yb=Ve(),bb;(function(e){e.method="textDocument/typeDefinition",e.messageDirection=yb.MessageDirection.clientToServer,e.type=new yb.ProtocolRequestType(e.method)})(bb||(vu.TypeDefinitionRequest=bb={}))});var xb=X(ci=>{"use strict";Object.defineProperty(ci,"__esModule",{value:!0});ci.DidChangeWorkspaceFoldersNotification=ci.WorkspaceFoldersRequest=void 0;var Iu=Ve(),vb;(function(e){e.method="workspace/workspaceFolders",e.messageDirection=Iu.MessageDirection.serverToClient,e.type=new Iu.ProtocolRequestType0(e.method)})(vb||(ci.WorkspaceFoldersRequest=vb={}));var Ib;(function(e){e.method="workspace/didChangeWorkspaceFolders",e.messageDirection=Iu.MessageDirection.clientToServer,e.type=new Iu.ProtocolNotificationType(e.method)})(Ib||(ci.DidChangeWorkspaceFoldersNotification=Ib={}))});var Eb=X(xu=>{"use strict";Object.defineProperty(xu,"__esModule",{value:!0});xu.ConfigurationRequest=void 0;var Sb=Ve(),Tb;(function(e){e.method="workspace/configuration",e.messageDirection=Sb.MessageDirection.serverToClient,e.type=new Sb.ProtocolRequestType(e.method)})(Tb||(xu.ConfigurationRequest=Tb={}))});var kb=X(li=>{"use strict";Object.defineProperty(li,"__esModule",{value:!0});li.ColorPresentationRequest=li.DocumentColorRequest=void 0;var Su=Ve(),Rb;(function(e){e.method="textDocument/documentColor",e.messageDirection=Su.MessageDirection.clientToServer,e.type=new Su.ProtocolRequestType(e.method)})(Rb||(li.DocumentColorRequest=Rb={}));var Pb;(function(e){e.method="textDocument/colorPresentation",e.messageDirection=Su.MessageDirection.clientToServer,e.type=new Su.ProtocolRequestType(e.method)})(Pb||(li.ColorPresentationRequest=Pb={}))});var Cb=X(di=>{"use strict";Object.defineProperty(di,"__esModule",{value:!0});di.FoldingRangeRefreshRequest=di.FoldingRangeRequest=void 0;var Tu=Ve(),Mb;(function(e){e.method="textDocument/foldingRange",e.messageDirection=Tu.MessageDirection.clientToServer,e.type=new Tu.ProtocolRequestType(e.method)})(Mb||(di.FoldingRangeRequest=Mb={}));var Nb;(function(e){e.method="workspace/foldingRange/refresh",e.messageDirection=Tu.MessageDirection.serverToClient,e.type=new Tu.ProtocolRequestType0(e.method)})(Nb||(di.FoldingRangeRefreshRequest=Nb={}))});var Fb=X(Eu=>{"use strict";Object.defineProperty(Eu,"__esModule",{value:!0});Eu.DeclarationRequest=void 0;var Lb=Ve(),Ob;(function(e){e.method="textDocument/declaration",e.messageDirection=Lb.MessageDirection.clientToServer,e.type=new Lb.ProtocolRequestType(e.method)})(Ob||(Eu.DeclarationRequest=Ob={}))});var jb=X(Ru=>{"use strict";Object.defineProperty(Ru,"__esModule",{value:!0});Ru.SelectionRangeRequest=void 0;var Ab=Ve(),Db;(function(e){e.method="textDocument/selectionRange",e.messageDirection=Ab.MessageDirection.clientToServer,e.type=new Ab.ProtocolRequestType(e.method)})(Db||(Ru.SelectionRangeRequest=Db={}))});var Wb=X(Cr=>{"use strict";Object.defineProperty(Cr,"__esModule",{value:!0});Cr.WorkDoneProgressCancelNotification=Cr.WorkDoneProgressCreateRequest=Cr.WorkDoneProgress=void 0;var Q0=fo(),Pu=Ve(),Ub;(function(e){e.type=new Q0.ProgressType;function t(n){return n===e.type}r(t,"is"),e.is=t})(Ub||(Cr.WorkDoneProgress=Ub={}));var qb;(function(e){e.method="window/workDoneProgress/create",e.messageDirection=Pu.MessageDirection.serverToClient,e.type=new Pu.ProtocolRequestType(e.method)})(qb||(Cr.WorkDoneProgressCreateRequest=qb={}));var Bb;(function(e){e.method="window/workDoneProgress/cancel",e.messageDirection=Pu.MessageDirection.clientToServer,e.type=new Pu.ProtocolNotificationType(e.method)})(Bb||(Cr.WorkDoneProgressCancelNotification=Bb={}))});var zb=X(Lr=>{"use strict";Object.defineProperty(Lr,"__esModule",{value:!0});Lr.CallHierarchyOutgoingCallsRequest=Lr.CallHierarchyIncomingCallsRequest=Lr.CallHierarchyPrepareRequest=void 0;var fi=Ve(),$b;(function(e){e.method="textDocument/prepareCallHierarchy",e.messageDirection=fi.MessageDirection.clientToServer,e.type=new fi.ProtocolRequestType(e.method)})($b||(Lr.CallHierarchyPrepareRequest=$b={}));var Gb;(function(e){e.method="callHierarchy/incomingCalls",e.messageDirection=fi.MessageDirection.clientToServer,e.type=new fi.ProtocolRequestType(e.method)})(Gb||(Lr.CallHierarchyIncomingCallsRequest=Gb={}));var Vb;(function(e){e.method="callHierarchy/outgoingCalls",e.messageDirection=fi.MessageDirection.clientToServer,e.type=new fi.ProtocolRequestType(e.method)})(Vb||(Lr.CallHierarchyOutgoingCallsRequest=Vb={}))});var Xb=X(qt=>{"use strict";Object.defineProperty(qt,"__esModule",{value:!0});qt.SemanticTokensRefreshRequest=qt.SemanticTokensRangeRequest=qt.SemanticTokensDeltaRequest=qt.SemanticTokensRequest=qt.SemanticTokensRegistrationType=qt.TokenFormat=void 0;var ur=Ve(),Kb;(function(e){e.Relative="relative"})(Kb||(qt.TokenFormat=Kb={}));var bs;(function(e){e.method="textDocument/semanticTokens",e.type=new ur.RegistrationType(e.method)})(bs||(qt.SemanticTokensRegistrationType=bs={}));var Hb;(function(e){e.method="textDocument/semanticTokens/full",e.messageDirection=ur.MessageDirection.clientToServer,e.type=new ur.ProtocolRequestType(e.method),e.registrationMethod=bs.method})(Hb||(qt.SemanticTokensRequest=Hb={}));var Zb;(function(e){e.method="textDocument/semanticTokens/full/delta",e.messageDirection=ur.MessageDirection.clientToServer,e.type=new ur.ProtocolRequestType(e.method),e.registrationMethod=bs.method})(Zb||(qt.SemanticTokensDeltaRequest=Zb={}));var Qb;(function(e){e.method="textDocument/semanticTokens/range",e.messageDirection=ur.MessageDirection.clientToServer,e.type=new ur.ProtocolRequestType(e.method),e.registrationMethod=bs.method})(Qb||(qt.SemanticTokensRangeRequest=Qb={}));var Jb;(function(e){e.method="workspace/semanticTokens/refresh",e.messageDirection=ur.MessageDirection.serverToClient,e.type=new ur.ProtocolRequestType0(e.method)})(Jb||(qt.SemanticTokensRefreshRequest=Jb={}))});var tw=X(ku=>{"use strict";Object.defineProperty(ku,"__esModule",{value:!0});ku.ShowDocumentRequest=void 0;var Yb=Ve(),ew;(function(e){e.method="window/showDocument",e.messageDirection=Yb.MessageDirection.serverToClient,e.type=new Yb.ProtocolRequestType(e.method)})(ew||(ku.ShowDocumentRequest=ew={}))});var ow=X(Mu=>{"use strict";Object.defineProperty(Mu,"__esModule",{value:!0});Mu.LinkedEditingRangeRequest=void 0;var nw=Ve(),rw;(function(e){e.method="textDocument/linkedEditingRange",e.messageDirection=nw.MessageDirection.clientToServer,e.type=new nw.ProtocolRequestType(e.method)})(rw||(Mu.LinkedEditingRangeRequest=rw={}))});var fw=X(Mt=>{"use strict";Object.defineProperty(Mt,"__esModule",{value:!0});Mt.WillDeleteFilesRequest=Mt.DidDeleteFilesNotification=Mt.DidRenameFilesNotification=Mt.WillRenameFilesRequest=Mt.DidCreateFilesNotification=Mt.WillCreateFilesRequest=Mt.FileOperationPatternKind=void 0;var fn=Ve(),iw;(function(e){e.file="file",e.folder="folder"})(iw||(Mt.FileOperationPatternKind=iw={}));var sw;(function(e){e.method="workspace/willCreateFiles",e.messageDirection=fn.MessageDirection.clientToServer,e.type=new fn.ProtocolRequestType(e.method)})(sw||(Mt.WillCreateFilesRequest=sw={}));var aw;(function(e){e.method="workspace/didCreateFiles",e.messageDirection=fn.MessageDirection.clientToServer,e.type=new fn.ProtocolNotificationType(e.method)})(aw||(Mt.DidCreateFilesNotification=aw={}));var uw;(function(e){e.method="workspace/willRenameFiles",e.messageDirection=fn.MessageDirection.clientToServer,e.type=new fn.ProtocolRequestType(e.method)})(uw||(Mt.WillRenameFilesRequest=uw={}));var cw;(function(e){e.method="workspace/didRenameFiles",e.messageDirection=fn.MessageDirection.clientToServer,e.type=new fn.ProtocolNotificationType(e.method)})(cw||(Mt.DidRenameFilesNotification=cw={}));var lw;(function(e){e.method="workspace/didDeleteFiles",e.messageDirection=fn.MessageDirection.clientToServer,e.type=new fn.ProtocolNotificationType(e.method)})(lw||(Mt.DidDeleteFilesNotification=lw={}));var dw;(function(e){e.method="workspace/willDeleteFiles",e.messageDirection=fn.MessageDirection.clientToServer,e.type=new fn.ProtocolRequestType(e.method)})(dw||(Mt.WillDeleteFilesRequest=dw={}))});var _w=X(Or=>{"use strict";Object.defineProperty(Or,"__esModule",{value:!0});Or.MonikerRequest=Or.MonikerKind=Or.UniquenessLevel=void 0;var mw=Ve(),pw;(function(e){e.document="document",e.project="project",e.group="group",e.scheme="scheme",e.global="global"})(pw||(Or.UniquenessLevel=pw={}));var gw;(function(e){e.$import="import",e.$export="export",e.local="local"})(gw||(Or.MonikerKind=gw={}));var hw;(function(e){e.method="textDocument/moniker",e.messageDirection=mw.MessageDirection.clientToServer,e.type=new mw.ProtocolRequestType(e.method)})(hw||(Or.MonikerRequest=hw={}))});var vw=X(Fr=>{"use strict";Object.defineProperty(Fr,"__esModule",{value:!0});Fr.TypeHierarchySubtypesRequest=Fr.TypeHierarchySupertypesRequest=Fr.TypeHierarchyPrepareRequest=void 0;var mi=Ve(),yw;(function(e){e.method="textDocument/prepareTypeHierarchy",e.messageDirection=mi.MessageDirection.clientToServer,e.type=new mi.ProtocolRequestType(e.method)})(yw||(Fr.TypeHierarchyPrepareRequest=yw={}));var bw;(function(e){e.method="typeHierarchy/supertypes",e.messageDirection=mi.MessageDirection.clientToServer,e.type=new mi.ProtocolRequestType(e.method)})(bw||(Fr.TypeHierarchySupertypesRequest=bw={}));var ww;(function(e){e.method="typeHierarchy/subtypes",e.messageDirection=mi.MessageDirection.clientToServer,e.type=new mi.ProtocolRequestType(e.method)})(ww||(Fr.TypeHierarchySubtypesRequest=ww={}))});var Sw=X(pi=>{"use strict";Object.defineProperty(pi,"__esModule",{value:!0});pi.InlineValueRefreshRequest=pi.InlineValueRequest=void 0;var Nu=Ve(),Iw;(function(e){e.method="textDocument/inlineValue",e.messageDirection=Nu.MessageDirection.clientToServer,e.type=new Nu.ProtocolRequestType(e.method)})(Iw||(pi.InlineValueRequest=Iw={}));var xw;(function(e){e.method="workspace/inlineValue/refresh",e.messageDirection=Nu.MessageDirection.serverToClient,e.type=new Nu.ProtocolRequestType0(e.method)})(xw||(pi.InlineValueRefreshRequest=xw={}))});var Pw=X(Ar=>{"use strict";Object.defineProperty(Ar,"__esModule",{value:!0});Ar.InlayHintRefreshRequest=Ar.InlayHintResolveRequest=Ar.InlayHintRequest=void 0;var gi=Ve(),Tw;(function(e){e.method="textDocument/inlayHint",e.messageDirection=gi.MessageDirection.clientToServer,e.type=new gi.ProtocolRequestType(e.method)})(Tw||(Ar.InlayHintRequest=Tw={}));var Ew;(function(e){e.method="inlayHint/resolve",e.messageDirection=gi.MessageDirection.clientToServer,e.type=new gi.ProtocolRequestType(e.method)})(Ew||(Ar.InlayHintResolveRequest=Ew={}));var Rw;(function(e){e.method="workspace/inlayHint/refresh",e.messageDirection=gi.MessageDirection.serverToClient,e.type=new gi.ProtocolRequestType0(e.method)})(Rw||(Ar.InlayHintRefreshRequest=Rw={}))});var Fw=X(mn=>{"use strict";Object.defineProperty(mn,"__esModule",{value:!0});mn.DiagnosticRefreshRequest=mn.WorkspaceDiagnosticRequest=mn.DocumentDiagnosticRequest=mn.DocumentDiagnosticReportKind=mn.DiagnosticServerCancellationData=void 0;var Ow=fo(),J0=bu(),hi=Ve(),kw;(function(e){function t(n){let o=n;return o&&J0.boolean(o.retriggerRequest)}r(t,"is"),e.is=t})(kw||(mn.DiagnosticServerCancellationData=kw={}));var Mw;(function(e){e.Full="full",e.Unchanged="unchanged"})(Mw||(mn.DocumentDiagnosticReportKind=Mw={}));var Nw;(function(e){e.method="textDocument/diagnostic",e.messageDirection=hi.MessageDirection.clientToServer,e.type=new hi.ProtocolRequestType(e.method),e.partialResult=new Ow.ProgressType})(Nw||(mn.DocumentDiagnosticRequest=Nw={}));var Cw;(function(e){e.method="workspace/diagnostic",e.messageDirection=hi.MessageDirection.clientToServer,e.type=new hi.ProtocolRequestType(e.method),e.partialResult=new Ow.ProgressType})(Cw||(mn.WorkspaceDiagnosticRequest=Cw={}));var Lw;(function(e){e.method="workspace/diagnostic/refresh",e.messageDirection=hi.MessageDirection.serverToClient,e.type=new hi.ProtocolRequestType0(e.method)})(Lw||(mn.DiagnosticRefreshRequest=Lw={}))});var Ww=X(Xe=>{"use strict";Object.defineProperty(Xe,"__esModule",{value:!0});Xe.DidCloseNotebookDocumentNotification=Xe.DidSaveNotebookDocumentNotification=Xe.DidChangeNotebookDocumentNotification=Xe.NotebookCellArrayChange=Xe.DidOpenNotebookDocumentNotification=Xe.NotebookDocumentSyncRegistrationType=Xe.NotebookDocument=Xe.NotebookCell=Xe.ExecutionSummary=Xe.NotebookCellKind=void 0;var ws=yu(),Ln=bu(),Gn=Ve(),tp;(function(e){e.Markup=1,e.Code=2;function t(n){return n===1||n===2}r(t,"is"),e.is=t})(tp||(Xe.NotebookCellKind=tp={}));var np;(function(e){function t(i,u){let s={executionOrder:i};return(u===!0||u===!1)&&(s.success=u),s}r(t,"create"),e.create=t;function n(i){let u=i;return Ln.objectLiteral(u)&&ws.uinteger.is(u.executionOrder)&&(u.success===void 0||Ln.boolean(u.success))}r(n,"is"),e.is=n;function o(i,u){return i===u?!0:i==null||u===null||u===void 0?!1:i.executionOrder===u.executionOrder&&i.success===u.success}r(o,"equals"),e.equals=o})(np||(Xe.ExecutionSummary=np={}));var Cu;(function(e){function t(u,s){return{kind:u,document:s}}r(t,"create"),e.create=t;function n(u){let s=u;return Ln.objectLiteral(s)&&tp.is(s.kind)&&ws.DocumentUri.is(s.document)&&(s.metadata===void 0||Ln.objectLiteral(s.metadata))}r(n,"is"),e.is=n;function o(u,s){let a=new Set;return u.document!==s.document&&a.add("document"),u.kind!==s.kind&&a.add("kind"),u.executionSummary!==s.executionSummary&&a.add("executionSummary"),(u.metadata!==void 0||s.metadata!==void 0)&&!i(u.metadata,s.metadata)&&a.add("metadata"),(u.executionSummary!==void 0||s.executionSummary!==void 0)&&!np.equals(u.executionSummary,s.executionSummary)&&a.add("executionSummary"),a}r(o,"diff"),e.diff=o;function i(u,s){if(u===s)return!0;if(u==null||s===null||s===void 0||typeof u!=typeof s||typeof u!="object")return!1;let a=Array.isArray(u),c=Array.isArray(s);if(a!==c)return!1;if(a&&c){if(u.length!==s.length)return!1;for(let l=0;l<u.length;l++)if(!i(u[l],s[l]))return!1}if(Ln.objectLiteral(u)&&Ln.objectLiteral(s)){let l=Object.keys(u),m=Object.keys(s);if(l.length!==m.length||(l.sort(),m.sort(),!i(l,m)))return!1;for(let g=0;g<l.length;g++){let _=l[g];if(!i(u[_],s[_]))return!1}}return!0}r(i,"equalsMetadata")})(Cu||(Xe.NotebookCell=Cu={}));var Aw;(function(e){function t(o,i,u,s){return{uri:o,notebookType:i,version:u,cells:s}}r(t,"create"),e.create=t;function n(o){let i=o;return Ln.objectLiteral(i)&&Ln.string(i.uri)&&ws.integer.is(i.version)&&Ln.typedArray(i.cells,Cu.is)}r(n,"is"),e.is=n})(Aw||(Xe.NotebookDocument=Aw={}));var _i;(function(e){e.method="notebookDocument/sync",e.messageDirection=Gn.MessageDirection.clientToServer,e.type=new Gn.RegistrationType(e.method)})(_i||(Xe.NotebookDocumentSyncRegistrationType=_i={}));var Dw;(function(e){e.method="notebookDocument/didOpen",e.messageDirection=Gn.MessageDirection.clientToServer,e.type=new Gn.ProtocolNotificationType(e.method),e.registrationMethod=_i.method})(Dw||(Xe.DidOpenNotebookDocumentNotification=Dw={}));var jw;(function(e){function t(o){let i=o;return Ln.objectLiteral(i)&&ws.uinteger.is(i.start)&&ws.uinteger.is(i.deleteCount)&&(i.cells===void 0||Ln.typedArray(i.cells,Cu.is))}r(t,"is"),e.is=t;function n(o,i,u){let s={start:o,deleteCount:i};return u!==void 0&&(s.cells=u),s}r(n,"create"),e.create=n})(jw||(Xe.NotebookCellArrayChange=jw={}));var Uw;(function(e){e.method="notebookDocument/didChange",e.messageDirection=Gn.MessageDirection.clientToServer,e.type=new Gn.ProtocolNotificationType(e.method),e.registrationMethod=_i.method})(Uw||(Xe.DidChangeNotebookDocumentNotification=Uw={}));var qw;(function(e){e.method="notebookDocument/didSave",e.messageDirection=Gn.MessageDirection.clientToServer,e.type=new Gn.ProtocolNotificationType(e.method),e.registrationMethod=_i.method})(qw||(Xe.DidSaveNotebookDocumentNotification=qw={}));var Bw;(function(e){e.method="notebookDocument/didClose",e.messageDirection=Gn.MessageDirection.clientToServer,e.type=new Gn.ProtocolNotificationType(e.method),e.registrationMethod=_i.method})(Bw||(Xe.DidCloseNotebookDocumentNotification=Bw={}))});var Vw=X(Lu=>{"use strict";Object.defineProperty(Lu,"__esModule",{value:!0});Lu.InlineCompletionRequest=void 0;var $w=Ve(),Gw;(function(e){e.method="textDocument/inlineCompletion",e.messageDirection=$w.MessageDirection.clientToServer,e.type=new $w.ProtocolRequestType(e.method)})(Gw||(Lu.InlineCompletionRequest=Gw={}))});var oI=X(h=>{"use strict";Object.defineProperty(h,"__esModule",{value:!0});h.WorkspaceSymbolRequest=h.CodeActionResolveRequest=h.CodeActionRequest=h.DocumentSymbolRequest=h.DocumentHighlightRequest=h.ReferencesRequest=h.DefinitionRequest=h.SignatureHelpRequest=h.SignatureHelpTriggerKind=h.HoverRequest=h.CompletionResolveRequest=h.CompletionRequest=h.CompletionTriggerKind=h.PublishDiagnosticsNotification=h.WatchKind=h.RelativePattern=h.FileChangeType=h.DidChangeWatchedFilesNotification=h.WillSaveTextDocumentWaitUntilRequest=h.WillSaveTextDocumentNotification=h.TextDocumentSaveReason=h.DidSaveTextDocumentNotification=h.DidCloseTextDocumentNotification=h.DidChangeTextDocumentNotification=h.TextDocumentContentChangeEvent=h.DidOpenTextDocumentNotification=h.TextDocumentSyncKind=h.TelemetryEventNotification=h.LogMessageNotification=h.ShowMessageRequest=h.ShowMessageNotification=h.MessageType=h.DidChangeConfigurationNotification=h.ExitNotification=h.ShutdownRequest=h.InitializedNotification=h.InitializeErrorCodes=h.InitializeRequest=h.WorkDoneProgressOptions=h.TextDocumentRegistrationOptions=h.StaticRegistrationOptions=h.PositionEncodingKind=h.FailureHandlingKind=h.ResourceOperationKind=h.UnregistrationRequest=h.RegistrationRequest=h.DocumentSelector=h.NotebookCellTextDocumentFilter=h.NotebookDocumentFilter=h.TextDocumentFilter=void 0;h.MonikerRequest=h.MonikerKind=h.UniquenessLevel=h.WillDeleteFilesRequest=h.DidDeleteFilesNotification=h.WillRenameFilesRequest=h.DidRenameFilesNotification=h.WillCreateFilesRequest=h.DidCreateFilesNotification=h.FileOperationPatternKind=h.LinkedEditingRangeRequest=h.ShowDocumentRequest=h.SemanticTokensRegistrationType=h.SemanticTokensRefreshRequest=h.SemanticTokensRangeRequest=h.SemanticTokensDeltaRequest=h.SemanticTokensRequest=h.TokenFormat=h.CallHierarchyPrepareRequest=h.CallHierarchyOutgoingCallsRequest=h.CallHierarchyIncomingCallsRequest=h.WorkDoneProgressCancelNotification=h.WorkDoneProgressCreateRequest=h.WorkDoneProgress=h.SelectionRangeRequest=h.DeclarationRequest=h.FoldingRangeRefreshRequest=h.FoldingRangeRequest=h.ColorPresentationRequest=h.DocumentColorRequest=h.ConfigurationRequest=h.DidChangeWorkspaceFoldersNotification=h.WorkspaceFoldersRequest=h.TypeDefinitionRequest=h.ImplementationRequest=h.ApplyWorkspaceEditRequest=h.ExecuteCommandRequest=h.PrepareRenameRequest=h.RenameRequest=h.PrepareSupportDefaultBehavior=h.DocumentOnTypeFormattingRequest=h.DocumentRangesFormattingRequest=h.DocumentRangeFormattingRequest=h.DocumentFormattingRequest=h.DocumentLinkResolveRequest=h.DocumentLinkRequest=h.CodeLensRefreshRequest=h.CodeLensResolveRequest=h.CodeLensRequest=h.WorkspaceSymbolResolveRequest=void 0;h.InlineCompletionRequest=h.DidCloseNotebookDocumentNotification=h.DidSaveNotebookDocumentNotification=h.DidChangeNotebookDocumentNotification=h.NotebookCellArrayChange=h.DidOpenNotebookDocumentNotification=h.NotebookDocumentSyncRegistrationType=h.NotebookDocument=h.NotebookCell=h.ExecutionSummary=h.NotebookCellKind=h.DiagnosticRefreshRequest=h.WorkspaceDiagnosticRequest=h.DocumentDiagnosticRequest=h.DocumentDiagnosticReportKind=h.DiagnosticServerCancellationData=h.InlayHintRefreshRequest=h.InlayHintResolveRequest=h.InlayHintRequest=h.InlineValueRefreshRequest=h.InlineValueRequest=h.TypeHierarchySupertypesRequest=h.TypeHierarchySubtypesRequest=h.TypeHierarchyPrepareRequest=void 0;var G=Ve(),zw=yu(),ht=bu(),X0=_b();Object.defineProperty(h,"ImplementationRequest",{enumerable:!0,get:r(function(){return X0.ImplementationRequest},"get")});var Y0=wb();Object.defineProperty(h,"TypeDefinitionRequest",{enumerable:!0,get:r(function(){return Y0.TypeDefinitionRequest},"get")});var eI=xb();Object.defineProperty(h,"WorkspaceFoldersRequest",{enumerable:!0,get:r(function(){return eI.WorkspaceFoldersRequest},"get")});Object.defineProperty(h,"DidChangeWorkspaceFoldersNotification",{enumerable:!0,get:r(function(){return eI.DidChangeWorkspaceFoldersNotification},"get")});var ek=Eb();Object.defineProperty(h,"ConfigurationRequest",{enumerable:!0,get:r(function(){return ek.ConfigurationRequest},"get")});var tI=kb();Object.defineProperty(h,"DocumentColorRequest",{enumerable:!0,get:r(function(){return tI.DocumentColorRequest},"get")});Object.defineProperty(h,"ColorPresentationRequest",{enumerable:!0,get:r(function(){return tI.ColorPresentationRequest},"get")});var nI=Cb();Object.defineProperty(h,"FoldingRangeRequest",{enumerable:!0,get:r(function(){return nI.FoldingRangeRequest},"get")});Object.defineProperty(h,"FoldingRangeRefreshRequest",{enumerable:!0,get:r(function(){return nI.FoldingRangeRefreshRequest},"get")});var tk=Fb();Object.defineProperty(h,"DeclarationRequest",{enumerable:!0,get:r(function(){return tk.DeclarationRequest},"get")});var nk=jb();Object.defineProperty(h,"SelectionRangeRequest",{enumerable:!0,get:r(function(){return nk.SelectionRangeRequest},"get")});var ap=Wb();Object.defineProperty(h,"WorkDoneProgress",{enumerable:!0,get:r(function(){return ap.WorkDoneProgress},"get")});Object.defineProperty(h,"WorkDoneProgressCreateRequest",{enumerable:!0,get:r(function(){return ap.WorkDoneProgressCreateRequest},"get")});Object.defineProperty(h,"WorkDoneProgressCancelNotification",{enumerable:!0,get:r(function(){return ap.WorkDoneProgressCancelNotification},"get")});var up=zb();Object.defineProperty(h,"CallHierarchyIncomingCallsRequest",{enumerable:!0,get:r(function(){return up.CallHierarchyIncomingCallsRequest},"get")});Object.defineProperty(h,"CallHierarchyOutgoingCallsRequest",{enumerable:!0,get:r(function(){return up.CallHierarchyOutgoingCallsRequest},"get")});Object.defineProperty(h,"CallHierarchyPrepareRequest",{enumerable:!0,get:r(function(){return up.CallHierarchyPrepareRequest},"get")});var yi=Xb();Object.defineProperty(h,"TokenFormat",{enumerable:!0,get:r(function(){return yi.TokenFormat},"get")});Object.defineProperty(h,"SemanticTokensRequest",{enumerable:!0,get:r(function(){return yi.SemanticTokensRequest},"get")});Object.defineProperty(h,"SemanticTokensDeltaRequest",{enumerable:!0,get:r(function(){return yi.SemanticTokensDeltaRequest},"get")});Object.defineProperty(h,"SemanticTokensRangeRequest",{enumerable:!0,get:r(function(){return yi.SemanticTokensRangeRequest},"get")});Object.defineProperty(h,"SemanticTokensRefreshRequest",{enumerable:!0,get:r(function(){return yi.SemanticTokensRefreshRequest},"get")});Object.defineProperty(h,"SemanticTokensRegistrationType",{enumerable:!0,get:r(function(){return yi.SemanticTokensRegistrationType},"get")});var rk=tw();Object.defineProperty(h,"ShowDocumentRequest",{enumerable:!0,get:r(function(){return rk.ShowDocumentRequest},"get")});var ok=ow();Object.defineProperty(h,"LinkedEditingRangeRequest",{enumerable:!0,get:r(function(){return ok.LinkedEditingRangeRequest},"get")});var mo=fw();Object.defineProperty(h,"FileOperationPatternKind",{enumerable:!0,get:r(function(){return mo.FileOperationPatternKind},"get")});Object.defineProperty(h,"DidCreateFilesNotification",{enumerable:!0,get:r(function(){return mo.DidCreateFilesNotification},"get")});Object.defineProperty(h,"WillCreateFilesRequest",{enumerable:!0,get:r(function(){return mo.WillCreateFilesRequest},"get")});Object.defineProperty(h,"DidRenameFilesNotification",{enumerable:!0,get:r(function(){return mo.DidRenameFilesNotification},"get")});Object.defineProperty(h,"WillRenameFilesRequest",{enumerable:!0,get:r(function(){return mo.WillRenameFilesRequest},"get")});Object.defineProperty(h,"DidDeleteFilesNotification",{enumerable:!0,get:r(function(){return mo.DidDeleteFilesNotification},"get")});Object.defineProperty(h,"WillDeleteFilesRequest",{enumerable:!0,get:r(function(){return mo.WillDeleteFilesRequest},"get")});var cp=_w();Object.defineProperty(h,"UniquenessLevel",{enumerable:!0,get:r(function(){return cp.UniquenessLevel},"get")});Object.defineProperty(h,"MonikerKind",{enumerable:!0,get:r(function(){return cp.MonikerKind},"get")});Object.defineProperty(h,"MonikerRequest",{enumerable:!0,get:r(function(){return cp.MonikerRequest},"get")});var lp=vw();Object.defineProperty(h,"TypeHierarchyPrepareRequest",{enumerable:!0,get:r(function(){return lp.TypeHierarchyPrepareRequest},"get")});Object.defineProperty(h,"TypeHierarchySubtypesRequest",{enumerable:!0,get:r(function(){return lp.TypeHierarchySubtypesRequest},"get")});Object.defineProperty(h,"TypeHierarchySupertypesRequest",{enumerable:!0,get:r(function(){return lp.TypeHierarchySupertypesRequest},"get")});var rI=Sw();Object.defineProperty(h,"InlineValueRequest",{enumerable:!0,get:r(function(){return rI.InlineValueRequest},"get")});Object.defineProperty(h,"InlineValueRefreshRequest",{enumerable:!0,get:r(function(){return rI.InlineValueRefreshRequest},"get")});var dp=Pw();Object.defineProperty(h,"InlayHintRequest",{enumerable:!0,get:r(function(){return dp.InlayHintRequest},"get")});Object.defineProperty(h,"InlayHintResolveRequest",{enumerable:!0,get:r(function(){return dp.InlayHintResolveRequest},"get")});Object.defineProperty(h,"InlayHintRefreshRequest",{enumerable:!0,get:r(function(){return dp.InlayHintRefreshRequest},"get")});var vs=Fw();Object.defineProperty(h,"DiagnosticServerCancellationData",{enumerable:!0,get:r(function(){return vs.DiagnosticServerCancellationData},"get")});Object.defineProperty(h,"DocumentDiagnosticReportKind",{enumerable:!0,get:r(function(){return vs.DocumentDiagnosticReportKind},"get")});Object.defineProperty(h,"DocumentDiagnosticRequest",{enumerable:!0,get:r(function(){return vs.DocumentDiagnosticRequest},"get")});Object.defineProperty(h,"WorkspaceDiagnosticRequest",{enumerable:!0,get:r(function(){return vs.WorkspaceDiagnosticRequest},"get")});Object.defineProperty(h,"DiagnosticRefreshRequest",{enumerable:!0,get:r(function(){return vs.DiagnosticRefreshRequest},"get")});var Vn=Ww();Object.defineProperty(h,"NotebookCellKind",{enumerable:!0,get:r(function(){return Vn.NotebookCellKind},"get")});Object.defineProperty(h,"ExecutionSummary",{enumerable:!0,get:r(function(){return Vn.ExecutionSummary},"get")});Object.defineProperty(h,"NotebookCell",{enumerable:!0,get:r(function(){return Vn.NotebookCell},"get")});Object.defineProperty(h,"NotebookDocument",{enumerable:!0,get:r(function(){return Vn.NotebookDocument},"get")});Object.defineProperty(h,"NotebookDocumentSyncRegistrationType",{enumerable:!0,get:r(function(){return Vn.NotebookDocumentSyncRegistrationType},"get")});Object.defineProperty(h,"DidOpenNotebookDocumentNotification",{enumerable:!0,get:r(function(){return Vn.DidOpenNotebookDocumentNotification},"get")});Object.defineProperty(h,"NotebookCellArrayChange",{enumerable:!0,get:r(function(){return Vn.NotebookCellArrayChange},"get")});Object.defineProperty(h,"DidChangeNotebookDocumentNotification",{enumerable:!0,get:r(function(){return Vn.DidChangeNotebookDocumentNotification},"get")});Object.defineProperty(h,"DidSaveNotebookDocumentNotification",{enumerable:!0,get:r(function(){return Vn.DidSaveNotebookDocumentNotification},"get")});Object.defineProperty(h,"DidCloseNotebookDocumentNotification",{enumerable:!0,get:r(function(){return Vn.DidCloseNotebookDocumentNotification},"get")});var ik=Vw();Object.defineProperty(h,"InlineCompletionRequest",{enumerable:!0,get:r(function(){return ik.InlineCompletionRequest},"get")});var rp;(function(e){function t(n){let o=n;return ht.string(o)||ht.string(o.language)||ht.string(o.scheme)||ht.string(o.pattern)}r(t,"is"),e.is=t})(rp||(h.TextDocumentFilter=rp={}));var op;(function(e){function t(n){let o=n;return ht.objectLiteral(o)&&(ht.string(o.notebookType)||ht.string(o.scheme)||ht.string(o.pattern))}r(t,"is"),e.is=t})(op||(h.NotebookDocumentFilter=op={}));var ip;(function(e){function t(n){let o=n;return ht.objectLiteral(o)&&(ht.string(o.notebook)||op.is(o.notebook))&&(o.language===void 0||ht.string(o.language))}r(t,"is"),e.is=t})(ip||(h.NotebookCellTextDocumentFilter=ip={}));var sp;(function(e){function t(n){if(!Array.isArray(n))return!1;for(let o of n)if(!ht.string(o)&&!rp.is(o)&&!ip.is(o))return!1;return!0}r(t,"is"),e.is=t})(sp||(h.DocumentSelector=sp={}));var Kw;(function(e){e.method="client/registerCapability",e.messageDirection=G.MessageDirection.serverToClient,e.type=new G.ProtocolRequestType(e.method)})(Kw||(h.RegistrationRequest=Kw={}));var Hw;(function(e){e.method="client/unregisterCapability",e.messageDirection=G.MessageDirection.serverToClient,e.type=new G.ProtocolRequestType(e.method)})(Hw||(h.UnregistrationRequest=Hw={}));var Zw;(function(e){e.Create="create",e.Rename="rename",e.Delete="delete"})(Zw||(h.ResourceOperationKind=Zw={}));var Qw;(function(e){e.Abort="abort",e.Transactional="transactional",e.TextOnlyTransactional="textOnlyTransactional",e.Undo="undo"})(Qw||(h.FailureHandlingKind=Qw={}));var Jw;(function(e){e.UTF8="utf-8",e.UTF16="utf-16",e.UTF32="utf-32"})(Jw||(h.PositionEncodingKind=Jw={}));var Xw;(function(e){function t(n){let o=n;return o&&ht.string(o.id)&&o.id.length>0}r(t,"hasId"),e.hasId=t})(Xw||(h.StaticRegistrationOptions=Xw={}));var Yw;(function(e){function t(n){let o=n;return o&&(o.documentSelector===null||sp.is(o.documentSelector))}r(t,"is"),e.is=t})(Yw||(h.TextDocumentRegistrationOptions=Yw={}));var ev;(function(e){function t(o){let i=o;return ht.objectLiteral(i)&&(i.workDoneProgress===void 0||ht.boolean(i.workDoneProgress))}r(t,"is"),e.is=t;function n(o){let i=o;return i&&ht.boolean(i.workDoneProgress)}r(n,"hasWorkDoneProgress"),e.hasWorkDoneProgress=n})(ev||(h.WorkDoneProgressOptions=ev={}));var tv;(function(e){e.method="initialize",e.messageDirection=G.MessageDirection.clientToServer,e.type=new G.ProtocolRequestType(e.method)})(tv||(h.InitializeRequest=tv={}));var nv;(function(e){e.unknownProtocolVersion=1})(nv||(h.InitializeErrorCodes=nv={}));var rv;(function(e){e.method="initialized",e.messageDirection=G.MessageDirection.clientToServer,e.type=new G.ProtocolNotificationType(e.method)})(rv||(h.InitializedNotification=rv={}));var ov;(function(e){e.method="shutdown",e.messageDirection=G.MessageDirection.clientToServer,e.type=new G.ProtocolRequestType0(e.method)})(ov||(h.ShutdownRequest=ov={}));var iv;(function(e){e.method="exit",e.messageDirection=G.MessageDirection.clientToServer,e.type=new G.ProtocolNotificationType0(e.method)})(iv||(h.ExitNotification=iv={}));var sv;(function(e){e.method="workspace/didChangeConfiguration",e.messageDirection=G.MessageDirection.clientToServer,e.type=new G.ProtocolNotificationType(e.method)})(sv||(h.DidChangeConfigurationNotification=sv={}));var av;(function(e){e.Error=1,e.Warning=2,e.Info=3,e.Log=4,e.Debug=5})(av||(h.MessageType=av={}));var uv;(function(e){e.method="window/showMessage",e.messageDirection=G.MessageDirection.serverToClient,e.type=new G.ProtocolNotificationType(e.method)})(uv||(h.ShowMessageNotification=uv={}));var cv;(function(e){e.method="window/showMessageRequest",e.messageDirection=G.MessageDirection.serverToClient,e.type=new G.ProtocolRequestType(e.method)})(cv||(h.ShowMessageRequest=cv={}));var lv;(function(e){e.method="window/logMessage",e.messageDirection=G.MessageDirection.serverToClient,e.type=new G.ProtocolNotificationType(e.method)})(lv||(h.LogMessageNotification=lv={}));var dv;(function(e){e.method="telemetry/event",e.messageDirection=G.MessageDirection.serverToClient,e.type=new G.ProtocolNotificationType(e.method)})(dv||(h.TelemetryEventNotification=dv={}));var fv;(function(e){e.None=0,e.Full=1,e.Incremental=2})(fv||(h.TextDocumentSyncKind=fv={}));var mv;(function(e){e.method="textDocument/didOpen",e.messageDirection=G.MessageDirection.clientToServer,e.type=new G.ProtocolNotificationType(e.method)})(mv||(h.DidOpenTextDocumentNotification=mv={}));var pv;(function(e){function t(o){let i=o;return i!=null&&typeof i.text=="string"&&i.range!==void 0&&(i.rangeLength===void 0||typeof i.rangeLength=="number")}r(t,"isIncremental"),e.isIncremental=t;function n(o){let i=o;return i!=null&&typeof i.text=="string"&&i.range===void 0&&i.rangeLength===void 0}r(n,"isFull"),e.isFull=n})(pv||(h.TextDocumentContentChangeEvent=pv={}));var gv;(function(e){e.method="textDocument/didChange",e.messageDirection=G.MessageDirection.clientToServer,e.type=new G.ProtocolNotificationType(e.method)})(gv||(h.DidChangeTextDocumentNotification=gv={}));var hv;(function(e){e.method="textDocument/didClose",e.messageDirection=G.MessageDirection.clientToServer,e.type=new G.ProtocolNotificationType(e.method)})(hv||(h.DidCloseTextDocumentNotification=hv={}));var _v;(function(e){e.method="textDocument/didSave",e.messageDirection=G.MessageDirection.clientToServer,e.type=new G.ProtocolNotificationType(e.method)})(_v||(h.DidSaveTextDocumentNotification=_v={}));var yv;(function(e){e.Manual=1,e.AfterDelay=2,e.FocusOut=3})(yv||(h.TextDocumentSaveReason=yv={}));var bv;(function(e){e.method="textDocument/willSave",e.messageDirection=G.MessageDirection.clientToServer,e.type=new G.ProtocolNotificationType(e.method)})(bv||(h.WillSaveTextDocumentNotification=bv={}));var wv;(function(e){e.method="textDocument/willSaveWaitUntil",e.messageDirection=G.MessageDirection.clientToServer,e.type=new G.ProtocolRequestType(e.method)})(wv||(h.WillSaveTextDocumentWaitUntilRequest=wv={}));var vv;(function(e){e.method="workspace/didChangeWatchedFiles",e.messageDirection=G.MessageDirection.clientToServer,e.type=new G.ProtocolNotificationType(e.method)})(vv||(h.DidChangeWatchedFilesNotification=vv={}));var Iv;(function(e){e.Created=1,e.Changed=2,e.Deleted=3})(Iv||(h.FileChangeType=Iv={}));var xv;(function(e){function t(n){let o=n;return ht.objectLiteral(o)&&(zw.URI.is(o.baseUri)||zw.WorkspaceFolder.is(o.baseUri))&&ht.string(o.pattern)}r(t,"is"),e.is=t})(xv||(h.RelativePattern=xv={}));var Sv;(function(e){e.Create=1,e.Change=2,e.Delete=4})(Sv||(h.WatchKind=Sv={}));var Tv;(function(e){e.method="textDocument/publishDiagnostics",e.messageDirection=G.MessageDirection.serverToClient,e.type=new G.ProtocolNotificationType(e.method)})(Tv||(h.PublishDiagnosticsNotification=Tv={}));var Ev;(function(e){e.Invoked=1,e.TriggerCharacter=2,e.TriggerForIncompleteCompletions=3})(Ev||(h.CompletionTriggerKind=Ev={}));var Rv;(function(e){e.method="textDocument/completion",e.messageDirection=G.MessageDirection.clientToServer,e.type=new G.ProtocolRequestType(e.method)})(Rv||(h.CompletionRequest=Rv={}));var Pv;(function(e){e.method="completionItem/resolve",e.messageDirection=G.MessageDirection.clientToServer,e.type=new G.ProtocolRequestType(e.method)})(Pv||(h.CompletionResolveRequest=Pv={}));var kv;(function(e){e.method="textDocument/hover",e.messageDirection=G.MessageDirection.clientToServer,e.type=new G.ProtocolRequestType(e.method)})(kv||(h.HoverRequest=kv={}));var Mv;(function(e){e.Invoked=1,e.TriggerCharacter=2,e.ContentChange=3})(Mv||(h.SignatureHelpTriggerKind=Mv={}));var Nv;(function(e){e.method="textDocument/signatureHelp",e.messageDirection=G.MessageDirection.clientToServer,e.type=new G.ProtocolRequestType(e.method)})(Nv||(h.SignatureHelpRequest=Nv={}));var Cv;(function(e){e.method="textDocument/definition",e.messageDirection=G.MessageDirection.clientToServer,e.type=new G.ProtocolRequestType(e.method)})(Cv||(h.DefinitionRequest=Cv={}));var Lv;(function(e){e.method="textDocument/references",e.messageDirection=G.MessageDirection.clientToServer,e.type=new G.ProtocolRequestType(e.method)})(Lv||(h.ReferencesRequest=Lv={}));var Ov;(function(e){e.method="textDocument/documentHighlight",e.messageDirection=G.MessageDirection.clientToServer,e.type=new G.ProtocolRequestType(e.method)})(Ov||(h.DocumentHighlightRequest=Ov={}));var Fv;(function(e){e.method="textDocument/documentSymbol",e.messageDirection=G.MessageDirection.clientToServer,e.type=new G.ProtocolRequestType(e.method)})(Fv||(h.DocumentSymbolRequest=Fv={}));var Av;(function(e){e.method="textDocument/codeAction",e.messageDirection=G.MessageDirection.clientToServer,e.type=new G.ProtocolRequestType(e.method)})(Av||(h.CodeActionRequest=Av={}));var Dv;(function(e){e.method="codeAction/resolve",e.messageDirection=G.MessageDirection.clientToServer,e.type=new G.ProtocolRequestType(e.method)})(Dv||(h.CodeActionResolveRequest=Dv={}));var jv;(function(e){e.method="workspace/symbol",e.messageDirection=G.MessageDirection.clientToServer,e.type=new G.ProtocolRequestType(e.method)})(jv||(h.WorkspaceSymbolRequest=jv={}));var Uv;(function(e){e.method="workspaceSymbol/resolve",e.messageDirection=G.MessageDirection.clientToServer,e.type=new G.ProtocolRequestType(e.method)})(Uv||(h.WorkspaceSymbolResolveRequest=Uv={}));var qv;(function(e){e.method="textDocument/codeLens",e.messageDirection=G.MessageDirection.clientToServer,e.type=new G.ProtocolRequestType(e.method)})(qv||(h.CodeLensRequest=qv={}));var Bv;(function(e){e.method="codeLens/resolve",e.messageDirection=G.MessageDirection.clientToServer,e.type=new G.ProtocolRequestType(e.method)})(Bv||(h.CodeLensResolveRequest=Bv={}));var Wv;(function(e){e.method="workspace/codeLens/refresh",e.messageDirection=G.MessageDirection.serverToClient,e.type=new G.ProtocolRequestType0(e.method)})(Wv||(h.CodeLensRefreshRequest=Wv={}));var $v;(function(e){e.method="textDocument/documentLink",e.messageDirection=G.MessageDirection.clientToServer,e.type=new G.ProtocolRequestType(e.method)})($v||(h.DocumentLinkRequest=$v={}));var Gv;(function(e){e.method="documentLink/resolve",e.messageDirection=G.MessageDirection.clientToServer,e.type=new G.ProtocolRequestType(e.method)})(Gv||(h.DocumentLinkResolveRequest=Gv={}));var Vv;(function(e){e.method="textDocument/formatting",e.messageDirection=G.MessageDirection.clientToServer,e.type=new G.ProtocolRequestType(e.method)})(Vv||(h.DocumentFormattingRequest=Vv={}));var zv;(function(e){e.method="textDocument/rangeFormatting",e.messageDirection=G.MessageDirection.clientToServer,e.type=new G.ProtocolRequestType(e.method)})(zv||(h.DocumentRangeFormattingRequest=zv={}));var Kv;(function(e){e.method="textDocument/rangesFormatting",e.messageDirection=G.MessageDirection.clientToServer,e.type=new G.ProtocolRequestType(e.method)})(Kv||(h.DocumentRangesFormattingRequest=Kv={}));var Hv;(function(e){e.method="textDocument/onTypeFormatting",e.messageDirection=G.MessageDirection.clientToServer,e.type=new G.ProtocolRequestType(e.method)})(Hv||(h.DocumentOnTypeFormattingRequest=Hv={}));var Zv;(function(e){e.Identifier=1})(Zv||(h.PrepareSupportDefaultBehavior=Zv={}));var Qv;(function(e){e.method="textDocument/rename",e.messageDirection=G.MessageDirection.clientToServer,e.type=new G.ProtocolRequestType(e.method)})(Qv||(h.RenameRequest=Qv={}));var Jv;(function(e){e.method="textDocument/prepareRename",e.messageDirection=G.MessageDirection.clientToServer,e.type=new G.ProtocolRequestType(e.method)})(Jv||(h.PrepareRenameRequest=Jv={}));var Xv;(function(e){e.method="workspace/executeCommand",e.messageDirection=G.MessageDirection.clientToServer,e.type=new G.ProtocolRequestType(e.method)})(Xv||(h.ExecuteCommandRequest=Xv={}));var Yv;(function(e){e.method="workspace/applyEdit",e.messageDirection=G.MessageDirection.serverToClient,e.type=new G.ProtocolRequestType("workspace/applyEdit")})(Yv||(h.ApplyWorkspaceEditRequest=Yv={}))});var sI=X(Ou=>{"use strict";Object.defineProperty(Ou,"__esModule",{value:!0});Ou.createProtocolConnection=void 0;var iI=fo();function sk(e,t,n,o){return iI.ConnectionStrategy.is(o)&&(o={connectionStrategy:o}),(0,iI.createMessageConnection)(e,t,n,o)}r(sk,"createProtocolConnection");Ou.createProtocolConnection=sk});var uI=X(Bt=>{"use strict";var ak=Bt&&Bt.__createBinding||(Object.create?function(e,t,n,o){o===void 0&&(o=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:r(function(){return t[n]},"get")}),Object.defineProperty(e,o,i)}:function(e,t,n,o){o===void 0&&(o=n),e[o]=t[n]}),Fu=Bt&&Bt.__exportStar||function(e,t){for(var n in e)n!=="default"&&!Object.prototype.hasOwnProperty.call(t,n)&&ak(t,e,n)};Object.defineProperty(Bt,"__esModule",{value:!0});Bt.LSPErrorCodes=Bt.createProtocolConnection=void 0;Fu(fo(),Bt);Fu(yu(),Bt);Fu(Ve(),Bt);Fu(oI(),Bt);var uk=sI();Object.defineProperty(Bt,"createProtocolConnection",{enumerable:!0,get:r(function(){return uk.createProtocolConnection},"get")});var aI;(function(e){e.lspReservedErrorRangeStart=-32899,e.RequestFailed=-32803,e.ServerCancelled=-32802,e.ContentModified=-32801,e.RequestCancelled=-32800,e.lspReservedErrorRangeEnd=-32800})(aI||(Bt.LSPErrorCodes=aI={}))});var lI=X(zn=>{"use strict";var ck=zn&&zn.__createBinding||(Object.create?function(e,t,n,o){o===void 0&&(o=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:r(function(){return t[n]},"get")}),Object.defineProperty(e,o,i)}:function(e,t,n,o){o===void 0&&(o=n),e[o]=t[n]}),cI=zn&&zn.__exportStar||function(e,t){for(var n in e)n!=="default"&&!Object.prototype.hasOwnProperty.call(t,n)&&ck(t,e,n)};Object.defineProperty(zn,"__esModule",{value:!0});zn.createProtocolConnection=void 0;var lk=Gm();cI(Gm(),zn);cI(uI(),zn);function dk(e,t,n,o){return(0,lk.createMessageConnection)(e,t,n,o)}r(dk,"createProtocolConnection");zn.createProtocolConnection=dk});var jr={abap:{extensions:[".abap"]},aspdotnet:{extensions:[".asax",".ascx",".ashx",".asmx",".aspx",".axd"]},bat:{extensions:[".bat",".cmd"]},bibtex:{extensions:[".bib",".bibtex"]},blade:{extensions:[".blade",".blade.php"]},BluespecSystemVerilog:{extensions:[".bsv"]},c:{extensions:[".c",".cats",".h",".idc"]},csharp:{extensions:[".cake",".cs",".cs.pp",".csx",".linq"]},cpp:{extensions:[".c++",".cc",".cp",".cpp",".cppm",".cxx",".h",".h++",".hh",".hpp",".hxx",".idl",".inc",".inl",".ino",".ipp",".ixx",".rc",".re",".tcc",".tpp",".txx",".i"]},cobol:{extensions:[".cbl",".ccp",".cob",".cobol",".cpy"]},css:{extensions:[".css",".wxss"]},clojure:{extensions:[".bb",".boot",".cl2",".clj",".cljc",".cljs",".cljs.hl",".cljscm",".cljx",".edn",".hic"],filenames:["riemann.config"]},ql:{extensions:[".ql",".qll"]},coffeescript:{extensions:["._coffee",".cake",".cjsx",".coffee",".iced"],filenames:["Cakefile"]},cuda:{extensions:[".cu",".cuh"]},dart:{extensions:[".dart"]},dockerfile:{extensions:[".dockerfile"],filenames:["Containerfile","Dockerfile"]},dotenv:{extensions:[".env"],filenames:[".env",".env.ci",".env.dev",".env.development",".env.development.local",".env.example",".env.local",".env.prod",".env.production",".env.sample",".env.staging",".env.test",".env.testing"]},html:{extensions:[".ect",".ejs",".ejs.t",".jst",".hta",".htm",".html",".html.hl",".html5",".inc",".jsp",".njk",".tpl",".twig",".wxml",".xht",".xhtml",".phtml",".liquid"]},elixir:{extensions:[".ex",".exs"],filenames:["mix.lock"]},erlang:{extensions:[".app",".app.src",".erl",".es",".escript",".hrl",".xrl",".yrl"],filenames:["Emakefile","rebar.config","rebar.config.lock","rebar.lock"]},fsharp:{extensions:[".fs",".fsi",".fsx"]},go:{extensions:[".go"]},groovy:{extensions:[".gradle",".groovy",".grt",".gtpl",".gvy",".jenkinsfile"],filenames:["Jenkinsfile","Jenkinsfile"]},graphql:{extensions:[".gql",".graphql",".graphqls"]},terraform:{extensions:[".hcl",".nomad",".tf",".tfvars",".workflow"]},hlsl:{extensions:[".cginc",".fx",".fxh",".hlsl",".hlsli"]},erb:{extensions:[".erb",".erb.deface",".rhtml"]},razor:{extensions:[".cshtml",".razor"]},haml:{extensions:[".haml",".haml.deface"]},handlebars:{extensions:[".handlebars",".hbs"]},haskell:{extensions:[".hs",".hs-boot",".hsc"]},ini:{extensions:[".cfg",".cnf",".dof",".ini",".lektorproject",".prefs",".pro",".properties",".url"],filenames:[".coveragerc",".flake8",".pylintrc","HOSTS","buildozer.spec","hosts","pylintrc","vlcrc"]},json:{extensions:[".4DForm",".4DProject",".JSON-tmLanguage",".avsc",".geojson",".gltf",".har",".ice",".json",".jsonl",".mcmeta",".sarif",".tfstate",".tfstate.backup",".topojson",".webapp",".webmanifest",".yy",".yyp"],filenames:[".all-contributorsrc",".arcconfig",".auto-changelog",".c8rc",".htmlhintrc",".imgbotconfig",".nycrc",".tern-config",".tern-project",".watchmanconfig","MODULE.bazel.lock","Pipfile.lock","composer.lock","deno.lock","flake.lock","mcmod.info"]},jsonc:{extensions:[".code-snippets",".code-workspace",".jsonc",".sublime-build",".sublime-color-scheme",".sublime-commands",".sublime-completions",".sublime-keymap",".sublime-macro",".sublime-menu",".sublime-mousemap",".sublime-project",".sublime-settings",".sublime-theme",".sublime-workspace",".sublime_metrics",".sublime_session"],filenames:[".babelrc",".devcontainer.json",".eslintrc.json",".jscsrc",".jshintrc",".jslintrc",".swcrc","api-extractor.json","argv.json","devcontainer.json","extensions.json","jsconfig.json","keybindings.json","language-configuration.json","launch.json","profiles.json","settings.json","tasks.json","tsconfig.json","tslint.json"]},java:{extensions:[".jav",".java",".jsh"]},javascript:{extensions:["._js",".bones",".cjs",".es",".es6",".frag",".gs",".jake",".javascript",".js",".jsb",".jscad",".jsfl",".jslib",".jsm",".jspre",".jss",".mjs",".njs",".pac",".sjs",".ssjs",".xsjs",".xsjslib"],filenames:["Jakefile"]},julia:{extensions:[".jl"]},python:{extensions:[".ipynb",".cgi",".codon",".fcgi",".gyp",".gypi",".lmi",".py",".py3",".pyde",".pyi",".pyp",".pyt",".pyw",".rpy",".sage",".spec",".tac",".wsgi",".xpy"],filenames:["Notebook",".gclient","DEPS","SConscript","SConstruct","wscript"]},kotlin:{extensions:[".kt",".ktm",".kts"]},less:{extensions:[".less"]},lua:{extensions:[".fcgi",".lua",".luau",".nse",".p8",".pd_lua",".rbxs",".rockspec",".wlua"],filenames:[".luacheckrc"]},makefile:{extensions:[".d",".mak",".make",".makefile",".mk",".mkfile"],filenames:["BSDmakefile","GNUmakefile","Kbuild","Makefile","Makefile.am","Makefile.boot","Makefile.frag","Makefile.in","Makefile.inc","Makefile.wat","makefile","makefile.sco","mkfile"]},markdown:{extensions:[".livemd",".markdown",".md",".mdown",".mdwn",".mdx",".mkd",".mkdn",".mkdown",".ronn",".scd",".workbook"],filenames:["contents.lr"]},"objective-c":{extensions:[".h",".m"]},"objective-cpp":{extensions:[".mm"]},php:{extensions:[".aw",".ctp",".fcgi",".inc",".install",".module",".php",".php3",".php4",".php5",".phps",".phpt",".theme"],filenames:[".php",".php_cs",".php_cs.dist","Phakefile"]},perl:{extensions:[".al",".cgi",".fcgi",".perl",".ph",".pl",".plx",".pm",".psgi",".t"],filenames:[".latexmkrc","Makefile.PL","Rexfile","ack","cpanfile","latexmkrc"]},powershell:{extensions:[".ps1",".psd1",".psm1"]},pug:{extensions:[".jade",".pug"]},r:{extensions:[".r",".rd",".rsx"],filenames:[".Rprofile","expr-dist"]},ruby:{extensions:[".builder",".eye",".fcgi",".gemspec",".god",".jbuilder",".mspec",".pluginspec",".podspec",".prawn",".rabl",".rake",".rb",".rbi",".rbuild",".rbw",".rbx",".ru",".ruby",".spec",".thor",".watchr"],filenames:[".irbrc",".pryrc",".simplecov","Appraisals","Berksfile","Brewfile","Buildfile","Capfile","Dangerfile","Deliverfile","Fastfile","Gemfile","Guardfile","Jarfile","Mavenfile","Podfile","Puppetfile","Rakefile","Snapfile","Steepfile","Thorfile","Vagrantfile","buildfile"]},rust:{extensions:[".rs",".rs.in"]},scss:{extensions:[".scss"]},sql:{extensions:[".cql",".ddl",".inc",".mysql",".prc",".sql",".tab",".udf",".viw"]},sass:{extensions:[".sass"]},scala:{extensions:[".kojo",".sbt",".sc",".scala"]},shellscript:{extensions:[".bash",".bats",".cgi",".command",".fcgi",".fish",".ksh",".sh",".sh.in",".tmux",".tool",".trigger",".zsh",".zsh-theme"],filenames:[".bash_aliases",".bash_functions",".bash_history",".bash_logout",".bash_profile",".bashrc",".cshrc",".envrc",".flaskenv",".kshrc",".login",".profile",".tmux.conf",".zlogin",".zlogout",".zprofile",".zshenv",".zshrc","9fs","PKGBUILD","bash_aliases","bash_logout","bash_profile","bashrc","cshrc","gradlew","kshrc","login","man","profile","tmux.conf","zlogin","zlogout","zprofile","zshenv","zshrc"]},slim:{extensions:[".slim"]},solidity:{extensions:[".sol"]},stylus:{extensions:[".styl"]},svelte:{extensions:[".svelte"]},swift:{extensions:[".swift"]},systemverilog:{extensions:[".sv",".svh",".vh"]},typescriptreact:{extensions:[".tsx"]},latex:{extensions:[".aux",".bbx",".cbx",".cls",".dtx",".ins",".lbx",".ltx",".mkii",".mkiv",".mkvi",".sty",".tex",".toc"]},typescript:{extensions:[".cts",".mts",".ts"]},verilog:{extensions:[".v",".veo"]},vim:{extensions:[".vba",".vim",".vimrc",".vmb"],filenames:[".exrc",".gvimrc",".nvimrc",".vimrc","_vimrc","gvimrc","nvimrc","vimrc"]},vb:{extensions:[".vb",".vbhtml",".Dsr",".bas",".cls",".ctl",".frm",".vbs"]},vue:{extensions:[".nvue",".vue"]},xml:{extensions:[".adml",".admx",".ant",".axaml",".axml",".builds",".ccproj",".ccxml",".clixml",".cproject",".cscfg",".csdef",".csl",".csproj",".ct",".depproj",".dita",".ditamap",".ditaval",".dll.config",".dotsettings",".filters",".fsproj",".fxml",".glade",".gml",".gmx",".grxml",".gst",".hzp",".iml",".ivy",".jelly",".jsproj",".kml",".launch",".mdpolicy",".mjml",".mod",".mojo",".mxml",".natvis",".ncl",".ndproj",".nproj",".nuspec",".odd",".osm",".pkgproj",".plist",".pluginspec",".proj",".props",".ps1xml",".psc1",".pt",".pubxml",".qhelp",".rdf",".res",".resx",".rss",".sch",".scxml",".sfproj",".shproj",".srdf",".storyboard",".sublime-snippet",".svg",".sw",".targets",".tml",".typ",".ui",".urdf",".ux",".vbproj",".vcxproj",".vsixmanifest",".vssettings",".vstemplate",".vxml",".wixproj",".workflow",".wsdl",".wsf",".wxi",".wxl",".wxs",".x3d",".xacro",".xaml",".xib",".xlf",".xliff",".xmi",".xml",".xml.dist",".xmp",".xproj",".xsd",".xspec",".xul",".zcml"],filenames:[".classpath",".cproject",".project","App.config","NuGet.config","Settings.StyleCop","Web.Debug.config","Web.Release.config","Web.config","packages.config"]},xsl:{extensions:[".xsl",".xslt"]},yaml:{extensions:[".mir",".reek",".rviz",".sublime-syntax",".syntax",".yaml",".yaml-tmlanguage",".yaml.sed",".yml",".yml.mysql"],filenames:[".clang-format",".clang-tidy",".gemrc","CITATION.cff","glide.lock","yarn.lock"]},javascriptreact:{extensions:[".jsx"]},legend:{extensions:[".pure"]},slang:{extensions:[".fxc",".hlsl",".s",".slang",".slangh",".usf",".ush",".vfx"]}};var bp=[".ejs",".erb",".haml",".hbs",".j2",".jinja",".jinja2",".liquid",".mustache",".njk",".php",".pug",".slim",".webc"],wp={".php":[".blade"]},vp=Object.keys(jr).flatMap(e=>jr[e].extensions);var Uu=require("os"),qu=require("path");var Ip;(()=>{"use strict";var e={975:W=>{function M(k){if(typeof k!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(k))}r(M,"e");function q(k,O){for(var D,z="",J=0,H=-1,se=0,le=0;le<=k.length;++le){if(le<k.length)D=k.charCodeAt(le);else{if(D===47)break;D=47}if(D===47){if(!(H===le-1||se===1))if(H!==le-1&&se===2){if(z.length<2||J!==2||z.charCodeAt(z.length-1)!==46||z.charCodeAt(z.length-2)!==46){if(z.length>2){var Ze=z.lastIndexOf("/");if(Ze!==z.length-1){Ze===-1?(z="",J=0):J=(z=z.slice(0,Ze)).length-1-z.lastIndexOf("/"),H=le,se=0;continue}}else if(z.length===2||z.length===1){z="",J=0,H=le,se=0;continue}}O&&(z.length>0?z+="/..":z="..",J=2)}else z.length>0?z+="/"+k.slice(H+1,le):z=k.slice(H+1,le),J=le-H-1;H=le,se=0}else D===46&&se!==-1?++se:se=-1}return z}r(q,"r");var Z={resolve:r(function(){for(var k,O="",D=!1,z=arguments.length-1;z>=-1&&!D;z--){var J;z>=0?J=arguments[z]:(k===void 0&&(k=process.cwd()),J=k),M(J),J.length!==0&&(O=J+"/"+O,D=J.charCodeAt(0)===47)}return O=q(O,!D),D?O.length>0?"/"+O:"/":O.length>0?O:"."},"resolve"),normalize:r(function(k){if(M(k),k.length===0)return".";var O=k.charCodeAt(0)===47,D=k.charCodeAt(k.length-1)===47;return(k=q(k,!O)).length!==0||O||(k="."),k.length>0&&D&&(k+="/"),O?"/"+k:k},"normalize"),isAbsolute:r(function(k){return M(k),k.length>0&&k.charCodeAt(0)===47},"isAbsolute"),join:r(function(){if(arguments.length===0)return".";for(var k,O=0;O<arguments.length;++O){var D=arguments[O];M(D),D.length>0&&(k===void 0?k=D:k+="/"+D)}return k===void 0?".":Z.normalize(k)},"join"),relative:r(function(k,O){if(M(k),M(O),k===O||(k=Z.resolve(k))===(O=Z.resolve(O)))return"";for(var D=1;D<k.length&&k.charCodeAt(D)===47;++D);for(var z=k.length,J=z-D,H=1;H<O.length&&O.charCodeAt(H)===47;++H);for(var se=O.length-H,le=J<se?J:se,Ze=-1,xe=0;xe<=le;++xe){if(xe===le){if(se>le){if(O.charCodeAt(H+xe)===47)return O.slice(H+xe+1);if(xe===0)return O.slice(H+xe)}else J>le&&(k.charCodeAt(D+xe)===47?Ze=xe:xe===0&&(Ze=0));break}var Wt=k.charCodeAt(D+xe);if(Wt!==O.charCodeAt(H+xe))break;Wt===47&&(Ze=xe)}var On="";for(xe=D+Ze+1;xe<=z;++xe)xe!==z&&k.charCodeAt(xe)!==47||(On.length===0?On+="..":On+="/..");return On.length>0?On+O.slice(H+Ze):(H+=Ze,O.charCodeAt(H)===47&&++H,O.slice(H))},"relative"),_makeLong:r(function(k){return k},"_makeLong"),dirname:r(function(k){if(M(k),k.length===0)return".";for(var O=k.charCodeAt(0),D=O===47,z=-1,J=!0,H=k.length-1;H>=1;--H)if((O=k.charCodeAt(H))===47){if(!J){z=H;break}}else J=!1;return z===-1?D?"/":".":D&&z===1?"//":k.slice(0,z)},"dirname"),basename:r(function(k,O){if(O!==void 0&&typeof O!="string")throw new TypeError('"ext" argument must be a string');M(k);var D,z=0,J=-1,H=!0;if(O!==void 0&&O.length>0&&O.length<=k.length){if(O.length===k.length&&O===k)return"";var se=O.length-1,le=-1;for(D=k.length-1;D>=0;--D){var Ze=k.charCodeAt(D);if(Ze===47){if(!H){z=D+1;break}}else le===-1&&(H=!1,le=D+1),se>=0&&(Ze===O.charCodeAt(se)?--se==-1&&(J=D):(se=-1,J=le))}return z===J?J=le:J===-1&&(J=k.length),k.slice(z,J)}for(D=k.length-1;D>=0;--D)if(k.charCodeAt(D)===47){if(!H){z=D+1;break}}else J===-1&&(H=!1,J=D+1);return J===-1?"":k.slice(z,J)},"basename"),extname:r(function(k){M(k);for(var O=-1,D=0,z=-1,J=!0,H=0,se=k.length-1;se>=0;--se){var le=k.charCodeAt(se);if(le!==47)z===-1&&(J=!1,z=se+1),le===46?O===-1?O=se:H!==1&&(H=1):O!==-1&&(H=-1);else if(!J){D=se+1;break}}return O===-1||z===-1||H===0||H===1&&O===z-1&&O===D+1?"":k.slice(O,z)},"extname"),format:r(function(k){if(k===null||typeof k!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof k);return function(O,D){var z=D.dir||D.root,J=D.base||(D.name||"")+(D.ext||"");return z?z===D.root?z+J:z+"/"+J:J}(0,k)},"format"),parse:r(function(k){M(k);var O={root:"",dir:"",base:"",ext:"",name:""};if(k.length===0)return O;var D,z=k.charCodeAt(0),J=z===47;J?(O.root="/",D=1):D=0;for(var H=-1,se=0,le=-1,Ze=!0,xe=k.length-1,Wt=0;xe>=D;--xe)if((z=k.charCodeAt(xe))!==47)le===-1&&(Ze=!1,le=xe+1),z===46?H===-1?H=xe:Wt!==1&&(Wt=1):H!==-1&&(Wt=-1);else if(!Ze){se=xe+1;break}return H===-1||le===-1||Wt===0||Wt===1&&H===le-1&&H===se+1?le!==-1&&(O.base=O.name=se===0&&J?k.slice(1,le):k.slice(se,le)):(se===0&&J?(O.name=k.slice(1,H),O.base=k.slice(1,le)):(O.name=k.slice(se,H),O.base=k.slice(se,le)),O.ext=k.slice(H,le)),se>0?O.dir=k.slice(0,se-1):J&&(O.dir="/"),O},"parse"),sep:"/",delimiter:":",win32:null,posix:null};Z.posix=Z,W.exports=Z}},t={};function n(W){var M=t[W];if(M!==void 0)return M.exports;var q=t[W]={exports:{}};return e[W](q,q.exports,n),q.exports}r(n,"r"),n.d=(W,M)=>{for(var q in M)n.o(M,q)&&!n.o(W,q)&&Object.defineProperty(W,q,{enumerable:!0,get:M[q]})},n.o=(W,M)=>Object.prototype.hasOwnProperty.call(W,M),n.r=W=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(W,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(W,"__esModule",{value:!0})};var o={};let i;n.r(o),n.d(o,{URI:r(()=>_,"URI"),Utils:r(()=>ot,"Utils")}),typeof process=="object"?i=process.platform==="win32":typeof navigator=="object"&&(i=navigator.userAgent.indexOf("Windows")>=0);let u=/^\w[\w\d+.-]*$/,s=/^\//,a=/^\/\//;function c(W,M){if(!W.scheme&&M)throw new Error(`[UriError]: Scheme is missing: {scheme: "", authority: "${W.authority}", path: "${W.path}", query: "${W.query}", fragment: "${W.fragment}"}`);if(W.scheme&&!u.test(W.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(W.path){if(W.authority){if(!s.test(W.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(a.test(W.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}}r(c,"a");let l="",m="/",g=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/,mt=class mt{constructor(M,q,Z,k,O,D=!1){lr(this,"scheme");lr(this,"authority");lr(this,"path");lr(this,"query");lr(this,"fragment");typeof M=="object"?(this.scheme=M.scheme||l,this.authority=M.authority||l,this.path=M.path||l,this.query=M.query||l,this.fragment=M.fragment||l):(this.scheme=function(z,J){return z||J?z:"file"}(M,D),this.authority=q||l,this.path=function(z,J){switch(z){case"https":case"http":case"file":J?J[0]!==m&&(J=m+J):J=m}return J}(this.scheme,Z||l),this.query=k||l,this.fragment=O||l,c(this,D))}static isUri(M){return M instanceof mt||!!M&&typeof M.authority=="string"&&typeof M.fragment=="string"&&typeof M.path=="string"&&typeof M.query=="string"&&typeof M.scheme=="string"&&typeof M.fsPath=="string"&&typeof M.with=="function"&&typeof M.toString=="function"}get fsPath(){return Q(this,!1)}with(M){if(!M)return this;let{scheme:q,authority:Z,path:k,query:O,fragment:D}=M;return q===void 0?q=this.scheme:q===null&&(q=l),Z===void 0?Z=this.authority:Z===null&&(Z=l),k===void 0?k=this.path:k===null&&(k=l),O===void 0?O=this.query:O===null&&(O=l),D===void 0?D=this.fragment:D===null&&(D=l),q===this.scheme&&Z===this.authority&&k===this.path&&O===this.query&&D===this.fragment?this:new T(q,Z,k,O,D)}static parse(M,q=!1){let Z=g.exec(M);return Z?new T(Z[2]||l,re(Z[4]||l),re(Z[5]||l),re(Z[7]||l),re(Z[9]||l),q):new T(l,l,l,l,l)}static file(M){let q=l;if(i&&(M=M.replace(/\\/g,m)),M[0]===m&&M[1]===m){let Z=M.indexOf(m,2);Z===-1?(q=M.substring(2),M=m):(q=M.substring(2,Z),M=M.substring(Z)||m)}return new T("file",q,M,l,l)}static from(M){let q=new T(M.scheme,M.authority,M.path,M.query,M.fragment);return c(q,!0),q}toString(M=!1){return $(this,M)}toJSON(){return this}static revive(M){if(M){if(M instanceof mt)return M;{let q=new T(M);return q._formatted=M.external,q._fsPath=M._sep===v?M.fsPath:null,q}}return M}};r(mt,"l");let _=mt,v=i?1:void 0,Be=class Be extends _{constructor(){super(...arguments);lr(this,"_formatted",null);lr(this,"_fsPath",null)}get fsPath(){return this._fsPath||(this._fsPath=Q(this,!1)),this._fsPath}toString(q=!1){return q?$(this,!0):(this._formatted||(this._formatted=$(this,!1)),this._formatted)}toJSON(){let q={$mid:1};return this._fsPath&&(q.fsPath=this._fsPath,q._sep=v),this._formatted&&(q.external=this._formatted),this.path&&(q.path=this.path),this.scheme&&(q.scheme=this.scheme),this.authority&&(q.authority=this.authority),this.query&&(q.query=this.query),this.fragment&&(q.fragment=this.fragment),q}};r(Be,"d");let T=Be,P={58:"%3A",47:"%2F",63:"%3F",35:"%23",91:"%5B",93:"%5D",64:"%40",33:"%21",36:"%24",38:"%26",39:"%27",40:"%28",41:"%29",42:"%2A",43:"%2B",44:"%2C",59:"%3B",61:"%3D",32:"%20"};function j(W,M,q){let Z,k=-1;for(let O=0;O<W.length;O++){let D=W.charCodeAt(O);if(D>=97&&D<=122||D>=65&&D<=90||D>=48&&D<=57||D===45||D===46||D===95||D===126||M&&D===47||q&&D===91||q&&D===93||q&&D===58)k!==-1&&(Z+=encodeURIComponent(W.substring(k,O)),k=-1),Z!==void 0&&(Z+=W.charAt(O));else{Z===void 0&&(Z=W.substr(0,O));let z=P[D];z!==void 0?(k!==-1&&(Z+=encodeURIComponent(W.substring(k,O)),k=-1),Z+=z):k===-1&&(k=O)}}return k!==-1&&(Z+=encodeURIComponent(W.substring(k))),Z!==void 0?Z:W}r(j,"m");function L(W){let M;for(let q=0;q<W.length;q++){let Z=W.charCodeAt(q);Z===35||Z===63?(M===void 0&&(M=W.substr(0,q)),M+=P[Z]):M!==void 0&&(M+=W[q])}return M!==void 0?M:W}r(L,"y");function Q(W,M){let q;return q=W.authority&&W.path.length>1&&W.scheme==="file"?`//${W.authority}${W.path}`:W.path.charCodeAt(0)===47&&(W.path.charCodeAt(1)>=65&&W.path.charCodeAt(1)<=90||W.path.charCodeAt(1)>=97&&W.path.charCodeAt(1)<=122)&&W.path.charCodeAt(2)===58?M?W.path.substr(1):W.path[1].toLowerCase()+W.path.substr(2):W.path,i&&(q=q.replace(/\//g,"\\")),q}r(Q,"v");function $(W,M){let q=M?L:j,Z="",{scheme:k,authority:O,path:D,query:z,fragment:J}=W;if(k&&(Z+=k,Z+=":"),(O||k==="file")&&(Z+=m,Z+=m),O){let H=O.indexOf("@");if(H!==-1){let se=O.substr(0,H);O=O.substr(H+1),H=se.lastIndexOf(":"),H===-1?Z+=q(se,!1,!1):(Z+=q(se.substr(0,H),!1,!1),Z+=":",Z+=q(se.substr(H+1),!1,!0)),Z+="@"}O=O.toLowerCase(),H=O.lastIndexOf(":"),H===-1?Z+=q(O,!1,!0):(Z+=q(O.substr(0,H),!1,!0),Z+=O.substr(H))}if(D){if(D.length>=3&&D.charCodeAt(0)===47&&D.charCodeAt(2)===58){let H=D.charCodeAt(1);H>=65&&H<=90&&(D=`/${String.fromCharCode(H+32)}:${D.substr(3)}`)}else if(D.length>=2&&D.charCodeAt(1)===58){let H=D.charCodeAt(0);H>=65&&H<=90&&(D=`${String.fromCharCode(H+32)}:${D.substr(2)}`)}Z+=q(D,!0,!1)}return z&&(Z+="?",Z+=q(z,!1,!1)),J&&(Z+="#",Z+=M?J:j(J,!1,!1)),Z}r($,"b");function Y(W){try{return decodeURIComponent(W)}catch{return W.length>3?W.substr(0,3)+Y(W.substr(3)):W}}r(Y,"C");let V=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function re(W){return W.match(V)?W.replace(V,M=>Y(M)):W}r(re,"w");var ne=n(975);let U=ne.posix||ne,ie="/";var ot;(function(W){W.joinPath=function(M,...q){return M.with({path:U.join(M.path,...q)})},W.resolvePath=function(M,...q){let Z=M.path,k=!1;Z[0]!==ie&&(Z=ie+Z,k=!0);let O=U.resolve(Z,...q);return k&&O[0]===ie&&!M.authority&&(O=O.substring(1)),M.with({path:O})},W.dirname=function(M){if(M.path.length===0||M.path===ie)return M;let q=U.dirname(M.path);return q.length===1&&q.charCodeAt(0)===46&&(q=""),M.with({path:q})},W.basename=function(M){return U.basename(M.path)},W.extname=function(M){return U.extname(M.path)}})(ot||(ot={})),Ip=o})();var{URI:ju,Utils:wI}=Ip;function Sp(e){try{return decodeURIComponent(e)}catch{return e.length>3?e.substring(0,3)+Sp(e.substring(3)):e}}r(Sp,"decodeURIComponentGraceful");var xp=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function vI(e){return e.match(xp)?e.replace(xp,t=>Sp(t)):e}r(vI,"percentDecode");function Ur(e,t=!1){try{let n=e.match(/^(?:([^:/?#]+?:)?\/\/)(\/\/.*)$/);return n?ju.parse(n[1]+n[2],t):ju.parse(e,t)}catch(n){let o=new Error(`Could not parse <${e}>`);throw o.cause=n,o}}r(Ur,"parseUri");function II(e){return["file","notebook","vscode-notebook","vscode-notebook-cell"].includes(e)}r(II,"isFsScheme");function xI(e){return II(e.scheme)&&(!e.authority||(0,Uu.platform)()=="win32")}r(xI,"isFsUri");function Tp(e){try{typeof e=="string"&&(e=Ur(e,!0))}catch{return}if(xI(e))if((0,Uu.platform)()==="win32"){let t=e.path;return e.authority?t=`//${e.authority}${e.path}`:/^\/[A-Za-z]:/.test(t)&&(t=t.substring(1)),(0,qu.normalize)(t)}else return e.authority?void 0:e.path}r(Tp,"getFsPath");function Ep(e){return vI(e.toString().replace(/[#?].*$/,"").replace(/\/$/,"").replace(/^.*[/:]/,""))}r(Ep,"basename");var Bu=Qn(require("path"));var zu=class zu{constructor(t,n,o){this.languageId=t;this.isGuess=n;this.fileExtension=o}};r(zu,"Language");var Si=zu,Ku=class Ku{};r(Ku,"LanguageDetection");var Ti=Ku,Wu=new Map,bo=new Map,Rp,Pp;for(let[e,{extensions:t,filenames:n}]of Object.entries(jr)){for(let o of t)Wu.set(o,[...(Rp=Wu.get(o))!=null?Rp:[],e]);for(let o of n!=null?n:[])bo.set(o,[...(Pp=bo.get(o))!=null?Pp:[],e])}var Hu=class Hu extends Ti{detectLanguage(t){let n=Ep(t.uri),o=Bu.extname(n).toLowerCase(),i=this.extensionWithoutTemplateLanguage(n,o),u=this.detectLanguageId(n,i);return new Si(u.languageId,u.isGuess,this.computeFullyQualifiedExtension(o,i))}extensionWithoutTemplateLanguage(t,n){if(bp.includes(n)){let o=t.substring(0,t.lastIndexOf(".")),i=Bu.extname(o).toLowerCase();if(i.length>0&&vp.includes(i)&&this.isExtensionValidForTemplateLanguage(n,i))return i}return n}isExtensionValidForTemplateLanguage(t,n){let o=wp[t];return!o||o.includes(n)}detectLanguageId(t,n){var i;if(bo.has(t))return{languageId:bo.get(t)[0],isGuess:!1};let o=(i=Wu.get(n))!=null?i:[];if(o.length>0)return{languageId:o[0],isGuess:o.length>1};for(;t.includes(".");)if(t=t.replace(/\.[^.]*$/,""),bo.has(t))return{languageId:bo.get(t)[0],isGuess:!1};return{languageId:"unknown",isGuess:!0}}computeFullyQualifiedExtension(t,n){return t!==n?n+t:t}};r(Hu,"FilenameAndExensionLanguageDetection");var $u=Hu,Zu=class Zu extends Ti{constructor(n){super();this.delegate=n}detectLanguage(n){let o=this.delegate.detectLanguage(n),i=o.languageId;return i==="c"||i==="cpp"?new Si("cpp",o.isGuess,o.fileExtension):o}};r(Zu,"GroupingLanguageDetection");var Gu=Zu,Qu=class Qu extends Ti{constructor(n){super();this.delegate=n}detectLanguage(n){return n.uri.startsWith("untitled:")||n.uri.startsWith("vscode-notebook-cell:")?new Si(n.languageId,!0,""):this.delegate.detectLanguage(n)}};r(Qu,"ClientProvidedLanguageDetection");var Vu=Qu,Tk=new Gu(new Vu(new $u));function Jn(e){if(e.isCancellationRequested)throw new Ju}r(Jn,"throwIfCancellationRequested");var Xu=class Xu extends Error{constructor(){super(SI),this.name=this.message}};r(Xu,"CancellationError");var Ju=Xu,SI="Canceled",Yu=class Yu{constructor(){this.items=[]}push(t){this.items.push(t)}pop(){return this.items.pop()}peek(){return this.items[this.items.length-1]}tryPeek(){return this.items.length>0}toArray(){return this.items}};r(Yu,"Stack");var Cs=Yu;function ec(e,t,n){return{type:"virtual",indentation:e,subs:t,label:n}}r(ec,"virtualNode");function kp(e,t,n,o,i){if(n==="")throw new Error("Cannot create a line node with an empty source line");return{type:"line",indentation:e,lineNumber:t,sourceLine:n,subs:o,label:i}}r(kp,"lineNode");function tc(e){return{type:"blank",lineNumber:e,subs:[]}}r(tc,"blankNode");function Ls(e){return{type:"top",indentation:-1,subs:e!=null?e:[]}}r(Ls,"topNode");function _t(e){return e.type==="blank"}r(_t,"isBlank");function qr(e){return e.type==="line"}r(qr,"isLine");function Br(e){return e.type==="virtual"}r(Br,"isVirtual");function Mp(e,t){return xt(e,n=>{n.label=n.label?t(n.label)?void 0:n.label:void 0},"bottomUp"),e}r(Mp,"clearLabelsIf");function Wr(e,t){switch(e.type){case"line":case"virtual":{let n=e.subs.map(o=>Wr(o,t));return{...e,subs:n,label:e.label?t(e.label):void 0}}case"blank":return{...e,label:e.label?t(e.label):void 0};case"top":return{...e,subs:e.subs.map(n=>Wr(n,t)),label:e.label?t(e.label):void 0}}}r(Wr,"mapLabels");function xt(e,t,n){function o(i){n==="topDown"&&t(i),i.subs.forEach(u=>{o(u)}),n==="bottomUp"&&t(i)}r(o,"_visit"),o(e)}r(xt,"visitTree");function nc(e,t,n,o){let i=t;function u(s){i=n(s,i)}return r(u,"visitor"),xt(e,u,o),i}r(nc,"foldTree");function Os(e,t,n){let o=r(u=>{if(n!==void 0&&n(u))return u;{let s=u.subs.map(o).filter(a=>a!==void 0);return u.subs=s,t(u)}},"rebuild"),i=o(e);return i!==void 0?i:Ls()}r(Os,"rebuildTree");function EI(e){let t=e.split(`
`),n=t.map(l=>l.match(/^\s*/)[0].length),o=t.map(l=>l.trimLeft());function i(l){let[m,g]=u(l+1,n[l]);return[kp(n[l],l,o[l],m),g]}r(i,"parseNode");function u(l,m){let g,_=[],v=l,T;for(;v<o.length&&(o[v]===""||n[v]>m);)if(o[v]==="")T===void 0&&(T=v),v+=1;else{if(T!==void 0){for(let P=T;P<v;P++)_.push(tc(P));T=void 0}[g,v]=i(v),_.push(g)}return T!==void 0&&(v=T),[_,v]}r(u,"parseSubs");let[s,a]=u(0,-1),c=a;for(;c<o.length&&o[c]==="";)s.push(tc(c)),c+=1;if(c<o.length)throw new Error(`Parsing did not go to end of file. Ended at ${c} out of ${o.length}`);return Ls(s)}r(EI,"parseRaw");function Ei(e,t){function n(o){if(qr(o)){let i=t.find(u=>u.matches(o.sourceLine));i&&(o.label=i.label)}}r(n,"visitor"),xt(e,n,"bottomUp")}r(Ei,"labelLines");function Fs(e){function t(n){if(Br(n)&&n.label===void 0){let o=n.subs.filter(i=>!_t(i));o.length===1&&(n.label=o[0].label)}}r(t,"visitor"),xt(e,t,"bottomUp")}r(Fs,"labelVirtualInherited");function Ri(e){return Object.keys(e).map(t=>{let n;return e[t].test?n=r(o=>e[t].test(o),"matches"):n=e[t],{matches:n,label:t}})}r(Ri,"buildLabelRules");function rc(e){let n=Os(e,r(function(o){if(o.subs.length===0||o.subs.findIndex(s=>s.label==="closer"||s.label==="opener")===-1)return o;let i=[],u;for(let s=0;s<o.subs.length;s++){let a=o.subs[s],c=o.subs[s-1];if(a.label==="opener"&&c!==void 0&&qr(c))c.subs.push(a),a.subs.forEach(l=>c.subs.push(l)),a.subs=[];else if(a.label==="closer"&&u!==void 0&&(qr(a)||Br(a))&&a.indentation>=u.indentation){let l=i.length-1;for(;l>0&&_t(i[l]);)l-=1;if(u.subs.push(...i.splice(l+1)),a.subs.length>0){let m=u.subs.findIndex(T=>T.label!=="newVirtual"),g=u.subs.slice(0,m),_=u.subs.slice(m),v=_.length>0?[ec(a.indentation,_,"newVirtual")]:[];u.subs=[...g,...v,a]}else u.subs.push(a)}else i.push(a),_t(a)||(u=a)}return o.subs=i,o},"rebuilder"));return Mp(e,o=>o==="newVirtual"),n}r(rc,"combineClosersAndOpeners");function Np(e,t=_t,n){return Os(e,r(function(i){if(i.subs.length<=1)return i;let u=[],s=[],a,c=!1;function l(m=!1){if(a!==void 0&&(u.length>0||!m)){let g=ec(a,s,n);u.push(g)}else s.forEach(g=>u.push(g))}r(l,"flushBlockIntoNewSubs");for(let m=0;m<i.subs.length;m++){let g=i.subs[m],_=t(g);!_&&c&&(l(),s=[]),c=_,s.push(g),_t(g)||(a=a!=null?a:g.indentation)}return l(!0),i.subs=u,i},"rebuilder"))}r(Np,"groupBlocks");function $r(e){return Os(e,r(function(n){return Br(n)&&n.label===void 0&&n.subs.length<=1?n.subs.length===0?void 0:n.subs[0]:(n.subs.length===1&&Br(n.subs[0])&&n.subs[0].label===void 0&&(n.subs=n.subs[0].subs),n)},"rebuilder"))}r($r,"flattenVirtual");var RI={opener:/^[[({]/,closer:/^[\])}]/},PI=Ri(RI),Cp={};function oc(e,t){Cp[e]=t}r(oc,"registerLanguageSpecificParser");function Pi(e,t){let n=EI(e),o=Cp[t!=null?t:""];return o?o(n):(Ei(n,PI),rc(n))}r(Pi,"parseTree");var kI={package:/^package /,import:/^import /,class:/\bclass /,interface:/\binterface /,javadoc:/^\/\*\*/,comment_multi:/^\/\*[^*]/,comment_single:/^\/\//,annotation:/^@/,opener:/^[[({]/,closer:/^[\])}]/},MI=Ri(kI);function Lp(e){let t=e;return Ei(t,MI),t=rc(t),t=$r(t),Fs(t),xt(t,n=>{if(n.label==="class"||n.label==="interface")for(let o of n.subs)!_t(o)&&(o.label===void 0||o.label==="annotation")&&(o.label="member")},"bottomUp"),t}r(Lp,"processJava");var NI={heading:/^# /,subheading:/^## /,subsubheading:/### /},CI=Ri(NI);function Op(e){let t=e;if(Ei(t,CI),_t(t))return t;function n(u){if(u.label==="heading")return 1;if(u.label==="subheading")return 2;if(u.label==="subsubheading")return 3}r(n,"headingLevel");let o=[t],i=[...t.subs];t.subs=[];for(let u of i){let s=n(u);if(s===void 0||_t(u))o[o.length-1].subs.push(u);else{for(;o.length<s;)o.push(o[o.length-1]);for(o[s-1].subs.push(u),o[s]=u;o.length>s+1;)o.pop()}}return t=Np(t),t=$r(t),Fs(t),t}r(Op,"processMarkdown");function Fp(e){return" ".repeat(e.indentation)+e.sourceLine+`
`}r(Fp,"deparseLine");oc("markdown",Op);oc("java",Lp);var LI={worthUp:.9,worthSibling:.88,worthDown:.8};function ic(e,t=LI){let n=Wr(e,o=>o?1:void 0);return xt(n,o=>{var u;if(_t(o))return;let i=o.subs.reduce((s,a)=>{var c;return Math.max(s,(c=a.label)!=null?c:0)},0);o.label=Math.max((u=o.label)!=null?u:0,i*t.worthUp)},"bottomUp"),xt(n,o=>{if(_t(o))return;let i=o.subs.map(a=>{var c;return(c=a.label)!=null?c:0}),u=[...i];for(let a=0;a<i.length;a++)i[a]!==0&&(u=u.map((c,l)=>Math.max(c,Math.pow(t.worthSibling,Math.abs(a-l))*i[a])));let s=o.label;s!==void 0&&(u=u.map(a=>Math.max(a,t.worthDown*s))),o.subs.forEach((a,c)=>a.label=u[c])},"topDown"),OI(n)}r(ic,"fromTreeWithFocussedLines");function OI(e){let t=nc(e,[],(n,o)=>{var i,u;return(n.type==="line"||n.type==="blank")&&o.push(n.type==="line"?[Fp(n).trimEnd(),(i=n.label)!=null?i:0]:["",(u=n.label)!=null?u:0]),o},"topDown");return new Gr(t)}r(OI,"fromTreeWithValuedLines");function Ap(e,t=!0,n=!0){let o=typeof e=="string"?Pi(e):Pi(e.source,e.languageId);$r(o);let i=Wr(o,u=>t&&u!=="closer");return xt(i,u=>{u.label===void 0&&(u.label=t&&u.label!==!1)},"topDown"),t&&xt(i,u=>{if(u.label){let s=!1;for(let a of[...u.subs].reverse())a.label&&!s?s=!0:a.label=!1}else for(let s of u.subs)s.label=!1;u.subs.length>0&&(u.label=!1)},"topDown"),n&&xt(i,u=>{u.label||(u.label=(qr(u)||_t(u))&&u.lineNumber==0)},"topDown"),ic(i)}r(Ap,"elidableTextForSourceCode");var sc=class sc extends Error{constructor(n,o){super(n);this.cause=o;this.code="CopilotPromptLoadFailure"}};r(sc,"CopilotPromptLoadFailure");var dr=sc;var wo=Qn(Qp()),Xp=require("fs"),Yp=require("path");var Jp=new Map;function yn(e="cl100k_base"){let t=Jp.get(e);return t!==void 0||(e==="mock"?t=new xc:t=new Ic(e),Jp.set(e,t)),t}r(yn,"getTokenizer");function XI(e){if(!e.endsWith(".tiktoken.noindex"))throw new Error("File does not end with .tiktoken.noindex");let t=(0,Xp.readFileSync)(e,"utf-8"),n=new Map;for(let o of t.split(`
`)){if(!o)continue;let i=Buffer.from(o,"base64");n.set(i,n.size)}return n}r(XI,"parseTikTokenNoIndex");var Sc=class Sc{constructor(t){try{this._tokenizer=(0,wo.createTokenizer)(XI((0,Yp.join)(__dirname,`./resources/${t}.tiktoken.noindex`)),(0,wo.getSpecialTokensByEncoder)(t),(0,wo.getRegexByEncoder)(t),32768)}catch(n){throw n instanceof Error?new dr("Could not load tokenizer",n):n}}tokenize(t){return this._tokenizer.encode(t)}detokenize(t){return this._tokenizer.decode(t)}tokenLength(t){return this.tokenize(t).length}tokenizeStrings(t){return this.tokenize(t).map(o=>this.detokenize([o]))}takeLastTokens(t,n){if(n<=0)return{text:"",tokens:[]};let o=4,i=1,u=Math.min(t.length,n*o),s=t.slice(-u),a=this.tokenize(s);for(;a.length<n+2&&u<t.length;)u=Math.min(t.length,u+n*i),s=t.slice(-u),a=this.tokenize(s);return a.length<n?{text:t,tokens:a}:(a=a.slice(-n),{text:this.detokenize(a),tokens:a})}takeFirstTokens(t,n){if(n<=0)return{text:"",tokens:[]};let o=4,i=1,u=Math.min(t.length,n*o),s=t.slice(0,u),a=this.tokenize(s);for(;a.length<n+2&&u<t.length;)u=Math.min(t.length,u+n*i),s=t.slice(0,u),a=this.tokenize(s);return a.length<n?{text:t,tokens:a}:(a=a.slice(0,n),{text:this.detokenize(a),tokens:a})}takeLastLinesTokens(t,n){let{text:o}=this.takeLastTokens(t,n);if(o.length===t.length||t[t.length-o.length-1]===`
`)return o;let i=o.indexOf(`
`);return o.substring(i+1)}};r(Sc,"TTokenizer");var Ic=Sc,Tc=class Tc{constructor(){this.hash=r(t=>{let n=0;for(let o=0;o<t.length;o++){let i=t.charCodeAt(o);n=(n<<5)-n+i,n&=n&65535}return n},"hash")}tokenize(t){return this.tokenizeStrings(t).map(this.hash)}detokenize(t){return t.map(n=>n.toString()).join(" ")}tokenizeStrings(t){return t.split(/\b/)}tokenLength(t){return this.tokenizeStrings(t).length}takeLastTokens(t,n){let o=this.tokenizeStrings(t).slice(-n);return{text:o.join(""),tokens:o.map(this.hash)}}takeFirstTokens(t,n){let o=this.tokenizeStrings(t).slice(0,n);return{text:o.join(""),tokens:o.map(this.hash)}}takeLastLinesTokens(t,n){let{text:o}=this.takeLastTokens(t,n);if(o.length===t.length||t[t.length-o.length-1]===`
`)return o;let i=o.indexOf(`
`);return o.substring(i+1)}};r(Tc,"MockTokenizer");var xc=Tc;var Ws=class Ws{constructor(t,n,o=yn().tokenLength(t+`
`),i="strict"){this.text=t;this._value=n;this._cost=o;if(t.includes(`
`)&&i!=="none")throw new Error("LineWithValueAndCost: text contains newline");if(n<0&&i!=="none")throw new Error("LineWithValueAndCost: value is negative");if(o<0&&i!=="none")throw new Error("LineWithValueAndCost: cost is negative");if(i=="strict"&&n>1)throw new Error("Value should normally be between 0 and 1 -- set validation to `loose` to ignore this error")}get value(){return this._value}get cost(){return this._cost}adjustValue(t){return this._value*=t,this}recost(t=n=>yn().tokenLength(n+`
`)){return this._cost=t(this.text),this}copy(){return new Ws(this.text,this.value,this.cost,"none")}};r(Ws,"LineWithValueAndCost");var Ni=Ws;var $s=class $s{constructor(t){this.lines=[];let n=[];for(let o of t){let i=Array.isArray(o)?o[1]:1,u=Array.isArray(o)?o[0]:o;typeof u=="string"?u.split(`
`).forEach(s=>n.push(new Ni(s,i))):u instanceof $s?u.lines.forEach(s=>n.push(s.copy().adjustValue(i))):"source"in u&&"languageId"in u&&Ap(u).lines.forEach(s=>n.push(s.copy().adjustValue(i)))}this.lines=n}adjust(t){this.lines.forEach(n=>n.adjustValue(t))}recost(t=n=>yn().tokenLength(n+`
`)){this.lines.forEach(n=>n.recost(t))}makePrompt(t,n="[...]",o=!0,i="removeLeastDesirable",u=yn()){let s=this.lines.map(a=>a.copy());return YI(s,t,n,o,i,u)}};r($s,"ElidableText");var Gr=$s;function YI(e,t,n,o,i,u){var g,_,v,T,P,j,L,Q,$,Y,V,re,ne;if(u.tokenLength(n+`
`)>t)throw new Error("maxTokens must be larger than the ellipsis length");i==="removeLeastBangForBuck"&&e.forEach(U=>U.adjustValue(1/U.cost));let s=e.reduce((U,ie)=>Math.max(U,ie.value),0)+1,a=e.reduce((U,ie)=>Math.max(U,ie.text.length),0)+1,c=n.trim(),l=e.reduce((U,ie)=>U+ie.cost,0),m=e.length+1;for(;l>t&&m-->=-1;){let U=e.reduce((q,Z)=>Z.value<q.value?Z:q),ie=e.indexOf(U),ot=(g=e.slice(0,ie+1).reverse().find(q=>q.text.trim()!==""))!=null?g:{text:""},mt=o?Math.min((v=(_=ot.text.match(/^\s*/))==null?void 0:_[0].length)!=null?v:0,((T=e[ie-1])==null?void 0:T.text.trim())===c?(L=(j=(P=e[ie-1])==null?void 0:P.text.match(/^\s*/))==null?void 0:j[0].length)!=null?L:0:a,((Q=e[ie+1])==null?void 0:Q.text.trim())===c?(V=(Y=($=e[ie+1])==null?void 0:$.text.match(/^\s*/))==null?void 0:Y[0].length)!=null?V:0:a):0,Be=" ".repeat(mt)+n,W=new Ni(Be,s,u.tokenLength(Be+`
`),"loose");e.splice(ie,1,W),((re=e[ie+1])==null?void 0:re.text.trim())===c&&e.splice(ie+1,1),((ne=e[ie-1])==null?void 0:ne.text.trim())===c&&e.splice(ie-1,1);let M=e.reduce((q,Z)=>q+Z.cost,0);M>=l&&e.every(q=>q.value===s)&&(o=!1),l=M}if(m<0)throw new Error("Infinite loop in ElidableText.makePrompt: Defensive counter < 0 in ElidableText.makePrompt with end text");return e.map(U=>U.text).join(`
`)}r(YI,"makePrompt");function bn(){}r(bn,"Diff");bn.prototype={diff:r(function(t,n){var o,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},u=i.callback;typeof i=="function"&&(u=i,i={});var s=this;function a(Y){return Y=s.postProcess(Y,i),u?(setTimeout(function(){u(Y)},0),!0):Y}r(a,"done"),t=this.castInput(t,i),n=this.castInput(n,i),t=this.removeEmpty(this.tokenize(t,i)),n=this.removeEmpty(this.tokenize(n,i));var c=n.length,l=t.length,m=1,g=c+l;i.maxEditLength!=null&&(g=Math.min(g,i.maxEditLength));var _=(o=i.timeout)!==null&&o!==void 0?o:1/0,v=Date.now()+_,T=[{oldPos:-1,lastComponent:void 0}],P=this.extractCommon(T[0],n,t,0,i);if(T[0].oldPos+1>=l&&P+1>=c)return a(eg(s,T[0].lastComponent,n,t,s.useLongestToken));var j=-1/0,L=1/0;function Q(){for(var Y=Math.max(j,-m);Y<=Math.min(L,m);Y+=2){var V=void 0,re=T[Y-1],ne=T[Y+1];re&&(T[Y-1]=void 0);var U=!1;if(ne){var ie=ne.oldPos-Y;U=ne&&0<=ie&&ie<c}var ot=re&&re.oldPos+1<l;if(!U&&!ot){T[Y]=void 0;continue}if(!ot||U&&re.oldPos<ne.oldPos?V=s.addToPath(ne,!0,!1,0,i):V=s.addToPath(re,!1,!0,1,i),P=s.extractCommon(V,n,t,Y,i),V.oldPos+1>=l&&P+1>=c)return a(eg(s,V.lastComponent,n,t,s.useLongestToken));T[Y]=V,V.oldPos+1>=l&&(L=Math.min(L,Y-1)),P+1>=c&&(j=Math.max(j,Y+1))}m++}if(r(Q,"execEditLength"),u)r(function Y(){setTimeout(function(){if(m>g||Date.now()>v)return u();Q()||Y()},0)},"exec")();else for(;m<=g&&Date.now()<=v;){var $=Q();if($)return $}},"diff"),addToPath:r(function(t,n,o,i,u){var s=t.lastComponent;return s&&!u.oneChangePerToken&&s.added===n&&s.removed===o?{oldPos:t.oldPos+i,lastComponent:{count:s.count+1,added:n,removed:o,previousComponent:s.previousComponent}}:{oldPos:t.oldPos+i,lastComponent:{count:1,added:n,removed:o,previousComponent:s}}},"addToPath"),extractCommon:r(function(t,n,o,i,u){for(var s=n.length,a=o.length,c=t.oldPos,l=c-i,m=0;l+1<s&&c+1<a&&this.equals(o[c+1],n[l+1],u);)l++,c++,m++,u.oneChangePerToken&&(t.lastComponent={count:1,previousComponent:t.lastComponent,added:!1,removed:!1});return m&&!u.oneChangePerToken&&(t.lastComponent={count:m,previousComponent:t.lastComponent,added:!1,removed:!1}),t.oldPos=c,l},"extractCommon"),equals:r(function(t,n,o){return o.comparator?o.comparator(t,n):t===n||o.ignoreCase&&t.toLowerCase()===n.toLowerCase()},"equals"),removeEmpty:r(function(t){for(var n=[],o=0;o<t.length;o++)t[o]&&n.push(t[o]);return n},"removeEmpty"),castInput:r(function(t){return t},"castInput"),tokenize:r(function(t){return Array.from(t)},"tokenize"),join:r(function(t){return t.join("")},"join"),postProcess:r(function(t){return t},"postProcess")};function eg(e,t,n,o,i){for(var u=[],s;t;)u.push(t),s=t.previousComponent,delete t.previousComponent,t=s;u.reverse();for(var a=0,c=u.length,l=0,m=0;a<c;a++){var g=u[a];if(g.removed)g.value=e.join(o.slice(m,m+g.count)),m+=g.count;else{if(!g.added&&i){var _=n.slice(l,l+g.count);_=_.map(function(v,T){var P=o[m+T];return P.length>v.length?P:v}),g.value=e.join(_)}else g.value=e.join(n.slice(l,l+g.count));l+=g.count,g.added||(m+=g.count)}}return u}r(eg,"buildValues");var cN=new bn;function tg(e,t){var n;for(n=0;n<e.length&&n<t.length;n++)if(e[n]!=t[n])return e.slice(0,n);return e.slice(0,n)}r(tg,"longestCommonPrefix");function ng(e,t){var n;if(!e||!t||e[e.length-1]!=t[t.length-1])return"";for(n=0;n<e.length&&n<t.length;n++)if(e[e.length-(n+1)]!=t[t.length-(n+1)])return e.slice(-n);return e.slice(-n)}r(ng,"longestCommonSuffix");function Ec(e,t,n){if(e.slice(0,t.length)!=t)throw Error("string ".concat(JSON.stringify(e)," doesn't start with prefix ").concat(JSON.stringify(t),"; this is a bug"));return n+e.slice(t.length)}r(Ec,"replacePrefix");function Rc(e,t,n){if(!t)return e+n;if(e.slice(-t.length)!=t)throw Error("string ".concat(JSON.stringify(e)," doesn't end with suffix ").concat(JSON.stringify(t),"; this is a bug"));return e.slice(0,-t.length)+n}r(Rc,"replaceSuffix");function Ci(e,t){return Ec(e,t,"")}r(Ci,"removePrefix");function Gs(e,t){return Rc(e,t,"")}r(Gs,"removeSuffix");function rg(e,t){return t.slice(0,ex(e,t))}r(rg,"maximumOverlap");function ex(e,t){var n=0;e.length>t.length&&(n=e.length-t.length);var o=t.length;e.length<t.length&&(o=e.length);var i=Array(o),u=0;i[0]=0;for(var s=1;s<o;s++){for(t[s]==t[u]?i[s]=i[u]:i[s]=u;u>0&&t[s]!=t[u];)u=i[u];t[s]==t[u]&&u++}u=0;for(var a=n;a<e.length;a++){for(;u>0&&e[a]!=t[u];)u=i[u];e[a]==t[u]&&u++}return u}r(ex,"overlapCount");var Vs="a-zA-Z0-9_\\u{C0}-\\u{FF}\\u{D8}-\\u{F6}\\u{F8}-\\u{2C6}\\u{2C8}-\\u{2D7}\\u{2DE}-\\u{2FF}\\u{1E00}-\\u{1EFF}",tx=new RegExp("[".concat(Vs,"]+|\\s+|[^").concat(Vs,"]"),"ug"),zs=new bn;zs.equals=function(e,t,n){return n.ignoreCase&&(e=e.toLowerCase(),t=t.toLowerCase()),e.trim()===t.trim()};zs.tokenize=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n;if(t.intlSegmenter){if(t.intlSegmenter.resolvedOptions().granularity!="word")throw new Error('The segmenter passed must have a granularity of "word"');n=Array.from(t.intlSegmenter.segment(e),function(u){return u.segment})}else n=e.match(tx)||[];var o=[],i=null;return n.forEach(function(u){/\s/.test(u)?i==null?o.push(u):o.push(o.pop()+u):/\s/.test(i)?o[o.length-1]==i?o.push(o.pop()+u):o.push(i+u):o.push(u),i=u}),o};zs.join=function(e){return e.map(function(t,n){return n==0?t:t.replace(/^\s+/,"")}).join("")};zs.postProcess=function(e,t){if(!e||t.oneChangePerToken)return e;var n=null,o=null,i=null;return e.forEach(function(u){u.added?o=u:u.removed?i=u:((o||i)&&og(n,i,o,u),n=u,o=null,i=null)}),(o||i)&&og(n,i,o,null),e};function og(e,t,n,o){if(t&&n){var i=t.value.match(/^\s*/)[0],u=t.value.match(/\s*$/)[0],s=n.value.match(/^\s*/)[0],a=n.value.match(/\s*$/)[0];if(e){var c=tg(i,s);e.value=Rc(e.value,s,c),t.value=Ci(t.value,c),n.value=Ci(n.value,c)}if(o){var l=ng(u,a);o.value=Ec(o.value,a,l),t.value=Gs(t.value,l),n.value=Gs(n.value,l)}}else if(n)e&&(n.value=n.value.replace(/^\s*/,"")),o&&(o.value=o.value.replace(/^\s*/,""));else if(e&&o){var m=o.value.match(/^\s*/)[0],g=t.value.match(/^\s*/)[0],_=t.value.match(/\s*$/)[0],v=tg(m,g);t.value=Ci(t.value,v);var T=ng(Ci(m,v),_);t.value=Gs(t.value,T),o.value=Ec(o.value,m,T),e.value=Rc(e.value,m,m.slice(0,m.length-T.length))}else if(o){var P=o.value.match(/^\s*/)[0],j=t.value.match(/\s*$/)[0],L=rg(j,P);t.value=Gs(t.value,L)}else if(e){var Q=e.value.match(/\s*$/)[0],$=t.value.match(/^\s*/)[0],Y=rg(Q,$);t.value=Ci(t.value,Y)}}r(og,"dedupeWhitespaceInChangeObjects");var nx=new bn;nx.tokenize=function(e){var t=new RegExp("(\\r?\\n)|[".concat(Vs,"]+|[^\\S\\n\\r]+|[^").concat(Vs,"]"),"ug");return e.match(t)||[]};var Nc=new bn;Nc.tokenize=function(e,t){t.stripTrailingCr&&(e=e.replace(/\r\n/g,`
`));var n=[],o=e.split(/(\n|\r\n)/);o[o.length-1]||o.pop();for(var i=0;i<o.length;i++){var u=o[i];i%2&&!t.newlineIsToken?n[n.length-1]+=u:n.push(u)}return n};Nc.equals=function(e,t,n){return n.ignoreWhitespace?((!n.newlineIsToken||!e.includes(`
`))&&(e=e.trim()),(!n.newlineIsToken||!t.includes(`
`))&&(t=t.trim())):n.ignoreNewlineAtEof&&!n.newlineIsToken&&(e.endsWith(`
`)&&(e=e.slice(0,-1)),t.endsWith(`
`)&&(t=t.slice(0,-1))),bn.prototype.equals.call(this,e,t,n)};var rx=new bn;rx.tokenize=function(e){return e.split(/(\S.+?[.!?])(?=\s+|$)/)};var ox=new bn;ox.tokenize=function(e){return e.split(/([{}:;,]|\s+)/)};function Pc(e){"@babel/helpers - typeof";return Pc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pc(e)}r(Pc,"_typeof");var Li=new bn;Li.useLongestToken=!0;Li.tokenize=Nc.tokenize;Li.castInput=function(e,t){var n=t.undefinedReplacement,o=t.stringifyReplacer,i=o===void 0?function(u,s){return typeof s>"u"?n:s}:o;return typeof e=="string"?e:JSON.stringify(kc(e,null,null,i),i,"  ")};Li.equals=function(e,t,n){return bn.prototype.equals.call(Li,e.replace(/,([\r\n])/g,"$1"),t.replace(/,([\r\n])/g,"$1"),n)};function kc(e,t,n,o,i){t=t||[],n=n||[],o&&(e=o(i,e));var u;for(u=0;u<t.length;u+=1)if(t[u]===e)return n[u];var s;if(Object.prototype.toString.call(e)==="[object Array]"){for(t.push(e),s=new Array(e.length),n.push(s),u=0;u<e.length;u+=1)s[u]=kc(e[u],t,n,o,i);return t.pop(),n.pop(),s}if(e&&e.toJSON&&(e=e.toJSON()),Pc(e)==="object"&&e!==null){t.push(e),s={},n.push(s);var a=[],c;for(c in e)Object.prototype.hasOwnProperty.call(e,c)&&a.push(c);for(a.sort(),u=0;u<a.length;u+=1)c=a[u],s[c]=kc(e[c],t,n,o,c);t.pop(),n.pop()}else s=e;return s}r(kc,"canonicalize");var Mc=new bn;Mc.tokenize=function(e){return e.slice()};Mc.join=Mc.removeEmpty=function(e){return e};var ax={tokenizerName:"cl100k_base"};function ux(e){return{...ax,...e}}r(ux,"cursorContextOptions");function vo(e,t={}){let n=ux(t),o=yn(n.tokenizerName);if(n.maxLineCount!==void 0&&n.maxLineCount<0)throw new Error("maxLineCount must be non-negative if defined");if(n.maxTokenLength!==void 0&&n.maxTokenLength<0)throw new Error("maxTokenLength must be non-negative if defined");if(n.maxLineCount===0||n.maxTokenLength===0)return{context:"",lineCount:0,tokenLength:0,tokenizerName:n.tokenizerName};let i=e.source.slice(0,e.offset);return n.maxLineCount!==void 0&&(i=i.split(`
`).slice(-n.maxLineCount).join(`
`)),n.maxTokenLength!==void 0&&(i=o.takeLastLinesTokens(i,n.maxTokenLength)),{context:i,lineCount:i.split(`
`).length,tokenLength:o.tokenLength(i),tokenizerName:n.tokenizerName}}r(vo,"getCursorContext");var Oc=class Oc{constructor(t){this.keys=[];this.cache={};this.size=t}put(t,n){var o;if(this.cache[t]=n,this.keys.length>this.size){this.keys.push(t);let i=(o=this.keys.shift())!=null?o:"";delete this.cache[i]}}get(t){return this.cache[t]}};r(Oc,"FifoCache");var Cc=Oc;var Fc=class Fc{constructor(t){var n;this.stopsForLanguage=(n=fx.get(t.languageId))!=null?n:dx}tokenize(t){return new Set(cx(t).filter(n=>!this.stopsForLanguage.has(n)))}};r(Fc,"Tokenizer");var Lc=Fc,ig=new Cc(20),Ac=class Ac{constructor(t){this.referenceDoc=t,this.tokenizer=new Lc(t)}get referenceTokens(){return this.createReferenceTokens()}async createReferenceTokens(){var t;return(t=this.referenceTokensCache)!=null?t:this.referenceTokensCache=this.tokenizer.tokenize(this._getCursorContextInfo(this.referenceDoc).context)}sortScoredSnippets(t,n="descending"){return n=="ascending"?t.sort((o,i)=>o.score>i.score?1:-1):n=="descending"?t.sort((o,i)=>o.score>i.score?-1:1):t}async retrieveAllSnippets(t,n="descending"){var l;let o=[];if(t.source.length===0||(await this.referenceTokens).size===0)return o;let i=t.source.split(`
`),u=this.id()+":"+t.source,s=(l=ig.get(u))!=null?l:[],a=s.length==0,c=a?i.map(m=>this.tokenizer.tokenize(m),this.tokenizer):[];for(let[m,[g,_]]of this.getWindowsDelineations(i).entries()){if(a){let P=new Set;c.slice(g,_).forEach(j=>j.forEach(L=>P.add(L),P)),s.push(P)}let v=s[m],T=this.similarityScore(v,await this.referenceTokens);if(o.length&&g>0&&o[o.length-1].endLine>g){o[o.length-1].score<T&&(o[o.length-1].score=T,o[o.length-1].startLine=g,o[o.length-1].endLine=_);continue}o.push({score:T,startLine:g,endLine:_})}return a&&ig.put(u,s),this.sortScoredSnippets(o,n)}findMatches(t,n){return this.findBestMatch(t,n)}async findBestMatch(t,n){if(t.source.length===0||(await this.referenceTokens).size===0)return[];let o=t.source.split(`
`),i=await this.retrieveAllSnippets(t,"descending");if(i.length===0)return[];let u=[];for(let s=0;s<i.length&&s<n;s++)if(i[s].score!==0){let a=o.slice(i[s].startLine,i[s].endLine).join(`
`);u.push({snippet:a,semantics:"snippet",provider:"similar-files",...i[s]})}return u}};r(Ac,"WindowedMatcher");var Io=Ac;function cx(e){return e.split(/[^a-zA-Z0-9]/).filter(t=>t.length>0)}r(cx,"splitIntoWords");var lx=new Set(["we","our","you","it","its","they","them","their","this","that","these","those","is","are","was","were","be","been","being","have","has","had","having","do","does","did","doing","can","don","t","s","will","would","should","what","which","who","when","where","why","how","a","an","the","and","or","not","no","but","because","as","until","again","further","then","once","here","there","all","any","both","each","few","more","most","other","some","such","above","below","to","during","before","after","of","at","by","about","between","into","through","from","up","down","in","out","on","off","over","under","only","own","same","so","than","too","very","just","now"]),dx=new Set(["if","then","else","for","while","with","def","function","return","TODO","import","try","catch","raise","finally","repeat","switch","case","match","assert","continue","break","const","class","enum","struct","static","new","super","this","var",...lx]),fx=new Map([]);function Ks(e,t){let n=[],o=t.length;if(o==0)return[];if(o<e)return[[0,o]];for(let i=0;i<o-e+1;i++)n.push([i,i+e]);return n}r(Ks,"getBasicWindowDelineations");var Oi=class Oi extends Io{constructor(t,n){super(t),this.windowLength=n}id(){return"fixed:"+this.windowLength}getWindowsDelineations(t){return Ks(this.windowLength,t)}_getCursorContextInfo(t){return vo(t,{maxLineCount:this.windowLength})}similarityScore(t,n){return mx(t,n)}};r(Oi,"FixedWindowSizeJaccardMatcher"),Oi.FACTORY=r(t=>({to:r(n=>new Oi(n,t),"to")}),"FACTORY");var Hs=Oi;function mx(e,t){let n=new Set;return e.forEach(o=>{t.has(o)&&n.add(o)}),n.size/(e.size+t.size-n.size)}r(mx,"computeScore");var ug=require("fs"),Zs=Qn(require("path")),Qs=Qn(sg());var ag={python:"python",javascript:"javascript",javascriptreact:"javascript",jsx:"javascript",typescript:"typescript",typescriptreact:"tsx",go:"go",ruby:"ruby",csharp:"c_sharp",java:"java"};function cg(e){if(!(e in ag))throw new Error(`Unrecognized language: ${e}`);return ag[e]}r(cg,"languageIdToWasmLanguage");var Dc=new Map;async function px(e){let t,n=Zs.default.resolve(Zs.default.extname(__filename)!==".ts"?__dirname:Zs.default.resolve(__dirname,"../../dist"),`tree-sitter-${e}.wasm`);try{t=await ug.promises.readFile(n)}catch(o){throw o instanceof Error&&"code"in o&&typeof o.code=="string"&&o.name==="Error"?new dr(`Could not load tree-sitter-${e}.wasm`,o):o}return Qs.default.Language.load(t)}r(px,"loadWasmLanguage");function gx(e){let t=cg(e);if(!Dc.has(t)){let n=px(t);Dc.set(t,n)}return Dc.get(t)}r(gx,"getLanguage");var Uc=class Uc extends Error{constructor(n,o){super(n);this.cause=o}};r(Uc,"WrappedError");var jc=Uc;async function Vr(e,t){await Qs.default.init();let n;try{n=new Qs.default}catch(u){throw u&&typeof u=="object"&&"message"in u&&typeof u.message=="string"&&u.message.includes("table index is out of bounds")?new jc(`Could not init Parse for language <${e}>`,u):u}let o=await gx(e);n.setLanguage(o);let i=n.parse(t);return n.delete(),i}r(Vr,"parseTreeSitter");function hx(e,t){let n=[];for(let o of e){if(!o[1]){let i=t.tree.getLanguage();o[1]=i.query(o[0])}n.push(...o[1].matches(t))}return n}r(hx,"innerQuery");var _x=[`[
    (class_definition (block (expression_statement (string))))
    (function_definition (block (expression_statement (string))))
]`];function lg(e){return hx([_x],e).length==1}r(lg,"queryPythonIsDocstring");var mr=class mr extends Io{constructor(t,n){super(t),this.windowLength=n}id(){return"fixed:"+this.windowLength}getWindowsDelineations(t){return Ks(this.windowLength,t)}_getCursorContextInfo(t){return vo(t,{maxLineCount:this.windowLength})}get referenceTokens(){return this.createReferenceTokensForLanguage()}async createReferenceTokensForLanguage(){return this.referenceTokensCache?this.referenceTokensCache:(this.referenceTokensCache=mr.syntaxAwareSupportsLanguage(this.referenceDoc.languageId)?await this.syntaxAwareReferenceTokens():await super.referenceTokens,this.referenceTokensCache)}async syntaxAwareReferenceTokens(){var i;let t=(i=await this.getEnclosingMemberStart(this.referenceDoc.source,this.referenceDoc.offset))==null?void 0:i.startIndex,n=this.referenceDoc.offset,o=t?this.referenceDoc.source.slice(t,n):vo(this.referenceDoc,{maxLineCount:this.windowLength}).context;return this.tokenizer.tokenize(o)}static syntaxAwareSupportsLanguage(t){switch(t){case"csharp":return!0;default:return!1}}similarityScore(t,n){return yx(t,n)}async getEnclosingMemberStart(t,n){var i;let o;try{o=await Vr(this.referenceDoc.languageId,t);let u=o.rootNode.namedDescendantForIndex(n);for(;u&&!(mr.isMember(u)||mr.isBlock(u));)u=(i=u.parent)!=null?i:void 0;return u}finally{o==null||o.delete()}}static isMember(t){switch(t==null?void 0:t.type){case"method_declaration":case"property_declaration":case"field_declaration":case"constructor_declaration":return!0;default:return!1}}static isBlock(t){switch(t==null?void 0:t.type){case"class_declaration":case"struct_declaration":case"record_declaration":case"enum_declaration":case"interface_declaration":return!0;default:return!1}}};r(mr,"BlockTokenSubsetMatcher"),mr.FACTORY=r(t=>({to:r(n=>new mr(n,t),"to")}),"FACTORY");var Js=mr;function yx(e,t){let n=new Set;return t.forEach(o=>{e.has(o)&&n.add(o)}),n.size}r(yx,"computeScore");function bx(e,t){return(t.useSubsetMatching?Js.FACTORY(t.snippetLength):Hs.FACTORY(t.snippetLength)).to(e)}r(bx,"getMatcher");async function dg(e,t,n){let o=bx(e,n);return n.maxTopSnippets===0?[]:(await t.filter(u=>u.source.length<n.maxCharPerFile&&u.source.length>0).slice(0,n.maxNumberOfFiles).reduce(async(u,s)=>(await u).concat((await o.findMatches(s,n.maxSnippetsPerFile)).map(a=>({relativePath:s.relativePath,...a}))),Promise.resolve([]))).filter(u=>u.score&&u.snippet&&u.score>n.threshold).sort((u,s)=>u.score-s.score).slice(-n.maxTopSnippets)}r(dg,"getSimilarSnippets");var yt={};Du(yt,{HasPropertyKey:()=>Xs,IsArray:()=>tt,IsAsyncIterator:()=>Bc,IsBigInt:()=>Fi,IsBoolean:()=>Yn,IsDate:()=>zr,IsFunction:()=>Wc,IsIterator:()=>$c,IsNull:()=>Gc,IsNumber:()=>$t,IsObject:()=>Re,IsRegExp:()=>Ai,IsString:()=>Ce,IsSymbol:()=>Vc,IsUint8Array:()=>er,IsUndefined:()=>nt});function Xs(e,t){return t in e}r(Xs,"HasPropertyKey");function Bc(e){return Re(e)&&!tt(e)&&!er(e)&&Symbol.asyncIterator in e}r(Bc,"IsAsyncIterator");function tt(e){return Array.isArray(e)}r(tt,"IsArray");function Fi(e){return typeof e=="bigint"}r(Fi,"IsBigInt");function Yn(e){return typeof e=="boolean"}r(Yn,"IsBoolean");function zr(e){return e instanceof globalThis.Date}r(zr,"IsDate");function Wc(e){return typeof e=="function"}r(Wc,"IsFunction");function $c(e){return Re(e)&&!tt(e)&&!er(e)&&Symbol.iterator in e}r($c,"IsIterator");function Gc(e){return e===null}r(Gc,"IsNull");function $t(e){return typeof e=="number"}r($t,"IsNumber");function Re(e){return typeof e=="object"&&e!==null}r(Re,"IsObject");function Ai(e){return e instanceof globalThis.RegExp}r(Ai,"IsRegExp");function Ce(e){return typeof e=="string"}r(Ce,"IsString");function Vc(e){return typeof e=="symbol"}r(Vc,"IsSymbol");function er(e){return e instanceof globalThis.Uint8Array}r(er,"IsUint8Array");function nt(e){return e===void 0}r(nt,"IsUndefined");function vx(e){return e.map(t=>Ys(t))}r(vx,"ArrayType");function Ix(e){return new Date(e.getTime())}r(Ix,"DateType");function xx(e){return new Uint8Array(e)}r(xx,"Uint8ArrayType");function Sx(e){return new RegExp(e.source,e.flags)}r(Sx,"RegExpType");function Tx(e){let t={};for(let n of Object.getOwnPropertyNames(e))t[n]=Ys(e[n]);for(let n of Object.getOwnPropertySymbols(e))t[n]=Ys(e[n]);return t}r(Tx,"ObjectType");function Ys(e){return tt(e)?vx(e):zr(e)?Ix(e):er(e)?xx(e):Ai(e)?Sx(e):Re(e)?Tx(e):e}r(Ys,"Visit");function De(e){return Ys(e)}r(De,"Clone");function So(e,t){return t===void 0?De(e):De({...t,...e})}r(So,"CloneType");function fg(e){return e!==null&&typeof e=="object"}r(fg,"IsObject");function mg(e){return globalThis.Array.isArray(e)&&!globalThis.ArrayBuffer.isView(e)}r(mg,"IsArray");function pg(e){return e===void 0}r(pg,"IsUndefined");function gg(e){return typeof e=="number"}r(gg,"IsNumber");var ea;(function(e){e.InstanceMode="default",e.ExactOptionalPropertyTypes=!1,e.AllowArrayObject=!1,e.AllowNaN=!1,e.AllowNullVoid=!1;function t(s,a){return e.ExactOptionalPropertyTypes?a in s:s[a]!==void 0}r(t,"IsExactOptionalProperty"),e.IsExactOptionalProperty=t;function n(s){let a=fg(s);return e.AllowArrayObject?a:a&&!mg(s)}r(n,"IsObjectLike"),e.IsObjectLike=n;function o(s){return n(s)&&!(s instanceof Date)&&!(s instanceof Uint8Array)}r(o,"IsRecordLike"),e.IsRecordLike=o;function i(s){return e.AllowNaN?gg(s):Number.isFinite(s)}r(i,"IsNumberLike"),e.IsNumberLike=i;function u(s){let a=pg(s);return e.AllowNullVoid?a||s===null:a}r(u,"IsVoidLike"),e.IsVoidLike=u})(ea||(ea={}));function Ex(e){return globalThis.Object.freeze(e).map(t=>Di(t))}r(Ex,"ImmutableArray");function Rx(e){let t={};for(let n of Object.getOwnPropertyNames(e))t[n]=Di(e[n]);for(let n of Object.getOwnPropertySymbols(e))t[n]=Di(e[n]);return globalThis.Object.freeze(t)}r(Rx,"ImmutableObject");function Di(e){return tt(e)?Ex(e):zr(e)?e:er(e)?e:Ai(e)?e:Re(e)?Rx(e):e}r(Di,"Immutable");function E(e,t){let n=t!==void 0?{...t,...e}:e;switch(ea.InstanceMode){case"freeze":return Di(n);case"clone":return De(n);default:return n}}r(E,"CreateType");var zc=class zc extends Error{constructor(t){super(t)}};r(zc,"TypeBoxError");var pt=zc;var at=Symbol.for("TypeBox.Transform"),wn=Symbol.for("TypeBox.Readonly"),bt=Symbol.for("TypeBox.Optional"),en=Symbol.for("TypeBox.Hint"),B=Symbol.for("TypeBox.Kind");function To(e){return Re(e)&&e[wn]==="Readonly"}r(To,"IsReadonly");function Lt(e){return Re(e)&&e[bt]==="Optional"}r(Lt,"IsOptional");function Kc(e){return fe(e,"Any")}r(Kc,"IsAny");function Hc(e){return fe(e,"Argument")}r(Hc,"IsArgument");function vn(e){return fe(e,"Array")}r(vn,"IsArray");function Kr(e){return fe(e,"AsyncIterator")}r(Kr,"IsAsyncIterator");function Hr(e){return fe(e,"BigInt")}r(Hr,"IsBigInt");function tr(e){return fe(e,"Boolean")}r(tr,"IsBoolean");function In(e){return fe(e,"Computed")}r(In,"IsComputed");function xn(e){return fe(e,"Constructor")}r(xn,"IsConstructor");function Px(e){return fe(e,"Date")}r(Px,"IsDate");function Sn(e){return fe(e,"Function")}r(Sn,"IsFunction");function Tn(e){return fe(e,"Integer")}r(Tn,"IsInteger");function ze(e){return fe(e,"Intersect")}r(ze,"IsIntersect");function Zr(e){return fe(e,"Iterator")}r(Zr,"IsIterator");function fe(e,t){return Re(e)&&B in e&&e[B]===t}r(fe,"IsKindOf");function ta(e){return Yn(e)||$t(e)||Ce(e)}r(ta,"IsLiteralValue");function Gt(e){return fe(e,"Literal")}r(Gt,"IsLiteral");function Vt(e){return fe(e,"MappedKey")}r(Vt,"IsMappedKey");function je(e){return fe(e,"MappedResult")}r(je,"IsMappedResult");function pr(e){return fe(e,"Never")}r(pr,"IsNever");function kx(e){return fe(e,"Not")}r(kx,"IsNot");function ji(e){return fe(e,"Null")}r(ji,"IsNull");function En(e){return fe(e,"Number")}r(En,"IsNumber");function rt(e){return fe(e,"Object")}r(rt,"IsObject");function Qr(e){return fe(e,"Promise")}r(Qr,"IsPromise");function Jr(e){return fe(e,"Record")}r(Jr,"IsRecord");function Je(e){return fe(e,"Ref")}r(Je,"IsRef");function Zc(e){return fe(e,"RegExp")}r(Zc,"IsRegExp");function nr(e){return fe(e,"String")}r(nr,"IsString");function Ui(e){return fe(e,"Symbol")}r(Ui,"IsSymbol");function zt(e){return fe(e,"TemplateLiteral")}r(zt,"IsTemplateLiteral");function Mx(e){return fe(e,"This")}r(Mx,"IsThis");function gr(e){return Re(e)&&at in e}r(gr,"IsTransform");function Kt(e){return fe(e,"Tuple")}r(Kt,"IsTuple");function qi(e){return fe(e,"Undefined")}r(qi,"IsUndefined");function ge(e){return fe(e,"Union")}r(ge,"IsUnion");function Nx(e){return fe(e,"Uint8Array")}r(Nx,"IsUint8Array");function Cx(e){return fe(e,"Unknown")}r(Cx,"IsUnknown");function Lx(e){return fe(e,"Unsafe")}r(Lx,"IsUnsafe");function Ox(e){return fe(e,"Void")}r(Ox,"IsVoid");function Fx(e){return Re(e)&&B in e&&Ce(e[B])}r(Fx,"IsKind");function Ht(e){return Kc(e)||Hc(e)||vn(e)||tr(e)||Hr(e)||Kr(e)||In(e)||xn(e)||Px(e)||Sn(e)||Tn(e)||ze(e)||Zr(e)||Gt(e)||Vt(e)||je(e)||pr(e)||kx(e)||ji(e)||En(e)||rt(e)||Qr(e)||Jr(e)||Je(e)||Zc(e)||nr(e)||Ui(e)||zt(e)||Mx(e)||Kt(e)||qi(e)||ge(e)||Nx(e)||Cx(e)||Lx(e)||Ox(e)||Fx(e)}r(Ht,"IsSchema");var I={};Du(I,{IsAny:()=>bg,IsArgument:()=>wg,IsArray:()=>vg,IsAsyncIterator:()=>Ig,IsBigInt:()=>xg,IsBoolean:()=>Sg,IsComputed:()=>Tg,IsConstructor:()=>Eg,IsDate:()=>Rg,IsFunction:()=>Pg,IsImport:()=>Bx,IsInteger:()=>kg,IsIntersect:()=>Mg,IsIterator:()=>Ng,IsKind:()=>rh,IsKindOf:()=>de,IsLiteral:()=>Wi,IsLiteralBoolean:()=>Wx,IsLiteralNumber:()=>Lg,IsLiteralString:()=>Cg,IsLiteralValue:()=>Og,IsMappedKey:()=>Fg,IsMappedResult:()=>Ag,IsNever:()=>Dg,IsNot:()=>jg,IsNull:()=>Ug,IsNumber:()=>qg,IsObject:()=>Bg,IsOptional:()=>qx,IsPromise:()=>Wg,IsProperties:()=>na,IsReadonly:()=>Ux,IsRecord:()=>$g,IsRecursive:()=>$x,IsRef:()=>Gg,IsRegExp:()=>Vg,IsSchema:()=>gt,IsString:()=>zg,IsSymbol:()=>Kg,IsTemplateLiteral:()=>Hg,IsThis:()=>Zg,IsTransform:()=>Qg,IsTuple:()=>Jg,IsUint8Array:()=>Yg,IsUndefined:()=>Xg,IsUnion:()=>Yc,IsUnionLiteral:()=>Gx,IsUnknown:()=>eh,IsUnsafe:()=>th,IsVoid:()=>nh,TypeGuardUnknownTypeError:()=>Qc});var el=class el extends pt{};r(el,"TypeGuardUnknownTypeError");var Qc=el,Ax=["Argument","Any","Array","AsyncIterator","BigInt","Boolean","Computed","Constructor","Date","Enum","Function","Integer","Intersect","Iterator","Literal","MappedKey","MappedResult","Not","Null","Number","Object","Promise","Record","Ref","RegExp","String","Symbol","TemplateLiteral","This","Tuple","Undefined","Union","Uint8Array","Unknown","Void"];function hg(e){try{return new RegExp(e),!0}catch{return!1}}r(hg,"IsPattern");function Jc(e){if(!Ce(e))return!1;for(let t=0;t<e.length;t++){let n=e.charCodeAt(t);if(n>=7&&n<=13||n===27||n===127)return!1}return!0}r(Jc,"IsControlCharacterFree");function _g(e){return Xc(e)||gt(e)}r(_g,"IsAdditionalProperties");function Bi(e){return nt(e)||Fi(e)}r(Bi,"IsOptionalBigInt");function Le(e){return nt(e)||$t(e)}r(Le,"IsOptionalNumber");function Xc(e){return nt(e)||Yn(e)}r(Xc,"IsOptionalBoolean");function Pe(e){return nt(e)||Ce(e)}r(Pe,"IsOptionalString");function Dx(e){return nt(e)||Ce(e)&&Jc(e)&&hg(e)}r(Dx,"IsOptionalPattern");function jx(e){return nt(e)||Ce(e)&&Jc(e)}r(jx,"IsOptionalFormat");function yg(e){return nt(e)||gt(e)}r(yg,"IsOptionalSchema");function Ux(e){return Re(e)&&e[wn]==="Readonly"}r(Ux,"IsReadonly");function qx(e){return Re(e)&&e[bt]==="Optional"}r(qx,"IsOptional");function bg(e){return de(e,"Any")&&Pe(e.$id)}r(bg,"IsAny");function wg(e){return de(e,"Argument")&&$t(e.index)}r(wg,"IsArgument");function vg(e){return de(e,"Array")&&e.type==="array"&&Pe(e.$id)&&gt(e.items)&&Le(e.minItems)&&Le(e.maxItems)&&Xc(e.uniqueItems)&&yg(e.contains)&&Le(e.minContains)&&Le(e.maxContains)}r(vg,"IsArray");function Ig(e){return de(e,"AsyncIterator")&&e.type==="AsyncIterator"&&Pe(e.$id)&&gt(e.items)}r(Ig,"IsAsyncIterator");function xg(e){return de(e,"BigInt")&&e.type==="bigint"&&Pe(e.$id)&&Bi(e.exclusiveMaximum)&&Bi(e.exclusiveMinimum)&&Bi(e.maximum)&&Bi(e.minimum)&&Bi(e.multipleOf)}r(xg,"IsBigInt");function Sg(e){return de(e,"Boolean")&&e.type==="boolean"&&Pe(e.$id)}r(Sg,"IsBoolean");function Tg(e){return de(e,"Computed")&&Ce(e.target)&&tt(e.parameters)&&e.parameters.every(t=>gt(t))}r(Tg,"IsComputed");function Eg(e){return de(e,"Constructor")&&e.type==="Constructor"&&Pe(e.$id)&&tt(e.parameters)&&e.parameters.every(t=>gt(t))&&gt(e.returns)}r(Eg,"IsConstructor");function Rg(e){return de(e,"Date")&&e.type==="Date"&&Pe(e.$id)&&Le(e.exclusiveMaximumTimestamp)&&Le(e.exclusiveMinimumTimestamp)&&Le(e.maximumTimestamp)&&Le(e.minimumTimestamp)&&Le(e.multipleOfTimestamp)}r(Rg,"IsDate");function Pg(e){return de(e,"Function")&&e.type==="Function"&&Pe(e.$id)&&tt(e.parameters)&&e.parameters.every(t=>gt(t))&&gt(e.returns)}r(Pg,"IsFunction");function Bx(e){return de(e,"Import")&&Xs(e,"$defs")&&Re(e.$defs)&&na(e.$defs)&&Xs(e,"$ref")&&Ce(e.$ref)&&e.$ref in e.$defs}r(Bx,"IsImport");function kg(e){return de(e,"Integer")&&e.type==="integer"&&Pe(e.$id)&&Le(e.exclusiveMaximum)&&Le(e.exclusiveMinimum)&&Le(e.maximum)&&Le(e.minimum)&&Le(e.multipleOf)}r(kg,"IsInteger");function na(e){return Re(e)&&Object.entries(e).every(([t,n])=>Jc(t)&&gt(n))}r(na,"IsProperties");function Mg(e){return de(e,"Intersect")&&!(Ce(e.type)&&e.type!=="object")&&tt(e.allOf)&&e.allOf.every(t=>gt(t)&&!Qg(t))&&Pe(e.type)&&(Xc(e.unevaluatedProperties)||yg(e.unevaluatedProperties))&&Pe(e.$id)}r(Mg,"IsIntersect");function Ng(e){return de(e,"Iterator")&&e.type==="Iterator"&&Pe(e.$id)&&gt(e.items)}r(Ng,"IsIterator");function de(e,t){return Re(e)&&B in e&&e[B]===t}r(de,"IsKindOf");function Cg(e){return Wi(e)&&Ce(e.const)}r(Cg,"IsLiteralString");function Lg(e){return Wi(e)&&$t(e.const)}r(Lg,"IsLiteralNumber");function Wx(e){return Wi(e)&&Yn(e.const)}r(Wx,"IsLiteralBoolean");function Wi(e){return de(e,"Literal")&&Pe(e.$id)&&Og(e.const)}r(Wi,"IsLiteral");function Og(e){return Yn(e)||$t(e)||Ce(e)}r(Og,"IsLiteralValue");function Fg(e){return de(e,"MappedKey")&&tt(e.keys)&&e.keys.every(t=>$t(t)||Ce(t))}r(Fg,"IsMappedKey");function Ag(e){return de(e,"MappedResult")&&na(e.properties)}r(Ag,"IsMappedResult");function Dg(e){return de(e,"Never")&&Re(e.not)&&Object.getOwnPropertyNames(e.not).length===0}r(Dg,"IsNever");function jg(e){return de(e,"Not")&&gt(e.not)}r(jg,"IsNot");function Ug(e){return de(e,"Null")&&e.type==="null"&&Pe(e.$id)}r(Ug,"IsNull");function qg(e){return de(e,"Number")&&e.type==="number"&&Pe(e.$id)&&Le(e.exclusiveMaximum)&&Le(e.exclusiveMinimum)&&Le(e.maximum)&&Le(e.minimum)&&Le(e.multipleOf)}r(qg,"IsNumber");function Bg(e){return de(e,"Object")&&e.type==="object"&&Pe(e.$id)&&na(e.properties)&&_g(e.additionalProperties)&&Le(e.minProperties)&&Le(e.maxProperties)}r(Bg,"IsObject");function Wg(e){return de(e,"Promise")&&e.type==="Promise"&&Pe(e.$id)&&gt(e.item)}r(Wg,"IsPromise");function $g(e){return de(e,"Record")&&e.type==="object"&&Pe(e.$id)&&_g(e.additionalProperties)&&Re(e.patternProperties)&&(t=>{let n=Object.getOwnPropertyNames(t.patternProperties);return n.length===1&&hg(n[0])&&Re(t.patternProperties)&&gt(t.patternProperties[n[0]])})(e)}r($g,"IsRecord");function $x(e){return Re(e)&&en in e&&e[en]==="Recursive"}r($x,"IsRecursive");function Gg(e){return de(e,"Ref")&&Pe(e.$id)&&Ce(e.$ref)}r(Gg,"IsRef");function Vg(e){return de(e,"RegExp")&&Pe(e.$id)&&Ce(e.source)&&Ce(e.flags)&&Le(e.maxLength)&&Le(e.minLength)}r(Vg,"IsRegExp");function zg(e){return de(e,"String")&&e.type==="string"&&Pe(e.$id)&&Le(e.minLength)&&Le(e.maxLength)&&Dx(e.pattern)&&jx(e.format)}r(zg,"IsString");function Kg(e){return de(e,"Symbol")&&e.type==="symbol"&&Pe(e.$id)}r(Kg,"IsSymbol");function Hg(e){return de(e,"TemplateLiteral")&&e.type==="string"&&Ce(e.pattern)&&e.pattern[0]==="^"&&e.pattern[e.pattern.length-1]==="$"}r(Hg,"IsTemplateLiteral");function Zg(e){return de(e,"This")&&Pe(e.$id)&&Ce(e.$ref)}r(Zg,"IsThis");function Qg(e){return Re(e)&&at in e}r(Qg,"IsTransform");function Jg(e){return de(e,"Tuple")&&e.type==="array"&&Pe(e.$id)&&$t(e.minItems)&&$t(e.maxItems)&&e.minItems===e.maxItems&&(nt(e.items)&&nt(e.additionalItems)&&e.minItems===0||tt(e.items)&&e.items.every(t=>gt(t)))}r(Jg,"IsTuple");function Xg(e){return de(e,"Undefined")&&e.type==="undefined"&&Pe(e.$id)}r(Xg,"IsUndefined");function Gx(e){return Yc(e)&&e.anyOf.every(t=>Cg(t)||Lg(t))}r(Gx,"IsUnionLiteral");function Yc(e){return de(e,"Union")&&Pe(e.$id)&&Re(e)&&tt(e.anyOf)&&e.anyOf.every(t=>gt(t))}r(Yc,"IsUnion");function Yg(e){return de(e,"Uint8Array")&&e.type==="Uint8Array"&&Pe(e.$id)&&Le(e.minByteLength)&&Le(e.maxByteLength)}r(Yg,"IsUint8Array");function eh(e){return de(e,"Unknown")&&Pe(e.$id)}r(eh,"IsUnknown");function th(e){return de(e,"Unsafe")}r(th,"IsUnsafe");function nh(e){return de(e,"Void")&&e.type==="void"&&Pe(e.$id)}r(nh,"IsVoid");function rh(e){return Re(e)&&B in e&&Ce(e[B])&&!Ax.includes(e[B])}r(rh,"IsKind");function gt(e){return Re(e)&&(bg(e)||wg(e)||vg(e)||Sg(e)||xg(e)||Ig(e)||Tg(e)||Eg(e)||Rg(e)||Pg(e)||kg(e)||Mg(e)||Ng(e)||Wi(e)||Fg(e)||Ag(e)||Dg(e)||jg(e)||Ug(e)||qg(e)||Bg(e)||Wg(e)||$g(e)||Gg(e)||Vg(e)||zg(e)||Kg(e)||Hg(e)||Zg(e)||Jg(e)||Xg(e)||Yc(e)||Yg(e)||eh(e)||th(e)||nh(e)||rh(e))}r(gt,"IsSchema");var tl="(true|false)",$i="(0|[1-9][0-9]*)",nl="(.*)",Vx="(?!.*)",BC=`^${tl}$`,_r=`^${$i}$`,yr=`^${nl}$`,oh=`^${Vx}$`;function ih(e,t){return e.includes(t)}r(ih,"SetIncludes");function sh(e){return[...new Set(e)]}r(sh,"SetDistinct");function zx(e,t){return e.filter(n=>t.includes(n))}r(zx,"SetIntersect");function Kx(e,t){return e.reduce((n,o)=>zx(n,o),t)}r(Kx,"SetIntersectManyResolve");function ah(e){return e.length===1?e[0]:e.length>1?Kx(e.slice(1),e[0]):[]}r(ah,"SetIntersectMany");function uh(e){let t=[];for(let n of e)t.push(...n);return t}r(uh,"SetUnionMany");function br(e){return E({[B]:"Any"},e)}r(br,"Any");function Eo(e,t){return E({[B]:"Array",type:"array",items:e},t)}r(Eo,"Array");function ch(e){return E({[B]:"Argument",index:e})}r(ch,"Argument");function Ro(e,t){return E({[B]:"AsyncIterator",type:"AsyncIterator",items:e},t)}r(Ro,"AsyncIterator");function Fe(e,t,n){return E({[B]:"Computed",target:e,parameters:t},n)}r(Fe,"Computed");function Hx(e,t){let{[t]:n,...o}=e;return o}r(Hx,"DiscardKey");function Ke(e,t){return t.reduce((n,o)=>Hx(n,o),e)}r(Ke,"Discard");function he(e){return E({[B]:"Never",not:{}},e)}r(he,"Never");function ye(e){return E({[B]:"MappedResult",properties:e})}r(ye,"MappedResult");function Po(e,t,n){return E({[B]:"Constructor",type:"Constructor",parameters:e,returns:t},n)}r(Po,"Constructor");function jn(e,t,n){return E({[B]:"Function",type:"Function",parameters:e,returns:t},n)}r(jn,"Function");function Gi(e,t){return E({[B]:"Union",anyOf:e},t)}r(Gi,"UnionCreate");function Zx(e){return e.some(t=>Lt(t))}r(Zx,"IsUnionOptional");function lh(e){return e.map(t=>Lt(t)?Qx(t):t)}r(lh,"RemoveOptionalFromRest");function Qx(e){return Ke(e,[bt])}r(Qx,"RemoveOptionalFromType");function Jx(e,t){return Zx(e)?St(Gi(lh(e),t)):Gi(lh(e),t)}r(Jx,"ResolveUnion");function Un(e,t){return e.length===1?E(e[0],t):e.length===0?he(t):Jx(e,t)}r(Un,"UnionEvaluated");function ve(e,t){return e.length===0?he(t):e.length===1?E(e[0],t):Gi(e,t)}r(ve,"Union");var ol=class ol extends pt{};r(ol,"TemplateLiteralParserError");var ra=ol;function Xx(e){return e.replace(/\\\$/g,"$").replace(/\\\*/g,"*").replace(/\\\^/g,"^").replace(/\\\|/g,"|").replace(/\\\(/g,"(").replace(/\\\)/g,")")}r(Xx,"Unescape");function rl(e,t,n){return e[t]===n&&e.charCodeAt(t-1)!==92}r(rl,"IsNonEscaped");function rr(e,t){return rl(e,t,"(")}r(rr,"IsOpenParen");function Vi(e,t){return rl(e,t,")")}r(Vi,"IsCloseParen");function dh(e,t){return rl(e,t,"|")}r(dh,"IsSeparator");function Yx(e){if(!(rr(e,0)&&Vi(e,e.length-1)))return!1;let t=0;for(let n=0;n<e.length;n++)if(rr(e,n)&&(t+=1),Vi(e,n)&&(t-=1),t===0&&n!==e.length-1)return!1;return!0}r(Yx,"IsGroup");function eS(e){return e.slice(1,e.length-1)}r(eS,"InGroup");function tS(e){let t=0;for(let n=0;n<e.length;n++)if(rr(e,n)&&(t+=1),Vi(e,n)&&(t-=1),dh(e,n)&&t===0)return!0;return!1}r(tS,"IsPrecedenceOr");function nS(e){for(let t=0;t<e.length;t++)if(rr(e,t))return!0;return!1}r(nS,"IsPrecedenceAnd");function rS(e){let[t,n]=[0,0],o=[];for(let u=0;u<e.length;u++)if(rr(e,u)&&(t+=1),Vi(e,u)&&(t-=1),dh(e,u)&&t===0){let s=e.slice(n,u);s.length>0&&o.push(ko(s)),n=u+1}let i=e.slice(n);return i.length>0&&o.push(ko(i)),o.length===0?{type:"const",const:""}:o.length===1?o[0]:{type:"or",expr:o}}r(rS,"Or");function oS(e){function t(i,u){if(!rr(i,u))throw new ra("TemplateLiteralParser: Index must point to open parens");let s=0;for(let a=u;a<i.length;a++)if(rr(i,a)&&(s+=1),Vi(i,a)&&(s-=1),s===0)return[u,a];throw new ra("TemplateLiteralParser: Unclosed group parens in expression")}r(t,"Group");function n(i,u){for(let s=u;s<i.length;s++)if(rr(i,s))return[u,s];return[u,i.length]}r(n,"Range");let o=[];for(let i=0;i<e.length;i++)if(rr(e,i)){let[u,s]=t(e,i),a=e.slice(u,s+1);o.push(ko(a)),i=s}else{let[u,s]=n(e,i),a=e.slice(u,s);a.length>0&&o.push(ko(a)),i=s-1}return o.length===0?{type:"const",const:""}:o.length===1?o[0]:{type:"and",expr:o}}r(oS,"And");function ko(e){return Yx(e)?ko(eS(e)):tS(e)?rS(e):nS(e)?oS(e):{type:"const",const:Xx(e)}}r(ko,"TemplateLiteralParse");function Mo(e){return ko(e.slice(1,e.length-1))}r(Mo,"TemplateLiteralParseExact");var sl=class sl extends pt{};r(sl,"TemplateLiteralFiniteError");var il=sl;function iS(e){return e.type==="or"&&e.expr.length===2&&e.expr[0].type==="const"&&e.expr[0].const==="0"&&e.expr[1].type==="const"&&e.expr[1].const==="[1-9][0-9]*"}r(iS,"IsNumberExpression");function sS(e){return e.type==="or"&&e.expr.length===2&&e.expr[0].type==="const"&&e.expr[0].const==="true"&&e.expr[1].type==="const"&&e.expr[1].const==="false"}r(sS,"IsBooleanExpression");function aS(e){return e.type==="const"&&e.const===".*"}r(aS,"IsStringExpression");function Xr(e){return iS(e)||aS(e)?!1:sS(e)?!0:e.type==="and"?e.expr.every(t=>Xr(t)):e.type==="or"?e.expr.every(t=>Xr(t)):e.type==="const"?!0:(()=>{throw new il("Unknown expression type")})()}r(Xr,"IsTemplateLiteralExpressionFinite");function fh(e){let t=Mo(e.pattern);return Xr(t)}r(fh,"IsTemplateLiteralFinite");var ul=class ul extends pt{};r(ul,"TemplateLiteralGenerateError");var al=ul;function*mh(e){if(e.length===1)return yield*e[0];for(let t of e[0])for(let n of mh(e.slice(1)))yield`${t}${n}`}r(mh,"GenerateReduce");function*uS(e){return yield*mh(e.expr.map(t=>[...zi(t)]))}r(uS,"GenerateAnd");function*cS(e){for(let t of e.expr)yield*zi(t)}r(cS,"GenerateOr");function*lS(e){return yield e.const}r(lS,"GenerateConst");function*zi(e){return e.type==="and"?yield*uS(e):e.type==="or"?yield*cS(e):e.type==="const"?yield*lS(e):(()=>{throw new al("Unknown expression")})()}r(zi,"TemplateLiteralExpressionGenerate");function oa(e){let t=Mo(e.pattern);return Xr(t)?[...zi(t)]:[]}r(oa,"TemplateLiteralGenerate");function we(e,t){return E({[B]:"Literal",const:e,type:typeof e},t)}r(we,"Literal");function ia(e){return E({[B]:"Boolean",type:"boolean"},e)}r(ia,"Boolean");function No(e){return E({[B]:"BigInt",type:"bigint"},e)}r(No,"BigInt");function tn(e){return E({[B]:"Number",type:"number"},e)}r(tn,"Number");function Rn(e){return E({[B]:"String",type:"string"},e)}r(Rn,"String");function*dS(e){let t=e.trim().replace(/"|'/g,"");return t==="boolean"?yield ia():t==="number"?yield tn():t==="bigint"?yield No():t==="string"?yield Rn():yield(()=>{let n=t.split("|").map(o=>we(o.trim()));return n.length===0?he():n.length===1?n[0]:Un(n)})()}r(dS,"FromUnion");function*fS(e){if(e[1]!=="{"){let t=we("$"),n=cl(e.slice(1));return yield*[t,...n]}for(let t=2;t<e.length;t++)if(e[t]==="}"){let n=dS(e.slice(2,t)),o=cl(e.slice(t+1));return yield*[...n,...o]}yield we(e)}r(fS,"FromTerminal");function*cl(e){for(let t=0;t<e.length;t++)if(e[t]==="$"){let n=we(e.slice(0,t)),o=fS(e.slice(t));return yield*[n,...o]}yield we(e)}r(cl,"FromSyntax");function ph(e){return[...cl(e)]}r(ph,"TemplateLiteralSyntax");var fl=class fl extends pt{};r(fl,"TemplateLiteralPatternError");var ll=fl;function mS(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}r(mS,"Escape");function gh(e,t){return zt(e)?e.pattern.slice(1,e.pattern.length-1):ge(e)?`(${e.anyOf.map(n=>gh(n,t)).join("|")})`:En(e)?`${t}${$i}`:Tn(e)?`${t}${$i}`:Hr(e)?`${t}${$i}`:nr(e)?`${t}${nl}`:Gt(e)?`${t}${mS(e.const.toString())}`:tr(e)?`${t}${tl}`:(()=>{throw new ll(`Unexpected Kind '${e[B]}'`)})()}r(gh,"Visit");function dl(e){return`^${e.map(t=>gh(t,"")).join("")}$`}r(dl,"TemplateLiteralPattern");function Yr(e){let n=oa(e).map(o=>we(o));return Un(n)}r(Yr,"TemplateLiteralToUnion");function sa(e,t){let n=Ce(e)?dl(ph(e)):dl(e);return E({[B]:"TemplateLiteral",type:"string",pattern:n},t)}r(sa,"TemplateLiteral");function pS(e){return oa(e).map(n=>n.toString())}r(pS,"FromTemplateLiteral");function gS(e){let t=[];for(let n of e)t.push(...Ot(n));return t}r(gS,"FromUnion");function hS(e){return[e.toString()]}r(hS,"FromLiteral");function Ot(e){return[...new Set(zt(e)?pS(e):ge(e)?gS(e.anyOf):Gt(e)?hS(e.const):En(e)?["[number]"]:Tn(e)?["[number]"]:[])]}r(Ot,"IndexPropertyKeys");function _S(e,t,n){let o={};for(let i of Object.getOwnPropertyNames(t))o[i]=wr(e,Ot(t[i]),n);return o}r(_S,"FromProperties");function yS(e,t,n){return _S(e,t.properties,n)}r(yS,"FromMappedResult");function hh(e,t,n){let o=yS(e,t,n);return ye(o)}r(hh,"IndexFromMappedResult");function yh(e,t){return e.map(n=>bh(n,t))}r(yh,"FromRest");function bS(e){return e.filter(t=>!pr(t))}r(bS,"FromIntersectRest");function wS(e,t){return aa(bS(yh(e,t)))}r(wS,"FromIntersect");function vS(e){return e.some(t=>pr(t))?[]:e}r(vS,"FromUnionRest");function IS(e,t){return Un(vS(yh(e,t)))}r(IS,"FromUnion");function xS(e,t){return t in e?e[t]:t==="[number]"?Un(e):he()}r(xS,"FromTuple");function SS(e,t){return t==="[number]"?e:he()}r(SS,"FromArray");function TS(e,t){return t in e?e[t]:he()}r(TS,"FromProperty");function bh(e,t){var n;return ze(e)?wS(e.allOf,t):ge(e)?IS(e.anyOf,t):Kt(e)?xS((n=e.items)!=null?n:[],t):vn(e)?SS(e.items,t):rt(e)?TS(e.properties,t):he()}r(bh,"IndexFromPropertyKey");function ml(e,t){return t.map(n=>bh(e,n))}r(ml,"IndexFromPropertyKeys");function _h(e,t){return Un(ml(e,t))}r(_h,"FromSchema");function wr(e,t,n){if(Je(e)||Je(t)){let o="Index types using Ref parameters require both Type and Key to be of TSchema";if(!Ht(e)||!Ht(t))throw new pt(o);return Fe("Index",[e,t])}return je(t)?hh(e,t,n):Vt(t)?wh(e,t,n):E(Ht(t)?_h(e,Ot(t)):_h(e,t),n)}r(wr,"Index");function ES(e,t,n){return{[t]:wr(e,[t],De(n))}}r(ES,"MappedIndexPropertyKey");function RS(e,t,n){return t.reduce((o,i)=>({...o,...ES(e,i,n)}),{})}r(RS,"MappedIndexPropertyKeys");function PS(e,t,n){return RS(e,t.keys,n)}r(PS,"MappedIndexProperties");function wh(e,t,n){let o=PS(e,t,n);return ye(o)}r(wh,"IndexFromMappedKey");function Co(e,t){return E({[B]:"Iterator",type:"Iterator",items:e},t)}r(Co,"Iterator");function kS(e){let t=[];for(let n in e)Lt(e[n])||t.push(n);return t}r(kS,"RequiredKeys");function MS(e,t){let n=kS(e),o=n.length>0?{[B]:"Object",type:"object",properties:e,required:n}:{[B]:"Object",type:"object",properties:e};return E(o,t)}r(MS,"_Object");var ke=MS;function ua(e,t){return E({[B]:"Promise",type:"Promise",item:e},t)}r(ua,"Promise");function NS(e){return E(Ke(e,[wn]))}r(NS,"RemoveReadonly");function CS(e){return E({...e,[wn]:"Readonly"})}r(CS,"AddReadonly");function LS(e,t){return t===!1?NS(e):CS(e)}r(LS,"ReadonlyWithFlag");function Ft(e,t){let n=t!=null?t:!0;return je(e)?vh(e,n):LS(e,n)}r(Ft,"Readonly");function OS(e,t){let n={};for(let o of globalThis.Object.getOwnPropertyNames(e))n[o]=Ft(e[o],t);return n}r(OS,"FromProperties");function AS(e,t){return OS(e.properties,t)}r(AS,"FromMappedResult");function vh(e,t){let n=AS(e,t);return ye(n)}r(vh,"ReadonlyFromMappedResult");function nn(e,t){return E(e.length>0?{[B]:"Tuple",type:"array",items:e,additionalItems:!1,minItems:e.length,maxItems:e.length}:{[B]:"Tuple",type:"array",minItems:e.length,maxItems:e.length},t)}r(nn,"Tuple");function Ih(e,t){return e in t?rn(e,t[e]):ye(t)}r(Ih,"FromMappedResult");function DS(e){return{[e]:we(e)}}r(DS,"MappedKeyToKnownMappedResultProperties");function jS(e){let t={};for(let n of e)t[n]=we(n);return t}r(jS,"MappedKeyToUnknownMappedResultProperties");function US(e,t){return ih(t,e)?DS(e):jS(t)}r(US,"MappedKeyToMappedResultProperties");function qS(e,t){let n=US(e,t);return Ih(e,n)}r(qS,"FromMappedKey");function Ki(e,t){return t.map(n=>rn(e,n))}r(Ki,"FromRest");function BS(e,t){let n={};for(let o of globalThis.Object.getOwnPropertyNames(t))n[o]=rn(e,t[o]);return n}r(BS,"FromProperties");function rn(e,t){var o;let n={...t};return Lt(t)?St(rn(e,Ke(t,[bt]))):To(t)?Ft(rn(e,Ke(t,[wn]))):je(t)?Ih(e,t.properties):Vt(t)?qS(e,t.keys):xn(t)?Po(Ki(e,t.parameters),rn(e,t.returns),n):Sn(t)?jn(Ki(e,t.parameters),rn(e,t.returns),n):Kr(t)?Ro(rn(e,t.items),n):Zr(t)?Co(rn(e,t.items),n):ze(t)?Tt(Ki(e,t.allOf),n):ge(t)?ve(Ki(e,t.anyOf),n):Kt(t)?nn(Ki(e,(o=t.items)!=null?o:[]),n):rt(t)?ke(BS(e,t.properties),n):vn(t)?Eo(rn(e,t.items),n):Qr(t)?ua(rn(e,t.item),n):t}r(rn,"FromSchemaType");function WS(e,t){let n={};for(let o of e)n[o]=rn(o,t);return n}r(WS,"MappedFunctionReturnType");function xh(e,t,n){let o=Ht(e)?Ot(e):e,i=t({[B]:"MappedKey",keys:o}),u=WS(o,i);return ke(u,n)}r(xh,"Mapped");function $S(e){return E(Ke(e,[bt]))}r($S,"RemoveOptional");function GS(e){return E({...e,[bt]:"Optional"})}r(GS,"AddOptional");function VS(e,t){return t===!1?$S(e):GS(e)}r(VS,"OptionalWithFlag");function St(e,t){let n=t!=null?t:!0;return je(e)?Sh(e,n):VS(e,n)}r(St,"Optional");function zS(e,t){let n={};for(let o of globalThis.Object.getOwnPropertyNames(e))n[o]=St(e[o],t);return n}r(zS,"FromProperties");function KS(e,t){return zS(e.properties,t)}r(KS,"FromMappedResult");function Sh(e,t){let n=KS(e,t);return ye(n)}r(Sh,"OptionalFromMappedResult");function Hi(e,t={}){let n=e.every(i=>rt(i)),o=Ht(t.unevaluatedProperties)?{unevaluatedProperties:t.unevaluatedProperties}:{};return E(t.unevaluatedProperties===!1||Ht(t.unevaluatedProperties)||n?{...o,[B]:"Intersect",type:"object",allOf:e}:{...o,[B]:"Intersect",allOf:e},t)}r(Hi,"IntersectCreate");function HS(e){return e.every(t=>Lt(t))}r(HS,"IsIntersectOptional");function ZS(e){return Ke(e,[bt])}r(ZS,"RemoveOptionalFromType");function Th(e){return e.map(t=>Lt(t)?ZS(t):t)}r(Th,"RemoveOptionalFromRest");function QS(e,t){return HS(e)?St(Hi(Th(e),t)):Hi(Th(e),t)}r(QS,"ResolveIntersect");function aa(e,t={}){if(e.length===1)return E(e[0],t);if(e.length===0)return he(t);if(e.some(n=>gr(n)))throw new Error("Cannot intersect transform types");return QS(e,t)}r(aa,"IntersectEvaluated");function Tt(e,t){if(e.length===1)return E(e[0],t);if(e.length===0)return he(t);if(e.some(n=>gr(n)))throw new Error("Cannot intersect transform types");return Hi(e,t)}r(Tt,"Intersect");function qn(...e){let[t,n]=typeof e[0]=="string"?[e[0],e[1]]:[e[0].$id,e[1]];if(typeof t!="string")throw new pt("Ref: $ref must be a string");return E({[B]:"Ref",$ref:t},n)}r(qn,"Ref");function JS(e,t){return Fe("Awaited",[Fe(e,t)])}r(JS,"FromComputed");function XS(e){return Fe("Awaited",[qn(e)])}r(XS,"FromRef");function YS(e){return Tt(Eh(e))}r(YS,"FromIntersect");function eT(e){return ve(Eh(e))}r(eT,"FromUnion");function tT(e){return Lo(e)}r(tT,"FromPromise");function Eh(e){return e.map(t=>Lo(t))}r(Eh,"FromRest");function Lo(e,t){return E(In(e)?JS(e.target,e.parameters):ze(e)?YS(e.allOf):ge(e)?eT(e.anyOf):Qr(e)?tT(e.item):Je(e)?XS(e.$ref):e,t)}r(Lo,"Awaited");function Rh(e){let t=[];for(let n of e)t.push(Zi(n));return t}r(Rh,"FromRest");function nT(e){let t=Rh(e);return uh(t)}r(nT,"FromIntersect");function rT(e){let t=Rh(e);return ah(t)}r(rT,"FromUnion");function oT(e){return e.map((t,n)=>n.toString())}r(oT,"FromTuple");function iT(e){return["[number]"]}r(iT,"FromArray");function sT(e){return globalThis.Object.getOwnPropertyNames(e)}r(sT,"FromProperties");function aT(e){return uT?globalThis.Object.getOwnPropertyNames(e).map(n=>n[0]==="^"&&n[n.length-1]==="$"?n.slice(1,n.length-1):n):[]}r(aT,"FromPatternProperties");function Zi(e){var t;return ze(e)?nT(e.allOf):ge(e)?rT(e.anyOf):Kt(e)?oT((t=e.items)!=null?t:[]):vn(e)?iT(e.items):rt(e)?sT(e.properties):Jr(e)?aT(e.patternProperties):[]}r(Zi,"KeyOfPropertyKeys");var uT=!1;function cT(e,t){return Fe("KeyOf",[Fe(e,t)])}r(cT,"FromComputed");function lT(e){return Fe("KeyOf",[qn(e)])}r(lT,"FromRef");function dT(e,t){let n=Zi(e),o=fT(n),i=Un(o);return E(i,t)}r(dT,"KeyOfFromType");function fT(e){return e.map(t=>t==="[number]"?tn():we(t))}r(fT,"KeyOfPropertyKeysToRest");function Oo(e,t){return In(e)?cT(e.target,e.parameters):Je(e)?lT(e.$ref):je(e)?Ph(e,t):dT(e,t)}r(Oo,"KeyOf");function mT(e,t){let n={};for(let o of globalThis.Object.getOwnPropertyNames(e))n[o]=Oo(e[o],De(t));return n}r(mT,"FromProperties");function pT(e,t){return mT(e.properties,t)}r(pT,"FromMappedResult");function Ph(e,t){let n=pT(e,t);return ye(n)}r(Ph,"KeyOfFromMappedResult");function gT(e){let t=[];for(let n of e)t.push(...Zi(n));return sh(t)}r(gT,"CompositeKeys");function hT(e){return e.filter(t=>!pr(t))}r(hT,"FilterNever");function _T(e,t){let n=[];for(let o of e)n.push(...ml(o,[t]));return hT(n)}r(_T,"CompositeProperty");function yT(e,t){let n={};for(let o of t)n[o]=aa(_T(e,o));return n}r(yT,"CompositeProperties");function kh(e,t){let n=gT(e),o=yT(e,n);return ke(o,t)}r(kh,"Composite");function ca(e){return E({[B]:"Date",type:"Date"},e)}r(ca,"Date");function la(e){return E({[B]:"Null",type:"null"},e)}r(la,"Null");function da(e){return E({[B]:"Symbol",type:"symbol"},e)}r(da,"Symbol");function fa(e){return E({[B]:"Undefined",type:"undefined"},e)}r(fa,"Undefined");function ma(e){return E({[B]:"Uint8Array",type:"Uint8Array"},e)}r(ma,"Uint8Array");function vr(e){return E({[B]:"Unknown"},e)}r(vr,"Unknown");function bT(e){return e.map(t=>pl(t,!1))}r(bT,"FromArray");function wT(e){let t={};for(let n of globalThis.Object.getOwnPropertyNames(e))t[n]=Ft(pl(e[n],!1));return t}r(wT,"FromProperties");function pa(e,t){return t===!0?e:Ft(e)}r(pa,"ConditionalReadonly");function pl(e,t){return Bc(e)?pa(br(),t):$c(e)?pa(br(),t):tt(e)?Ft(nn(bT(e))):er(e)?ma():zr(e)?ca():Re(e)?pa(ke(wT(e)),t):Wc(e)?pa(jn([],vr()),t):nt(e)?fa():Gc(e)?la():Vc(e)?da():Fi(e)?No():$t(e)?we(e):Yn(e)?we(e):Ce(e)?we(e):ke({})}r(pl,"FromValue");function Mh(e,t){return E(pl(e,!0),t)}r(Mh,"Const");function Nh(e,t){return xn(e)?nn(e.parameters,t):he(t)}r(Nh,"ConstructorParameters");function Ch(e,t){if(nt(e))throw new Error("Enum undefined or empty");let n=globalThis.Object.getOwnPropertyNames(e).filter(u=>isNaN(u)).map(u=>e[u]),i=[...new Set(n)].map(u=>we(u));return ve(i,{...t,[en]:"Enum"})}r(Ch,"Enum");var vl=class vl extends pt{};r(vl,"ExtendsResolverError");var hl=vl,R;(function(e){e[e.Union=0]="Union",e[e.True=1]="True",e[e.False=2]="False"})(R||(R={}));function on(e){return e===R.False?e:R.True}r(on,"IntoBooleanResult");function Fo(e){throw new hl(e)}r(Fo,"Throw");function ut(e){return I.IsNever(e)||I.IsIntersect(e)||I.IsUnion(e)||I.IsUnknown(e)||I.IsAny(e)}r(ut,"IsStructuralRight");function ct(e,t){return I.IsNever(t)?Uh(e,t):I.IsIntersect(t)?ga(e,t):I.IsUnion(t)?wl(e,t):I.IsUnknown(t)?$h(e,t):I.IsAny(t)?bl(e,t):Fo("StructuralRight")}r(ct,"StructuralRight");function bl(e,t){return R.True}r(bl,"FromAnyRight");function vT(e,t){return I.IsIntersect(t)?ga(e,t):I.IsUnion(t)&&t.anyOf.some(n=>I.IsAny(n)||I.IsUnknown(n))?R.True:I.IsUnion(t)?R.Union:I.IsUnknown(t)||I.IsAny(t)?R.True:R.Union}r(vT,"FromAny");function IT(e,t){return I.IsUnknown(e)?R.False:I.IsAny(e)?R.Union:I.IsNever(e)?R.True:R.False}r(IT,"FromArrayRight");function xT(e,t){return I.IsObject(t)&&ha(t)?R.True:ut(t)?ct(e,t):I.IsArray(t)?on(Me(e.items,t.items)):R.False}r(xT,"FromArray");function ST(e,t){return ut(t)?ct(e,t):I.IsAsyncIterator(t)?on(Me(e.items,t.items)):R.False}r(ST,"FromAsyncIterator");function TT(e,t){return ut(t)?ct(e,t):I.IsObject(t)?Et(e,t):I.IsRecord(t)?sn(e,t):I.IsBigInt(t)?R.True:R.False}r(TT,"FromBigInt");function Dh(e,t){return I.IsLiteralBoolean(e)||I.IsBoolean(e)?R.True:R.False}r(Dh,"FromBooleanRight");function ET(e,t){return ut(t)?ct(e,t):I.IsObject(t)?Et(e,t):I.IsRecord(t)?sn(e,t):I.IsBoolean(t)?R.True:R.False}r(ET,"FromBoolean");function RT(e,t){return ut(t)?ct(e,t):I.IsObject(t)?Et(e,t):I.IsConstructor(t)?e.parameters.length>t.parameters.length?R.False:e.parameters.every((n,o)=>on(Me(t.parameters[o],n))===R.True)?on(Me(e.returns,t.returns)):R.False:R.False}r(RT,"FromConstructor");function PT(e,t){return ut(t)?ct(e,t):I.IsObject(t)?Et(e,t):I.IsRecord(t)?sn(e,t):I.IsDate(t)?R.True:R.False}r(PT,"FromDate");function kT(e,t){return ut(t)?ct(e,t):I.IsObject(t)?Et(e,t):I.IsFunction(t)?e.parameters.length>t.parameters.length?R.False:e.parameters.every((n,o)=>on(Me(t.parameters[o],n))===R.True)?on(Me(e.returns,t.returns)):R.False:R.False}r(kT,"FromFunction");function jh(e,t){return I.IsLiteral(e)&&yt.IsNumber(e.const)||I.IsNumber(e)||I.IsInteger(e)?R.True:R.False}r(jh,"FromIntegerRight");function MT(e,t){return I.IsInteger(t)||I.IsNumber(t)?R.True:ut(t)?ct(e,t):I.IsObject(t)?Et(e,t):I.IsRecord(t)?sn(e,t):R.False}r(MT,"FromInteger");function ga(e,t){return t.allOf.every(n=>Me(e,n)===R.True)?R.True:R.False}r(ga,"FromIntersectRight");function NT(e,t){return e.allOf.some(n=>Me(n,t)===R.True)?R.True:R.False}r(NT,"FromIntersect");function CT(e,t){return ut(t)?ct(e,t):I.IsIterator(t)?on(Me(e.items,t.items)):R.False}r(CT,"FromIterator");function LT(e,t){return I.IsLiteral(t)&&t.const===e.const?R.True:ut(t)?ct(e,t):I.IsObject(t)?Et(e,t):I.IsRecord(t)?sn(e,t):I.IsString(t)?Wh(e,t):I.IsNumber(t)?qh(e,t):I.IsInteger(t)?jh(e,t):I.IsBoolean(t)?Dh(e,t):R.False}r(LT,"FromLiteral");function Uh(e,t){return R.False}r(Uh,"FromNeverRight");function OT(e,t){return R.True}r(OT,"FromNever");function Lh(e){let[t,n]=[e,0];for(;I.IsNot(t);)t=t.not,n+=1;return n%2===0?t:vr()}r(Lh,"UnwrapTNot");function FT(e,t){return I.IsNot(e)?Me(Lh(e),t):I.IsNot(t)?Me(e,Lh(t)):Fo("Invalid fallthrough for Not")}r(FT,"FromNot");function AT(e,t){return ut(t)?ct(e,t):I.IsObject(t)?Et(e,t):I.IsRecord(t)?sn(e,t):I.IsNull(t)?R.True:R.False}r(AT,"FromNull");function qh(e,t){return I.IsLiteralNumber(e)||I.IsNumber(e)||I.IsInteger(e)?R.True:R.False}r(qh,"FromNumberRight");function DT(e,t){return ut(t)?ct(e,t):I.IsObject(t)?Et(e,t):I.IsRecord(t)?sn(e,t):I.IsInteger(t)||I.IsNumber(t)?R.True:R.False}r(DT,"FromNumber");function At(e,t){return Object.getOwnPropertyNames(e.properties).length===t}r(At,"IsObjectPropertyCount");function Oh(e){return ha(e)}r(Oh,"IsObjectStringLike");function Fh(e){return At(e,0)||At(e,1)&&"description"in e.properties&&I.IsUnion(e.properties.description)&&e.properties.description.anyOf.length===2&&(I.IsString(e.properties.description.anyOf[0])&&I.IsUndefined(e.properties.description.anyOf[1])||I.IsString(e.properties.description.anyOf[1])&&I.IsUndefined(e.properties.description.anyOf[0]))}r(Fh,"IsObjectSymbolLike");function gl(e){return At(e,0)}r(gl,"IsObjectNumberLike");function Ah(e){return At(e,0)}r(Ah,"IsObjectBooleanLike");function jT(e){return At(e,0)}r(jT,"IsObjectBigIntLike");function UT(e){return At(e,0)}r(UT,"IsObjectDateLike");function qT(e){return ha(e)}r(qT,"IsObjectUint8ArrayLike");function BT(e){let t=tn();return At(e,0)||At(e,1)&&"length"in e.properties&&on(Me(e.properties.length,t))===R.True}r(BT,"IsObjectFunctionLike");function WT(e){return At(e,0)}r(WT,"IsObjectConstructorLike");function ha(e){let t=tn();return At(e,0)||At(e,1)&&"length"in e.properties&&on(Me(e.properties.length,t))===R.True}r(ha,"IsObjectArrayLike");function $T(e){let t=jn([br()],br());return At(e,0)||At(e,1)&&"then"in e.properties&&on(Me(e.properties.then,t))===R.True}r($T,"IsObjectPromiseLike");function Bh(e,t){return Me(e,t)===R.False||I.IsOptional(e)&&!I.IsOptional(t)?R.False:R.True}r(Bh,"Property");function Et(e,t){return I.IsUnknown(e)?R.False:I.IsAny(e)?R.Union:I.IsNever(e)||I.IsLiteralString(e)&&Oh(t)||I.IsLiteralNumber(e)&&gl(t)||I.IsLiteralBoolean(e)&&Ah(t)||I.IsSymbol(e)&&Fh(t)||I.IsBigInt(e)&&jT(t)||I.IsString(e)&&Oh(t)||I.IsSymbol(e)&&Fh(t)||I.IsNumber(e)&&gl(t)||I.IsInteger(e)&&gl(t)||I.IsBoolean(e)&&Ah(t)||I.IsUint8Array(e)&&qT(t)||I.IsDate(e)&&UT(t)||I.IsConstructor(e)&&WT(t)||I.IsFunction(e)&&BT(t)?R.True:I.IsRecord(e)&&I.IsString(_l(e))?t[en]==="Record"?R.True:R.False:I.IsRecord(e)&&I.IsNumber(_l(e))?At(t,0)?R.True:R.False:R.False}r(Et,"FromObjectRight");function GT(e,t){return ut(t)?ct(e,t):I.IsRecord(t)?sn(e,t):I.IsObject(t)?(()=>{for(let n of Object.getOwnPropertyNames(t.properties)){if(!(n in e.properties)&&!I.IsOptional(t.properties[n]))return R.False;if(I.IsOptional(t.properties[n]))return R.True;if(Bh(e.properties[n],t.properties[n])===R.False)return R.False}return R.True})():R.False}r(GT,"FromObject");function VT(e,t){return ut(t)?ct(e,t):I.IsObject(t)&&$T(t)?R.True:I.IsPromise(t)?on(Me(e.item,t.item)):R.False}r(VT,"FromPromise");function _l(e){return _r in e.patternProperties?tn():yr in e.patternProperties?Rn():Fo("Unknown record key pattern")}r(_l,"RecordKey");function yl(e){return _r in e.patternProperties?e.patternProperties[_r]:yr in e.patternProperties?e.patternProperties[yr]:Fo("Unable to get record value schema")}r(yl,"RecordValue");function sn(e,t){let[n,o]=[_l(t),yl(t)];return I.IsLiteralString(e)&&I.IsNumber(n)&&on(Me(e,o))===R.True?R.True:I.IsUint8Array(e)&&I.IsNumber(n)||I.IsString(e)&&I.IsNumber(n)||I.IsArray(e)&&I.IsNumber(n)?Me(e,o):I.IsObject(e)?(()=>{for(let i of Object.getOwnPropertyNames(e.properties))if(Bh(o,e.properties[i])===R.False)return R.False;return R.True})():R.False}r(sn,"FromRecordRight");function zT(e,t){return ut(t)?ct(e,t):I.IsObject(t)?Et(e,t):I.IsRecord(t)?Me(yl(e),yl(t)):R.False}r(zT,"FromRecord");function KT(e,t){let n=I.IsRegExp(e)?Rn():e,o=I.IsRegExp(t)?Rn():t;return Me(n,o)}r(KT,"FromRegExp");function Wh(e,t){return I.IsLiteral(e)&&yt.IsString(e.const)||I.IsString(e)?R.True:R.False}r(Wh,"FromStringRight");function HT(e,t){return ut(t)?ct(e,t):I.IsObject(t)?Et(e,t):I.IsRecord(t)?sn(e,t):I.IsString(t)?R.True:R.False}r(HT,"FromString");function ZT(e,t){return ut(t)?ct(e,t):I.IsObject(t)?Et(e,t):I.IsRecord(t)?sn(e,t):I.IsSymbol(t)?R.True:R.False}r(ZT,"FromSymbol");function QT(e,t){return I.IsTemplateLiteral(e)?Me(Yr(e),t):I.IsTemplateLiteral(t)?Me(e,Yr(t)):Fo("Invalid fallthrough for TemplateLiteral")}r(QT,"FromTemplateLiteral");function JT(e,t){return I.IsArray(t)&&e.items!==void 0&&e.items.every(n=>Me(n,t.items)===R.True)}r(JT,"IsArrayOfTuple");function XT(e,t){return I.IsNever(e)?R.True:I.IsUnknown(e)?R.False:I.IsAny(e)?R.Union:R.False}r(XT,"FromTupleRight");function YT(e,t){return ut(t)?ct(e,t):I.IsObject(t)&&ha(t)||I.IsArray(t)&&JT(e,t)?R.True:I.IsTuple(t)?yt.IsUndefined(e.items)&&!yt.IsUndefined(t.items)||!yt.IsUndefined(e.items)&&yt.IsUndefined(t.items)?R.False:yt.IsUndefined(e.items)&&!yt.IsUndefined(t.items)||e.items.every((n,o)=>Me(n,t.items[o])===R.True)?R.True:R.False:R.False}r(YT,"FromTuple");function eE(e,t){return ut(t)?ct(e,t):I.IsObject(t)?Et(e,t):I.IsRecord(t)?sn(e,t):I.IsUint8Array(t)?R.True:R.False}r(eE,"FromUint8Array");function tE(e,t){return ut(t)?ct(e,t):I.IsObject(t)?Et(e,t):I.IsRecord(t)?sn(e,t):I.IsVoid(t)?oE(e,t):I.IsUndefined(t)?R.True:R.False}r(tE,"FromUndefined");function wl(e,t){return t.anyOf.some(n=>Me(e,n)===R.True)?R.True:R.False}r(wl,"FromUnionRight");function nE(e,t){return e.anyOf.every(n=>Me(n,t)===R.True)?R.True:R.False}r(nE,"FromUnion");function $h(e,t){return R.True}r($h,"FromUnknownRight");function rE(e,t){return I.IsNever(t)?Uh(e,t):I.IsIntersect(t)?ga(e,t):I.IsUnion(t)?wl(e,t):I.IsAny(t)?bl(e,t):I.IsString(t)?Wh(e,t):I.IsNumber(t)?qh(e,t):I.IsInteger(t)?jh(e,t):I.IsBoolean(t)?Dh(e,t):I.IsArray(t)?IT(e,t):I.IsTuple(t)?XT(e,t):I.IsObject(t)?Et(e,t):I.IsUnknown(t)?R.True:R.False}r(rE,"FromUnknown");function oE(e,t){return I.IsUndefined(e)||I.IsUndefined(e)?R.True:R.False}r(oE,"FromVoidRight");function iE(e,t){return I.IsIntersect(t)?ga(e,t):I.IsUnion(t)?wl(e,t):I.IsUnknown(t)?$h(e,t):I.IsAny(t)?bl(e,t):I.IsObject(t)?Et(e,t):I.IsVoid(t)?R.True:R.False}r(iE,"FromVoid");function Me(e,t){return I.IsTemplateLiteral(e)||I.IsTemplateLiteral(t)?QT(e,t):I.IsRegExp(e)||I.IsRegExp(t)?KT(e,t):I.IsNot(e)||I.IsNot(t)?FT(e,t):I.IsAny(e)?vT(e,t):I.IsArray(e)?xT(e,t):I.IsBigInt(e)?TT(e,t):I.IsBoolean(e)?ET(e,t):I.IsAsyncIterator(e)?ST(e,t):I.IsConstructor(e)?RT(e,t):I.IsDate(e)?PT(e,t):I.IsFunction(e)?kT(e,t):I.IsInteger(e)?MT(e,t):I.IsIntersect(e)?NT(e,t):I.IsIterator(e)?CT(e,t):I.IsLiteral(e)?LT(e,t):I.IsNever(e)?OT(e,t):I.IsNull(e)?AT(e,t):I.IsNumber(e)?DT(e,t):I.IsObject(e)?GT(e,t):I.IsRecord(e)?zT(e,t):I.IsString(e)?HT(e,t):I.IsSymbol(e)?ZT(e,t):I.IsTuple(e)?YT(e,t):I.IsPromise(e)?VT(e,t):I.IsUint8Array(e)?eE(e,t):I.IsUndefined(e)?tE(e,t):I.IsUnion(e)?nE(e,t):I.IsUnknown(e)?rE(e,t):I.IsVoid(e)?iE(e,t):Fo(`Unknown left type operand '${e[B]}'`)}r(Me,"Visit");function Ir(e,t){return Me(e,t)}r(Ir,"ExtendsCheck");function sE(e,t,n,o,i){let u={};for(let s of globalThis.Object.getOwnPropertyNames(e))u[s]=Ao(e[s],t,n,o,De(i));return u}r(sE,"FromProperties");function aE(e,t,n,o,i){return sE(e.properties,t,n,o,i)}r(aE,"FromMappedResult");function Gh(e,t,n,o,i){let u=aE(e,t,n,o,i);return ye(u)}r(Gh,"ExtendsFromMappedResult");function uE(e,t,n,o){let i=Ir(e,t);return i===R.Union?ve([n,o]):i===R.True?n:o}r(uE,"ExtendsResolve");function Ao(e,t,n,o,i){return je(e)?Gh(e,t,n,o,i):Vt(e)?E(Vh(e,t,n,o,i)):E(uE(e,t,n,o),i)}r(Ao,"Extends");function cE(e,t,n,o,i){return{[e]:Ao(we(e),t,n,o,De(i))}}r(cE,"FromPropertyKey");function lE(e,t,n,o,i){return e.reduce((u,s)=>({...u,...cE(s,t,n,o,i)}),{})}r(lE,"FromPropertyKeys");function dE(e,t,n,o,i){return lE(e.keys,t,n,o,i)}r(dE,"FromMappedKey");function Vh(e,t,n,o,i){let u=dE(e,t,n,o,i);return ye(u)}r(Vh,"ExtendsFromMappedKey");function zh(e,t){return Do(Yr(e),t)}r(zh,"ExcludeFromTemplateLiteral");function fE(e,t){let n=e.filter(o=>Ir(o,t)===R.False);return n.length===1?n[0]:ve(n)}r(fE,"ExcludeRest");function Do(e,t,n={}){return zt(e)?E(zh(e,t),n):je(e)?E(Kh(e,t),n):E(ge(e)?fE(e.anyOf,t):Ir(e,t)!==R.False?he():e,n)}r(Do,"Exclude");function mE(e,t){let n={};for(let o of globalThis.Object.getOwnPropertyNames(e))n[o]=Do(e[o],t);return n}r(mE,"FromProperties");function pE(e,t){return mE(e.properties,t)}r(pE,"FromMappedResult");function Kh(e,t){let n=pE(e,t);return ye(n)}r(Kh,"ExcludeFromMappedResult");function Hh(e,t){return jo(Yr(e),t)}r(Hh,"ExtractFromTemplateLiteral");function gE(e,t){let n=e.filter(o=>Ir(o,t)!==R.False);return n.length===1?n[0]:ve(n)}r(gE,"ExtractRest");function jo(e,t,n){return zt(e)?E(Hh(e,t),n):je(e)?E(Zh(e,t),n):E(ge(e)?gE(e.anyOf,t):Ir(e,t)!==R.False?e:he(),n)}r(jo,"Extract");function hE(e,t){let n={};for(let o of globalThis.Object.getOwnPropertyNames(e))n[o]=jo(e[o],t);return n}r(hE,"FromProperties");function _E(e,t){return hE(e.properties,t)}r(_E,"FromMappedResult");function Zh(e,t){let n=_E(e,t);return ye(n)}r(Zh,"ExtractFromMappedResult");function Qh(e,t){return xn(e)?E(e.returns,t):he(t)}r(Qh,"InstanceType");function _a(e){return Ft(St(e))}r(_a,"ReadonlyOptional");function eo(e,t,n){return E({[B]:"Record",type:"object",patternProperties:{[e]:t}},n)}r(eo,"RecordCreateFromPattern");function Il(e,t,n){let o={};for(let i of e)o[i]=t;return ke(o,{...n,[en]:"Record"})}r(Il,"RecordCreateFromKeys");function yE(e,t,n){return fh(e)?Il(Ot(e),t,n):eo(e.pattern,t,n)}r(yE,"FromTemplateLiteralKey");function bE(e,t,n){return Il(Ot(ve(e)),t,n)}r(bE,"FromUnionKey");function wE(e,t,n){return Il([e.toString()],t,n)}r(wE,"FromLiteralKey");function vE(e,t,n){return eo(e.source,t,n)}r(vE,"FromRegExpKey");function IE(e,t,n){let o=nt(e.pattern)?yr:e.pattern;return eo(o,t,n)}r(IE,"FromStringKey");function xE(e,t,n){return eo(yr,t,n)}r(xE,"FromAnyKey");function SE(e,t,n){return eo(oh,t,n)}r(SE,"FromNeverKey");function TE(e,t,n){return ke({true:t,false:t},n)}r(TE,"FromBooleanKey");function EE(e,t,n){return eo(_r,t,n)}r(EE,"FromIntegerKey");function RE(e,t,n){return eo(_r,t,n)}r(RE,"FromNumberKey");function ya(e,t,n={}){return ge(e)?bE(e.anyOf,t,n):zt(e)?yE(e,t,n):Gt(e)?wE(e.const,t,n):tr(e)?TE(e,t,n):Tn(e)?EE(e,t,n):En(e)?RE(e,t,n):Zc(e)?vE(e,t,n):nr(e)?IE(e,t,n):Kc(e)?xE(e,t,n):pr(e)?SE(e,t,n):he(n)}r(ya,"Record");function ba(e){return globalThis.Object.getOwnPropertyNames(e.patternProperties)[0]}r(ba,"RecordPattern");function Jh(e){let t=ba(e);return t===yr?Rn():t===_r?tn():Rn({pattern:t})}r(Jh,"RecordKey");function wa(e){return e.patternProperties[ba(e)]}r(wa,"RecordValue");function PE(e,t){return t.parameters=Qi(e,t.parameters),t.returns=Pn(e,t.returns),t}r(PE,"FromConstructor");function kE(e,t){return t.parameters=Qi(e,t.parameters),t.returns=Pn(e,t.returns),t}r(kE,"FromFunction");function ME(e,t){return t.allOf=Qi(e,t.allOf),t}r(ME,"FromIntersect");function NE(e,t){return t.anyOf=Qi(e,t.anyOf),t}r(NE,"FromUnion");function CE(e,t){return nt(t.items)||(t.items=Qi(e,t.items)),t}r(CE,"FromTuple");function LE(e,t){return t.items=Pn(e,t.items),t}r(LE,"FromArray");function OE(e,t){return t.items=Pn(e,t.items),t}r(OE,"FromAsyncIterator");function FE(e,t){return t.items=Pn(e,t.items),t}r(FE,"FromIterator");function AE(e,t){return t.item=Pn(e,t.item),t}r(AE,"FromPromise");function DE(e,t){let n=BE(e,t.properties);return{...t,...ke(n)}}r(DE,"FromObject");function jE(e,t){let n=Pn(e,Jh(t)),o=Pn(e,wa(t)),i=ya(n,o);return{...t,...i}}r(jE,"FromRecord");function UE(e,t){return t.index in e?e[t.index]:vr()}r(UE,"FromArgument");function qE(e,t){let n=To(t),o=Lt(t),i=Pn(e,t);return n&&o?_a(i):n&&!o?Ft(i):!n&&o?St(i):i}r(qE,"FromProperty");function BE(e,t){return globalThis.Object.getOwnPropertyNames(t).reduce((n,o)=>({...n,[o]:qE(e,t[o])}),{})}r(BE,"FromProperties");function Qi(e,t){return t.map(n=>Pn(e,n))}r(Qi,"FromTypes");function Pn(e,t){return xn(t)?PE(e,t):Sn(t)?kE(e,t):ze(t)?ME(e,t):ge(t)?NE(e,t):Kt(t)?CE(e,t):vn(t)?LE(e,t):Kr(t)?OE(e,t):Zr(t)?FE(e,t):Qr(t)?AE(e,t):rt(t)?DE(e,t):Jr(t)?jE(e,t):Hc(t)?UE(e,t):t}r(Pn,"FromType");function Xh(e,t){return Pn(t,So(e))}r(Xh,"Instantiate");function Yh(e){return E({[B]:"Integer",type:"integer"},e)}r(Yh,"Integer");function WE(e,t,n){return{[e]:kn(we(e),t,De(n))}}r(WE,"MappedIntrinsicPropertyKey");function $E(e,t,n){return e.reduce((i,u)=>({...i,...WE(u,t,n)}),{})}r($E,"MappedIntrinsicPropertyKeys");function GE(e,t,n){return $E(e.keys,t,n)}r(GE,"MappedIntrinsicProperties");function e_(e,t,n){let o=GE(e,t,n);return ye(o)}r(e_,"IntrinsicFromMappedKey");function VE(e){let[t,n]=[e.slice(0,1),e.slice(1)];return[t.toLowerCase(),n].join("")}r(VE,"ApplyUncapitalize");function zE(e){let[t,n]=[e.slice(0,1),e.slice(1)];return[t.toUpperCase(),n].join("")}r(zE,"ApplyCapitalize");function KE(e){return e.toUpperCase()}r(KE,"ApplyUppercase");function HE(e){return e.toLowerCase()}r(HE,"ApplyLowercase");function ZE(e,t,n){let o=Mo(e.pattern);if(!Xr(o))return{...e,pattern:t_(e.pattern,t)};let s=[...zi(o)].map(l=>we(l)),a=n_(s,t),c=ve(a);return sa([c],n)}r(ZE,"FromTemplateLiteral");function t_(e,t){return typeof e=="string"?t==="Uncapitalize"?VE(e):t==="Capitalize"?zE(e):t==="Uppercase"?KE(e):t==="Lowercase"?HE(e):e:e.toString()}r(t_,"FromLiteralValue");function n_(e,t){return e.map(n=>kn(n,t))}r(n_,"FromRest");function kn(e,t,n={}){return Vt(e)?e_(e,t,n):zt(e)?ZE(e,t,n):ge(e)?ve(n_(e.anyOf,t),n):Gt(e)?we(t_(e.const,t),n):E(e,n)}r(kn,"Intrinsic");function r_(e,t={}){return kn(e,"Capitalize",t)}r(r_,"Capitalize");function o_(e,t={}){return kn(e,"Lowercase",t)}r(o_,"Lowercase");function i_(e,t={}){return kn(e,"Uncapitalize",t)}r(i_,"Uncapitalize");function s_(e,t={}){return kn(e,"Uppercase",t)}r(s_,"Uppercase");function QE(e,t,n){let o={};for(let i of globalThis.Object.getOwnPropertyNames(e))o[i]=xr(e[i],t,De(n));return o}r(QE,"FromProperties");function JE(e,t,n){return QE(e.properties,t,n)}r(JE,"FromMappedResult");function a_(e,t,n){let o=JE(e,t,n);return ye(o)}r(a_,"OmitFromMappedResult");function XE(e,t){return e.map(n=>xl(n,t))}r(XE,"FromIntersect");function YE(e,t){return e.map(n=>xl(n,t))}r(YE,"FromUnion");function eR(e,t){let{[t]:n,...o}=e;return o}r(eR,"FromProperty");function tR(e,t){return t.reduce((n,o)=>eR(n,o),e)}r(tR,"FromProperties");function nR(e,t){let n=Ke(e,[at,"$id","required","properties"]),o=tR(e.properties,t);return ke(o,n)}r(nR,"FromObject");function rR(e){let t=e.reduce((n,o)=>ta(o)?[...n,we(o)]:n,[]);return ve(t)}r(rR,"UnionFromPropertyKeys");function xl(e,t){return ze(e)?Tt(XE(e.allOf,t)):ge(e)?ve(YE(e.anyOf,t)):rt(e)?nR(e,t):ke({})}r(xl,"OmitResolve");function xr(e,t,n){let o=tt(t)?rR(t):t,i=Ht(t)?Ot(t):t,u=Je(e),s=Je(t);return je(e)?a_(e,i,n):Vt(t)?u_(e,t,n):u&&s?Fe("Omit",[e,o],n):!u&&s?Fe("Omit",[e,o],n):u&&!s?Fe("Omit",[e,o],n):E({...xl(e,i),...n})}r(xr,"Omit");function oR(e,t,n){return{[t]:xr(e,[t],De(n))}}r(oR,"FromPropertyKey");function iR(e,t,n){return t.reduce((o,i)=>({...o,...oR(e,i,n)}),{})}r(iR,"FromPropertyKeys");function sR(e,t,n){return iR(e,t.keys,n)}r(sR,"FromMappedKey");function u_(e,t,n){let o=sR(e,t,n);return ye(o)}r(u_,"OmitFromMappedKey");function aR(e,t,n){let o={};for(let i of globalThis.Object.getOwnPropertyNames(e))o[i]=Sr(e[i],t,De(n));return o}r(aR,"FromProperties");function uR(e,t,n){return aR(e.properties,t,n)}r(uR,"FromMappedResult");function c_(e,t,n){let o=uR(e,t,n);return ye(o)}r(c_,"PickFromMappedResult");function cR(e,t){return e.map(n=>Sl(n,t))}r(cR,"FromIntersect");function lR(e,t){return e.map(n=>Sl(n,t))}r(lR,"FromUnion");function dR(e,t){let n={};for(let o of t)o in e&&(n[o]=e[o]);return n}r(dR,"FromProperties");function fR(e,t){let n=Ke(e,[at,"$id","required","properties"]),o=dR(e.properties,t);return ke(o,n)}r(fR,"FromObject");function mR(e){let t=e.reduce((n,o)=>ta(o)?[...n,we(o)]:n,[]);return ve(t)}r(mR,"UnionFromPropertyKeys");function Sl(e,t){return ze(e)?Tt(cR(e.allOf,t)):ge(e)?ve(lR(e.anyOf,t)):rt(e)?fR(e,t):ke({})}r(Sl,"PickResolve");function Sr(e,t,n){let o=tt(t)?mR(t):t,i=Ht(t)?Ot(t):t,u=Je(e),s=Je(t);return je(e)?c_(e,i,n):Vt(t)?l_(e,t,n):u&&s?Fe("Pick",[e,o],n):!u&&s?Fe("Pick",[e,o],n):u&&!s?Fe("Pick",[e,o],n):E({...Sl(e,i),...n})}r(Sr,"Pick");function pR(e,t,n){return{[t]:Sr(e,[t],De(n))}}r(pR,"FromPropertyKey");function gR(e,t,n){return t.reduce((o,i)=>({...o,...pR(e,i,n)}),{})}r(gR,"FromPropertyKeys");function hR(e,t,n){return gR(e,t.keys,n)}r(hR,"FromMappedKey");function l_(e,t,n){let o=hR(e,t,n);return ye(o)}r(l_,"PickFromMappedKey");function _R(e,t){return Fe("Partial",[Fe(e,t)])}r(_R,"FromComputed");function yR(e){return Fe("Partial",[qn(e)])}r(yR,"FromRef");function bR(e){let t={};for(let n of globalThis.Object.getOwnPropertyNames(e))t[n]=St(e[n]);return t}r(bR,"FromProperties");function wR(e){let t=Ke(e,[at,"$id","required","properties"]),n=bR(e.properties);return ke(n,t)}r(wR,"FromObject");function d_(e){return e.map(t=>f_(t))}r(d_,"FromRest");function f_(e){return In(e)?_R(e.target,e.parameters):Je(e)?yR(e.$ref):ze(e)?Tt(d_(e.allOf)):ge(e)?ve(d_(e.anyOf)):rt(e)?wR(e):Hr(e)||tr(e)||Tn(e)||Gt(e)||ji(e)||En(e)||nr(e)||Ui(e)||qi(e)?e:ke({})}r(f_,"PartialResolve");function Uo(e,t){return je(e)?m_(e,t):E({...f_(e),...t})}r(Uo,"Partial");function vR(e,t){let n={};for(let o of globalThis.Object.getOwnPropertyNames(e))n[o]=Uo(e[o],De(t));return n}r(vR,"FromProperties");function IR(e,t){return vR(e.properties,t)}r(IR,"FromMappedResult");function m_(e,t){let n=IR(e,t);return ye(n)}r(m_,"PartialFromMappedResult");function xR(e,t){return Fe("Required",[Fe(e,t)])}r(xR,"FromComputed");function SR(e){return Fe("Required",[qn(e)])}r(SR,"FromRef");function TR(e){let t={};for(let n of globalThis.Object.getOwnPropertyNames(e))t[n]=Ke(e[n],[bt]);return t}r(TR,"FromProperties");function ER(e){let t=Ke(e,[at,"$id","required","properties"]),n=TR(e.properties);return ke(n,t)}r(ER,"FromObject");function p_(e){return e.map(t=>g_(t))}r(p_,"FromRest");function g_(e){return In(e)?xR(e.target,e.parameters):Je(e)?SR(e.$ref):ze(e)?Tt(p_(e.allOf)):ge(e)?ve(p_(e.anyOf)):rt(e)?ER(e):Hr(e)||tr(e)||Tn(e)||Gt(e)||ji(e)||En(e)||nr(e)||Ui(e)||qi(e)?e:ke({})}r(g_,"RequiredResolve");function qo(e,t){return je(e)?h_(e,t):E({...g_(e),...t})}r(qo,"Required");function RR(e,t){let n={};for(let o of globalThis.Object.getOwnPropertyNames(e))n[o]=qo(e[o],t);return n}r(RR,"FromProperties");function PR(e,t){return RR(e.properties,t)}r(PR,"FromMappedResult");function h_(e,t){let n=PR(e,t);return ye(n)}r(h_,"RequiredFromMappedResult");function kR(e,t){return t.map(n=>Je(n)?Tl(e,n.$ref):Zt(e,n))}r(kR,"DereferenceParameters");function Tl(e,t){return t in e?Je(e[t])?Tl(e,e[t].$ref):Zt(e,e[t]):he()}r(Tl,"Dereference");function MR(e){return Lo(e[0])}r(MR,"FromAwaited");function NR(e){return wr(e[0],e[1])}r(NR,"FromIndex");function CR(e){return Oo(e[0])}r(CR,"FromKeyOf");function LR(e){return Uo(e[0])}r(LR,"FromPartial");function OR(e){return xr(e[0],e[1])}r(OR,"FromOmit");function FR(e){return Sr(e[0],e[1])}r(FR,"FromPick");function AR(e){return qo(e[0])}r(AR,"FromRequired");function DR(e,t,n){let o=kR(e,n);return t==="Awaited"?MR(o):t==="Index"?NR(o):t==="KeyOf"?CR(o):t==="Partial"?LR(o):t==="Omit"?OR(o):t==="Pick"?FR(o):t==="Required"?AR(o):he()}r(DR,"FromComputed");function jR(e,t){return Eo(Zt(e,t))}r(jR,"FromArray");function UR(e,t){return Ro(Zt(e,t))}r(UR,"FromAsyncIterator");function qR(e,t,n){return Po(Ji(e,t),Zt(e,n))}r(qR,"FromConstructor");function BR(e,t,n){return jn(Ji(e,t),Zt(e,n))}r(BR,"FromFunction");function WR(e,t){return Tt(Ji(e,t))}r(WR,"FromIntersect");function $R(e,t){return Co(Zt(e,t))}r($R,"FromIterator");function GR(e,t){return ke(globalThis.Object.keys(t).reduce((n,o)=>({...n,[o]:Zt(e,t[o])}),{}))}r(GR,"FromObject");function VR(e,t){let[n,o]=[Zt(e,wa(t)),ba(t)],i=So(t);return i.patternProperties[o]=n,i}r(VR,"FromRecord");function zR(e,t){return Je(t)?{...Tl(e,t.$ref),[at]:t[at]}:t}r(zR,"FromTransform");function KR(e,t){return nn(Ji(e,t))}r(KR,"FromTuple");function HR(e,t){return ve(Ji(e,t))}r(HR,"FromUnion");function Ji(e,t){return t.map(n=>Zt(e,n))}r(Ji,"FromTypes");function Zt(e,t){return Lt(t)?E(Zt(e,Ke(t,[bt])),t):To(t)?E(Zt(e,Ke(t,[wn])),t):gr(t)?E(zR(e,t),t):vn(t)?E(jR(e,t.items),t):Kr(t)?E(UR(e,t.items),t):In(t)?E(DR(e,t.target,t.parameters)):xn(t)?E(qR(e,t.parameters,t.returns),t):Sn(t)?E(BR(e,t.parameters,t.returns),t):ze(t)?E(WR(e,t.allOf),t):Zr(t)?E($R(e,t.items),t):rt(t)?E(GR(e,t.properties),t):Jr(t)?E(VR(e,t)):Kt(t)?E(KR(e,t.items||[]),t):ge(t)?E(HR(e,t.anyOf),t):t}r(Zt,"FromType");function ZR(e,t){return t in e?Zt(e,e[t]):he()}r(ZR,"ComputeType");function __(e){return globalThis.Object.getOwnPropertyNames(e).reduce((t,n)=>({...t,[n]:ZR(e,n)}),{})}r(__,"ComputeModuleProperties");var Rl=class Rl{constructor(t){let n=__(t),o=this.WithIdentifiers(n);this.$defs=o}Import(t,n){let o={...this.$defs,[t]:E(this.$defs[t],n)};return E({[B]:"Import",$defs:o,$ref:t})}WithIdentifiers(t){return globalThis.Object.getOwnPropertyNames(t).reduce((n,o)=>({...n,[o]:{...t[o],$id:o}}),{})}};r(Rl,"TModule");var El=Rl;function y_(e){return new El(e)}r(y_,"Module");function b_(e,t){return E({[B]:"Not",not:e},t)}r(b_,"Not");function w_(e,t){return Sn(e)?nn(e.parameters,t):he()}r(w_,"Parameters");var QR=0;function v_(e,t={}){nt(t.$id)&&(t.$id=`T${QR++}`);let n=So(e({[B]:"This",$ref:`${t.$id}`}));return n.$id=t.$id,E({[en]:"Recursive",...n},t)}r(v_,"Recursive");function I_(e,t){let n=Ce(e)?new globalThis.RegExp(e):e;return E({[B]:"RegExp",type:"RegExp",source:n.source,flags:n.flags},t)}r(I_,"RegExp");function JR(e){var t;return ze(e)?e.allOf:ge(e)?e.anyOf:Kt(e)?(t=e.items)!=null?t:[]:[]}r(JR,"RestResolve");function x_(e){return JR(e)}r(x_,"Rest");function S_(e,t){return Sn(e)?E(e.returns,t):he(t)}r(S_,"ReturnType");var Ml=class Ml{constructor(t){this.schema=t}Decode(t){return new kl(this.schema,t)}};r(Ml,"TransformDecodeBuilder");var Pl=Ml,Nl=class Nl{constructor(t,n){this.schema=t,this.decode=n}EncodeTransform(t,n){let u={Encode:r(s=>n[at].Encode(t(s)),"Encode"),Decode:r(s=>this.decode(n[at].Decode(s)),"Decode")};return{...n,[at]:u}}EncodeSchema(t,n){let o={Decode:this.decode,Encode:t};return{...n,[at]:o}}Encode(t){return gr(this.schema)?this.EncodeTransform(t,this.schema):this.EncodeSchema(t,this.schema)}};r(Nl,"TransformEncodeBuilder");var kl=Nl;function T_(e){return new Pl(e)}r(T_,"Transform");function E_(e={}){var t;return E({[B]:(t=e[B])!=null?t:"Unsafe"},e)}r(E_,"Unsafe");function R_(e){return E({[B]:"Void",type:"void"},e)}r(R_,"Void");var Cl={};Du(Cl,{Any:()=>br,Argument:()=>ch,Array:()=>Eo,AsyncIterator:()=>Ro,Awaited:()=>Lo,BigInt:()=>No,Boolean:()=>ia,Capitalize:()=>r_,Composite:()=>kh,Const:()=>Mh,Constructor:()=>Po,ConstructorParameters:()=>Nh,Date:()=>ca,Enum:()=>Ch,Exclude:()=>Do,Extends:()=>Ao,Extract:()=>jo,Function:()=>jn,Index:()=>wr,InstanceType:()=>Qh,Instantiate:()=>Xh,Integer:()=>Yh,Intersect:()=>Tt,Iterator:()=>Co,KeyOf:()=>Oo,Literal:()=>we,Lowercase:()=>o_,Mapped:()=>xh,Module:()=>y_,Never:()=>he,Not:()=>b_,Null:()=>la,Number:()=>tn,Object:()=>ke,Omit:()=>xr,Optional:()=>St,Parameters:()=>w_,Partial:()=>Uo,Pick:()=>Sr,Promise:()=>ua,Readonly:()=>Ft,ReadonlyOptional:()=>_a,Record:()=>ya,Recursive:()=>v_,Ref:()=>qn,RegExp:()=>I_,Required:()=>qo,Rest:()=>x_,ReturnType:()=>S_,String:()=>Rn,Symbol:()=>da,TemplateLiteral:()=>sa,Transform:()=>T_,Tuple:()=>nn,Uint8Array:()=>ma,Uncapitalize:()=>i_,Undefined:()=>fa,Union:()=>ve,Unknown:()=>vr,Unsafe:()=>E_,Uppercase:()=>s_,Void:()=>R_});var Bn=Cl;var XR=500,c$=8192-XR;var YR=Bn.Object({relativePath:Bn.Optional(Bn.String()),uri:Bn.String(),source:Bn.String(),languageId:Bn.String()}),l$=Bn.Intersect([YR,Bn.Object({offset:Bn.Number()})]);var Pa=Qn(require("path")),$n=require("worker_threads");function qP(e){return new Promise(t=>{setTimeout(()=>t(`delay: ${e}`),e)})}r(qP,"sleep");var cy=["getSimilarSnippets","sleep"],rd=class rd{constructor(){this.nextHandlerId=0;this.handlers=new Map;this.fns=new Map;this.getSimilarSnippets=dg;this.sleep=qP;var t;!$n.isMainThread&&((t=$n.workerData)!=null&&t.port)&&(uy(),process.cwd=()=>$n.workerData.cwd,this.configureWorkerResponse($n.workerData.port))}initWorker(){let{port1:t,port2:n}=new $n.MessageChannel;this.port=t,this.worker=new $n.Worker(Pa.default.resolve(Pa.default.extname(__filename)!==".ts"?__dirname:Pa.default.resolve(__dirname,"../../dist"),"workerProxy.js"),{workerData:{port:n,cwd:process.cwd()},transferList:[n]}),this.port.on("message",o=>this.handleMessage(o)),this.port.on("error",o=>this.handleError(o))}startThreading(){if(this.worker)throw new Error("Worker thread already initialized.");this.proxyFunctions(),this.initWorker()}stopThreading(){this.worker&&(this.worker.terminate(),this.worker.removeAllListeners(),this.worker=void 0,this.unproxyFunctions(),this.handlers.clear())}proxyFunctions(){for(let t of cy)this.fns.set(t,this[t]),this.proxy(t)}unproxyFunctions(){for(let t of cy){let n=this.fns.get(t);if(n)this[t]=n;else throw new Error(`Unproxy function not found: ${t}`)}}configureWorkerResponse(t){this.port=t,this.port.on("message",n=>void this.onMessage(n))}async onMessage({id:t,fn:n,args:o}){let i=this[n];if(!i)throw new Error(`Function not found: ${n}`);try{let u=await i.apply(this,o);this.port.postMessage({id:t,res:u})}catch(u){if(!(u instanceof Error))throw u;typeof u.code=="string"?this.port.postMessage({id:t,err:u,code:u.code}):this.port.postMessage({id:t,err:u})}}handleMessage({id:t,err:n,code:o,res:i}){let u=this.handlers.get(t);u&&(this.handlers.delete(t),n?(n.code=o,u.reject(n)):u.resolve(i))}handleError(t){var o;let n;if(t instanceof Error){n=t,n.code==="MODULE_NOT_FOUND"&&((o=n.message)!=null&&o.endsWith("workerProxy.js'"))&&(n=new dr("Failed to load workerProxy.js"));let i=new Error().stack;n.stack&&(i!=null&&i.match(/^Error\n/))&&(n.stack+=i.replace(/^Error/,""))}else t&&typeof t=="object"&&"name"in t&&t.name==="ExitStatus"&&"status"in t&&typeof t.status=="number"?(n=new Error(`workerProxy.js exited with status ${t.status}`),n.code=`CopilotPromptWorkerExit${t.status}`):n=new Error(`Non-error thrown: ${JSON.stringify(t)}`);for(let i of this.handlers.values())i.reject(n);throw n}proxy(t){this[t]=function(...n){let o=this.nextHandlerId++;return new Promise((i,u)=>{var s;this.handlers.set(o,{resolve:i,reject:u}),(s=this.port)==null||s.postMessage({id:o,fn:t,args:n})})}}};r(rd,"WorkerProxy");var nd=rd,BP=new nd;var od=class od{constructor(t,n,o){this.languageId=t;this.nodeMatch=n;this.nodeTypesWithBlockOrStmtChild=o}async getNodeMatchAtPosition(t,n,o){let i=await Vr(this.languageId,t);try{let s=i.rootNode.descendantForIndex(n);for(;s;){let a=this.nodeMatch[s.type];if(a){if(!this.nodeTypesWithBlockOrStmtChild.has(s.type))break;let c=this.nodeTypesWithBlockOrStmtChild.get(s.type),l=c==""?s.namedChildren[0]:s.childForFieldName(c);if((l==null?void 0:l.type)==a)break}s=s.parent}return s?o(s):void 0}finally{i.delete()}}getNextBlockAtPosition(t,n,o){return this.getNodeMatchAtPosition(t,n,i=>{let u=i.children.reverse().find(s=>s.type==this.nodeMatch[i.type]);if(u){if(this.languageId=="python"&&u.parent){let s=u.parent.type==":"?u.parent.parent:u.parent,a=s==null?void 0:s.nextSibling;for(;a&&a.type=="comment";){let c=a.startPosition.row==u.endPosition.row&&a.startPosition.column>=u.endPosition.column,l=a.startPosition.row>s.endPosition.row&&a.startPosition.column>s.startPosition.column;if(c||l)u=a,a=a.nextSibling;else break}}if(!(u.endIndex>=u.tree.rootNode.endIndex-1&&(u.hasError()||u.parent.hasError())))return o(u)}})}async isBlockBodyFinished(t,n,o){let i=(t+n).trimEnd(),u=await this.getNextBlockAtPosition(i,o,s=>s.endIndex);if(u!==void 0&&u<i.length){let s=u-t.length;return s>0?s:void 0}}getNodeStart(t,n){let o=t.trimEnd();return this.getNodeMatchAtPosition(o,n,i=>i.startIndex)}};r(od,"BaseBlockParser");var ka=od,id=class id extends ka{constructor(n,o,i,u,s){super(n,u,s);this.blockEmptyMatch=o;this.lineMatch=i}isBlockStart(n){return this.lineMatch.test(n.trimStart())}async isBlockBodyEmpty(n,o){let i=await this.getNextBlockAtPosition(n,o,u=>{u.startIndex<o&&(o=u.startIndex);let s=n.substring(o,u.endIndex).trim();return s==""||s.replace(/\s/g,"")==this.blockEmptyMatch});return i===void 0||i}async isEmptyBlockStart(n,o){return o=dy(n,o),this.isBlockStart($P(n,o))&&this.isBlockBodyEmpty(n,o)}};r(id,"RegexBasedBlockParser");var Ma=id;function $P(e,t){let n=e.lastIndexOf(`
`,t-1),o=e.indexOf(`
`,t);return o<0&&(o=e.length),e.slice(n+1,o)}r($P,"getLineAtOffset");function dy(e,t){let n=t;for(;n>0&&/\s/.test(e.charAt(n-1));)n--;return n}r(dy,"rewindToNearestNonWs");function ly(e,t){let n=e.startIndex,o=e.startIndex-e.startPosition.column,i=t.substring(o,n);if(/^\s*$/.test(i))return i}r(ly,"indent");function GP(e,t,n){if(t.startPosition.row<=e.startPosition.row)return!1;let o=ly(e,n),i=ly(t,n);return o!==void 0&&i!==void 0&&o.startsWith(i)}r(GP,"outdented");var sd=class sd extends ka{constructor(n,o,i,u,s,a,c){super(n,o,i);this.startKeywords=u;this.blockNodeType=s;this.emptyStatementType=a;this.curlyBraceLanguage=c}isBlockEmpty(n,o){var u,s;let i=n.text.trim();return this.curlyBraceLanguage&&(i.startsWith("{")&&(i=i.slice(1)),i.endsWith("}")&&(i=i.slice(0,-1)),i=i.trim()),!!(i.length==0||this.languageId=="python"&&(((u=n.parent)==null?void 0:u.type)=="class_definition"||((s=n.parent)==null?void 0:s.type)=="function_definition")&&n.children.length==1&&lg(n.parent))}async isEmptyBlockStart(n,o){var u,s,a,c;if(o>n.length)throw new RangeError("Invalid offset");for(let l=o;l<n.length&&n.charAt(l)!=`
`;l++)if(/\S/.test(n.charAt(l)))return!1;o=dy(n,o);let i=await Vr(this.languageId,n);try{let l=i.rootNode.descendantForIndex(o-1);if(l==null||this.curlyBraceLanguage&&l.type=="}")return!1;if((this.languageId=="javascript"||this.languageId=="typescript")&&l.parent&&l.parent.type=="object"&&l.parent.text.trim()=="{")return!0;if(this.languageId=="typescript"){let T=l;for(;T.parent;){if(T.type=="function_signature"||T.type=="method_signature"){let P=l.nextSibling;return P&&T.hasError()&&GP(T,P,n)?!0:!T.children.find(L=>L.type==";")&&T.endIndex<=o}T=T.parent}}let m=null,g=null,_=null,v=l;for(;v!=null;){if(v.type==this.blockNodeType){g=v;break}if(this.nodeMatch[v.type]){_=v;break}if(v.type=="ERROR"){m=v;break}v=v.parent}if(g!=null){if(!g.parent||!this.nodeMatch[g.parent.type])return!1;if(this.languageId=="python"){let T=g.previousSibling;if(T!=null&&T.hasError()&&(T.text.startsWith('"""')||T.text.startsWith("'''")))return!0}return this.isBlockEmpty(g,o)}if(m!=null){if(((u=m.previousSibling)==null?void 0:u.type)=="module"||((s=m.previousSibling)==null?void 0:s.type)=="internal_module"||((a=m.previousSibling)==null?void 0:a.type)=="def")return!0;let T=[...m.children].reverse(),P=T.find(L=>this.startKeywords.includes(L.type)),j=T.find(L=>L.type==this.blockNodeType);if(P){switch(this.languageId){case"python":{P.type=="try"&&l.type=="identifier"&&l.text.length>4&&(j=(c=T.find($=>$.hasError()))==null?void 0:c.children.find($=>$.type=="block"));let L,Q=0;for(let $ of m.children){if($.type==":"&&Q==0){L=$;break}$.type=="("&&(Q+=1),$.type==")"&&(Q-=1)}if(L&&P.endIndex<=L.startIndex&&L.nextSibling){if(P.type=="def"){let $=L.nextSibling;if($.type=='"'||$.type=="'"||$.type=="ERROR"&&($.text=='"""'||$.text=="'''"))return!0}return!1}break}case"javascript":{let L=T.find(Y=>Y.type=="formal_parameters");if(P.type=="class"&&L)return!0;let Q=T.find(Y=>Y.type=="{");if(Q&&Q.startIndex>P.endIndex&&Q.nextSibling!=null||T.find(Y=>Y.type=="do")&&P.type=="while"||P.type=="=>"&&P.nextSibling&&P.nextSibling.type!="{")return!1;break}case"typescript":{let L=T.find($=>$.type=="{");if(L&&L.startIndex>P.endIndex&&L.nextSibling!=null||T.find($=>$.type=="do")&&P.type=="while"||P.type=="=>"&&P.nextSibling&&P.nextSibling.type!="{")return!1;break}}return j&&j.startIndex>P.endIndex?this.isBlockEmpty(j,o):!0}}if(_!=null){let T=this.nodeMatch[_.type],P=_.children.slice().reverse().find(j=>j.type==T);if(P)return this.isBlockEmpty(P,o);if(this.nodeTypesWithBlockOrStmtChild.has(_.type)){let j=this.nodeTypesWithBlockOrStmtChild.get(_.type),L=j==""?_.children[0]:_.childForFieldName(j);if(L&&L.type!=this.blockNodeType&&L.type!=this.emptyStatementType)return!1}return!0}return!1}finally{i.delete()}}};r(sd,"TreeSitterBasedBlockParser");var Rr=sd,PG={python:new Rr("python",{class_definition:"block",elif_clause:"block",else_clause:"block",except_clause:"block",finally_clause:"block",for_statement:"block",function_definition:"block",if_statement:"block",try_statement:"block",while_statement:"block",with_statement:"block"},new Map,["def","class","if","elif","else","for","while","try","except","finally","with"],"block",null,!1),javascript:new Rr("javascript",{arrow_function:"statement_block",catch_clause:"statement_block",do_statement:"statement_block",else_clause:"statement_block",finally_clause:"statement_block",for_in_statement:"statement_block",for_statement:"statement_block",function:"statement_block",function_declaration:"statement_block",generator_function:"statement_block",generator_function_declaration:"statement_block",if_statement:"statement_block",method_definition:"statement_block",try_statement:"statement_block",while_statement:"statement_block",with_statement:"statement_block",class:"class_body",class_declaration:"class_body"},new Map([["arrow_function","body"],["do_statement","body"],["else_clause",""],["for_in_statement","body"],["for_statement","body"],["if_statement","consequence"],["while_statement","body"],["with_statement","body"]]),["=>","try","catch","finally","do","for","if","else","while","with","function","function*","class"],"statement_block","empty_statement",!0),typescript:new Rr("typescript",{ambient_declaration:"statement_block",arrow_function:"statement_block",catch_clause:"statement_block",do_statement:"statement_block",else_clause:"statement_block",finally_clause:"statement_block",for_in_statement:"statement_block",for_statement:"statement_block",function:"statement_block",function_declaration:"statement_block",generator_function:"statement_block",generator_function_declaration:"statement_block",if_statement:"statement_block",internal_module:"statement_block",method_definition:"statement_block",module:"statement_block",try_statement:"statement_block",while_statement:"statement_block",abstract_class_declaration:"class_body",class:"class_body",class_declaration:"class_body"},new Map([["arrow_function","body"],["do_statement","body"],["else_clause",""],["for_in_statement","body"],["for_statement","body"],["if_statement","consequence"],["while_statement","body"],["with_statement","body"]]),["declare","=>","try","catch","finally","do","for","if","else","while","with","function","function*","class"],"statement_block","empty_statement",!0),tsx:new Rr("typescriptreact",{ambient_declaration:"statement_block",arrow_function:"statement_block",catch_clause:"statement_block",do_statement:"statement_block",else_clause:"statement_block",finally_clause:"statement_block",for_in_statement:"statement_block",for_statement:"statement_block",function:"statement_block",function_declaration:"statement_block",generator_function:"statement_block",generator_function_declaration:"statement_block",if_statement:"statement_block",internal_module:"statement_block",method_definition:"statement_block",module:"statement_block",try_statement:"statement_block",while_statement:"statement_block",abstract_class_declaration:"class_body",class:"class_body",class_declaration:"class_body"},new Map([["arrow_function","body"],["do_statement","body"],["else_clause",""],["for_in_statement","body"],["for_statement","body"],["if_statement","consequence"],["while_statement","body"],["with_statement","body"]]),["declare","=>","try","catch","finally","do","for","if","else","while","with","function","function*","class"],"statement_block","empty_statement",!0),go:new Ma("go","{}",/\b(func|if|else|for)\b/,{communication_case:"block",default_case:"block",expression_case:"block",for_statement:"block",func_literal:"block",function_declaration:"block",if_statement:"block",labeled_statement:"block",method_declaration:"block",type_case:"block"},new Map),ruby:new Ma("ruby","end",/\b(BEGIN|END|case|class|def|do|else|elsif|for|if|module|unless|until|while)\b|->/,{begin_block:"}",block:"}",end_block:"}",lambda:"block",for:"do",until:"do",while:"do",case:"end",do:"end",if:"end",method:"end",module:"end",unless:"end",do_block:"end"},new Map),c_sharp:new Rr("csharp",{},new Map([]),[],"block",null,!0),java:new Rr("java",{},new Map([]),[],"block",null,!0)};function io(e){switch(e){case 0:case 2:case 7:case 8:case 11:case 12:case 13:case 14:return!0;default:return!1}}r(io,"isTypeDefinition");var zo=class zo{constructor(t,n){this.start=t,this.length=n}static fromBounds(t,n){return new zo(t,n-t)}get end(){return this.start+this.length}contains(t){return this.start<=t&&this.end>=t}containsRange(t){return this.start<=t.start&&this.end>=t.end}equals(t){return this.start===t.start&&this.length===t.length}getText(t){return t.slice(this.start,this.end)}getTextWithIndentation(t,n){let o=[],i=this.start;for(i=my(t,t.length,i),fy(o,n);i<this.end;)t[i]!=="\r"&&t[i]!==`
`?o.push(t[i++]):t[i]==="\r"&&i<t.length&&t[i+1]!==`
`||t[i]===`
`?(o.push(`
`),i=my(t,t.length,++i),fy(o,n)):i++;return o.join("")}};r(zo,"TextRange"),zo.empty=new zo(0,0);var un=zo;function fy(e,t){for(let n=0;n<t;n++)e.push(" ")}r(fy,"appendIndent");function my(e,t,n){for(;n<t&&(e[n]===" "||e[n]==="	");)n++;return n}r(my,"consumeIndent");var ad=class ad{constructor(t,n,o,i,u,s,a,c,l){this.fileName=t;this.fullyQualifiedName=n;this.unqualifiedName=o;this.commentRange=i;this.nameRange=u;this.bodyRange=s;this.extentRange=a;this.kind=c;this.refKind=l;if(t.indexOf("\\")!==-1)throw new Error("fileName must be normalized to use forward slashes as path separators")}equals(t){return this.fileName===t.fileName&&this.fullyQualifiedName===t.fullyQualifiedName&&this.unqualifiedName===t.unqualifiedName&&this.commentRange.equals(t.commentRange)&&this.nameRange.equals(t.nameRange)&&this.bodyRange.equals(t.bodyRange)&&this.extentRange.equals(t.extentRange)&&this.kind===t.kind&&this.refKind===t.refKind}};r(ad,"SymbolRange");var Ko=ad,os=class os{constructor(){this.queriesCache=new Map}async executeQuery(t,n,o){let i;try{i=await Vr(this.languageId,n);let u=i.getLanguage(),a=this.getOrCreateQuery(u,o).matches(i.rootNode),c=new Cs,l=[];for(let m of a){let g=this.createSymbolRange(c,t,n,m.captures);g&&l.push(g)}return l}finally{i==null||i.delete()}}getOrCreateQuery(t,n){let o=this.queriesCache.get(n);return o||(o=t.query(n),this.queriesCache.set(n,o)),o}createSymbolRange(t,n,o,i){let u=0,s=0,a=0,c=0,l=0,m=0,g=0,_=0,v=null,T=null;for(let L=0;L<i.length;L++){let Q=i[L].name;Q==="name"?(l=i[L].node.startIndex,m=i[L].node.endIndex):Q==="reference"?(l=i[L].node.startIndex,m=i[L].node.endIndex,a=i[L].node.startIndex,c=i[L].node.endIndex,v=Q):Q==="body"?(g=i[L].node.startIndex,_=i[L].node.endIndex):Q==="comment"?(u=u===0?i[L].node.startIndex:Math.min(u,i[L].node.startIndex),s=Math.max(s,i[L].node.endIndex)):Q==="receiver"?T=un.fromBounds(i[L].node.startIndex,i[L].node.endIndex).getText(o):(a=i[L].node.startIndex,c=i[L].node.endIndex,v=Q)}v==="definition.module.filescoped"&&(_=o.length,c=_);let P=un.fromBounds(a,c),j=a>0||c>0||l>0||m>0?new Ko(n,"","",un.fromBounds(u,s),un.fromBounds(l,m),un.fromBounds(g,_),P,os.kindFromString(v),0):null;if(j){os.updateScopesForSymbol(t,j);let L=j.nameRange.getText(o),Q=this.createNameFromScopes(o,t.toArray());return Q=T?`${T}.${Q}`:Q,new Ko(n,Q,L.substring(L.lastIndexOf(".")+1),j.commentRange,j.nameRange,j.bodyRange,j.extentRange,j.kind,0)}return null}static updateScopesForSymbol(t,n){var o;for(;t.tryPeek()&&!((o=t.peek())!=null&&o.extentRange.containsRange(n.extentRange));)t.pop();t.push(n)}static kindFromString(t){switch(t){case"definition.class":return 0;case"definition.constant":return 1;case"definition.enum_variant":return 3;case"definition.enum":return 2;case"definition.field":return 4;case"definition.function":return 5;case"definition.implementation":return 6;case"definition.interface":return 7;case"definition.macro":return 8;case"definition.method":return 9;case"definition.module":case"definition.module.filescoped":return 10;case"definition.struct":return 11;case"definition.trait":return 12;case"definition.type":return 13;case"definition.union":return 14;case"reference":return 16;default:throw new Error("NotSupportedException")}}};r(os,"SymbolExtractorBase");var Nn=os;var ud=class ud extends Nn{get languageId(){return"go"}extractSymbols(t,n){return this.executeQuery(t,n,VP)}createNameFromScopes(t,n){return n.map(o=>o.nameRange.getText(t)).join(".")}};r(ud,"GoSymbolExtractor");var Na=ud,cd=class cd extends Nn{get languageId(){return"go"}createNameFromScopes(t,n){return n.length>0?n[n.length-1].nameRange.getText(t):""}extractReferences(t,n){return this.executeQuery(t,n,zP)}async extractLocalReferences(t,n,o){let i=await this.executeQuery(t,n,KP),u=i.filter(c=>c.kind!==9),s=i.filter(c=>c.kind===9&&c.extentRange.containsRange(o)),a=[];for(let c of s)a.push(...u.filter(l=>c.extentRange.containsRange(l.extentRange)));return a}};r(cd,"GoReferenceExtractor");var Ca=cd,VP=`
(
    ((comment)* @comment)
    .
    (type_declaration (type_spec name: (_) @name type: (struct_type (field_declaration_list) @body))) @definition.struct
)

(
    ((comment)* @comment)
    .
    (type_declaration (type_spec name: (_) @name type: (interface_type (_)) @body)) @definition.interface
)

(
    ((comment)* @comment)
    .
    (method_declaration receiver: (parameter_list (parameter_declaration type: [(type_identifier) @receiver (pointer_type (type_identifier) @receiver)] )) name: (_) @name body: (_) @body) @definition.method
)

(
    ((comment)* @comment)
    .
    (method_elem name: (_) @name) @definition.method
)

(
    ((comment)* @comment)
    .
    (function_declaration name: (_) @name) @definition.method
)

(
    ((comment)* @comment)
    .
    (field_declaration name: (_) @name) @definition.field
)
`,zP=`
(call_expression function: (_) @name) @reference

(type_identifier) @reference
`,KP=`
(call_expression function: (_) @name) @reference

(type_identifier) @reference
`;var ld=class ld extends Nn{get languageId(){return"java"}extractSymbols(t,n){return this.executeQuery(t,n,HP)}createNameFromScopes(t,n){return n.map(o=>o.nameRange.getText(t)).join(".")}};r(ld,"JavaSymbolExtractor");var La=ld,dd=class dd extends Nn{get languageId(){return"java"}createNameFromScopes(t,n){return n.length>0?n[n.length-1].nameRange.getText(t):""}extractReferences(t,n){return this.executeQuery(t,n,ZP)}async extractLocalReferences(t,n,o){let i=await this.executeQuery(t,n,QP),u=i.filter(c=>c.kind!==9),s=i.filter(c=>c.kind===9&&c.extentRange.containsRange(o)),a=[];for(let c of s)a.push(...u.filter(l=>c.extentRange.containsRange(l.extentRange)));return a}};r(dd,"JavaReferenceExtractor");var Oa=dd,HP=`
(
    [
        (block_comment) @comment
        (line_comment)* @comment
    ]
    .
    (class_declaration name: (identifier) @name body: (class_body) @body) @definition.class
)

(
    [
        (block_comment) @comment
        (line_comment)* @comment
    ]
    .
    (constructor_declaration name: (identifier) @name body: (constructor_body) @body) @definition.method
)

(
    [
        (block_comment) @comment
        (line_comment)* @comment
    ]
    .
    (method_declaration name: (identifier) @name body: (block)? @body) @definition.method
)

(
    [
        (block_comment) @comment
        (line_comment)* @comment
    ]
    .
    (interface_declaration name: (identifier) @name body: (interface_body) @body) @definition.interface
)

(
    [
        (block_comment) @comment
        (line_comment)* @comment
    ]
    .
    (field_declaration declarator: (variable_declarator name: (identifier) @name)) @definition.field
)

(
    [
        ((line_comment)* @comment)
        ((block_comment)* @comment)
    ]
    .
    (enum_declaration name: (_) @name body: (_) @body) @definition.enum
)

(
    [
        ((line_comment)* @comment)
        ((block_comment)* @comment)
    ]
    .
    (enum_constant name: (identifier) @name) @definition.enum_variant
)
`,ZP=`
(method_invocation 
  name: (identifier) @name
) @reference

(type_identifier) @reference
`,QP=`
(method_invocation 
  name: (identifier) @name
) @reference

(type_identifier) @reference
`;var JP=new Set(["int","str","float","bool","list","dict","tuple","set"]),fd=class fd extends Nn{get languageId(){return"python"}extractSymbols(t,n){return this.executeQuery(t,n,XP)}createNameFromScopes(t,n){return n.map(o=>o.nameRange.getText(t)).join(".")}};r(fd,"PythonSymbolExtractor");var Fa=fd,md=class md extends Nn{get languageId(){return"python"}createNameFromScopes(t,n){return n.length>0?n[n.length-1].nameRange.getText(t):""}async extractReferences(t,n){return(await this.executeQuery(t,n,YP)).filter(i=>!JP.has(i.unqualifiedName))}async extractLocalReferences(t,n,o){let i=await this.executeQuery(t,n,e0),u=i.filter(c=>c.kind!==9),s=i.filter(c=>c.kind===9&&c.extentRange.containsRange(o)),a=[];for(let c of s)a.push(...u.filter(l=>c.extentRange.containsRange(l.extentRange)));return a}};r(md,"PythonReferenceExtractor");var Aa=md,XP=`
(
    ((comment)* @comment)
    .
    (class_definition name: (_) @name body: (_) @body) @definition.class
)

(
    ((comment)* @comment)
    .
    (function_definition name: (_) @name body: (_) @body) @definition.method
)
`,YP=`
(call function: (_) @name) @reference

(type [  
    (identifier)* @name  
    (_ (identifier) @name)* 
]) @reference

(class_definition superclasses: (argument_list (identifier) @name)) @reference
`,e0=`
(call function: (_) @name) @reference

(type [  
    (identifier)* @name  
    (_ (identifier) @name)* 
])  @reference

(class_definition superclasses: (argument_list (identifier) @name)) @reference
`;var pd=[{symbolExtractor:new La,referenceExtractor:new Oa,languageId:"java"},{symbolExtractor:new Na,referenceExtractor:new Ca,languageId:"go"},{symbolExtractor:new Fa,referenceExtractor:new Aa,languageId:"python"}];var gy=pd.map(e=>e.referenceExtractor),hy=pd.map(e=>e.symbolExtractor),LV=pd.map(e=>jr[e.languageId].extensions).flat();var _y=require("fs");async function yy(e,t,n,o,i){let u=new Map,s=0;for(let g of e){let _=g.node.fileName.toLowerCase(),v=u.get(_);v?v.symbols.push(g):u.set(_,{symbols:[g],topRank:s}),s++}if(u.delete(n.toLowerCase()),u.size===0)return[];let a=t,c=t/Math.min(4,u.size),l=[],m=Array.from(u.keys());m.sort((g,_)=>{let v=u.get(g).topRank,T=u.get(_).topRank;return v-T});for(let g of m){let _=u.get(g).symbols;if(_.length===0)continue;let v=_[0].node.fileName,T=_.reduce((P,j)=>P+j.node.extentRange.length,0);for(let P of _){if(a<=5)return l;Jn(i);let j=P.node.extentRange.length/T,L=Math.min(a,j*c),Q=(await t0([P])).makePrompt(L);a-=o.tokenLength(Q),l.push({uri:v,value:Q})}}return l}r(yy,"symbolRangesToCodeSnippets");async function t0(e){if(e.length===0)return new Gr([]);let t=e[0].node.fileName,n=[],o=Ur(t).fsPath,i=(await _y.promises.readFile(o)).toString();for(let u of e)by(u,i).forEach(s=>n.push(s));return new Gr(n)}r(t0,"sameFileSymbolRangeToElidableText");function by(e,t){let o=[],i=e.node,u=t.substring(gd(t,i.commentRange.start),i.commentRange.end);o.push([hd(u),1-3e-4]);let s=gd(t,i.bodyRange.start),a=gd(t,i.extentRange.start),c=i.bodyRange.length===0?t.substring(a,i.extentRange.end):t.substring(i.commentRange.length===0?a:i.commentRange.end,s);if(io(i.kind)&&(c="BEGIN "+c.trimStart()),o.push([hd(c),1-1e-4]),e.children.length>0)for(let l of e.children)o.push(...by(l,t));else{let l=1-(io(e.node.kind)?3e-4:4e-4),m=t.substring(s,i.bodyRange.end);o.push([hd(m),l])}return io(i.kind)&&o.push(["END "+c.substring(6),1-1e-4]),o.filter(l=>l[0].length>0)}r(by,"prepareForElidableText");function gd(e,t){for(;t-1>=0&&(e[t-1]==="	"||e[t-1]===" ");)t--;return t}r(gd,"shiftLeftToNearestLineEndingOrAlphanumeric");function hd(e){let t=0;for(;t<e.length&&(e[t]==="\r"||e[t]===`
`);)t++;let n=e.length-1;for(;n>=0&&(e[n]==="\r"||e[n]===`
`||e[n]===" "||e[n]==="	");)n--;return e.substring(t,n+1)}r(hd,"trimLineEndingsAndTrailingWhitespace");var yd=class yd{constructor(t,n){this.referenceExtractors=new Map;this.index=t;for(let o of n)this.referenceExtractors.set(o.languageId,o)}};r(yd,"ContextRetrievalStrategy");var _d=yd,bd=class bd extends _d{constructor(t,n,o,i){super(t,n),this.caseSensitive=o,this.typesOnly=i}async getContextAtPositionAsync(t,n,o,i,u){let s=this.referenceExtractors.get(i);if(!s)return[];Jn(u);let a=await s.extractReferences(t,n);Jn(u);let c=Array.from(a);c.sort((_,v)=>this.compareSymbolRangesByProximityToCaret(_,v,o));let l=[],m=new Set,g=await this.findDefinitionsViaUnqualifiedNames(c,u);this.typesOnly&&(g=g.filter(_=>io(_.kind)));for(let _ of g)m.has(JSON.stringify(_))||(m.add(JSON.stringify(_)),l.push(await this.makeSymbolRangeNodeFromDefinition(_,u)));return l}async findDefinitionsViaUnqualifiedNames(t,n){var m;let o=Array.from(new Set(t.map(g=>g.unqualifiedName))),i=!this.caseSensitive,u=await this.index.findPotentialDefinitionsAsync(o,i,n),s=r(g=>i?g.toLowerCase():g,"lowercaseIfCaseInsensitive"),a=r(g=>s(g.unqualifiedName),"getSymbolKey"),c=new Map;for(let g of u){let _=a(g),v=(m=c.get(_))!=null?m:[];c.set(_,[...v,g])}let l=[];for(let g of o){let _=c.get(s(g));!_||_.length>20||l.push(..._)}return l}async makeSymbolRangeNodeFromDefinition(t,n){if(Jn(n),io(t.kind)){let o=await this.index.findSymbolsByFullyQualifiedNamePrefix(t.fileName,t.fullyQualifiedName+".",n),i=await Promise.all(o.map(u=>this.makeSymbolRangeNodeFromDefinition(u,n)));return{node:t,children:i}}else return{node:t,children:[]}}compareSymbolRangesByProximityToCaret(t,n,o){let i=t.extentRange.end<=o,u=n.extentRange.end<=o;if(i&&!u)return-1;if(!i&&u)return 1;let s=Math.abs(t.extentRange.start-o),a=Math.abs(n.extentRange.start-o);return s-a}};r(bd,"UnqualifiedNameRetrievalStrategy");var is=bd,wd=class wd{constructor(t,n){this.strategies=new Map;this.strategies.set("go",new is(t,n,!0,!0)),this.strategies.set("java",new is(t,n,!0,!0)),this.strategies.set("python",new is(t,n,!0,!1))}async getStringifiedContextAtPositionAsync(t,n,o,i,u,s){let a=await this.getContextAtPositionAsync(t,n,o,i,s);Jn(s);let c=yn();return yy(a,u,t,c,s)}async getContextAtPositionAsync(t,n,o,i,u){return this.strategies.has(i)?this.strategies.get(i).getContextAtPositionAsync(t,n,o,i,u):[]}};r(wd,"SyntaxAwareContextRetrieval");var Da=wd;var so={Id:"id"},Jt={FilePath:"filePath",LastWriteTimeUtc:"lastWriteTimeUtc"},me={DocumentId:"documentId",FullyQualifiedName:"fullyQualifiedName",UnqualifiedName:"unqualifiedName",CommentStart:"commentStart",CommentLength:"commentLength",NameStart:"nameStart",NameLength:"nameLength",BodyStart:"bodyStart",BodyLength:"bodyLength",ExtentStart:"extentStart",ExtentLength:"extentLength",SymbolKind:"symbolKind",RefKind:"refKind"};var Id=class Id{constructor(t,n,o){this.tableName=t;this.createOptimizations=n;this.extraCreateDeclarations=o;this.primaryKey=new vd(so.Id)}createTableQueries(){var t;return(t=this.createTableString)!=null||(this.createTableString=this.generateCreateTableString()),[this.createTableString,...this.createOptimizations]}generateCreateTableString(){let t=this.fields.map(n=>n.initColumnString());return this.extraCreateDeclarations&&t.push(this.extraCreateDeclarations),t.push(),[`CREATE TABLE IF NOT EXISTS ${this.tableName} (`,`    ${this.primaryKey.initColumnString()},`,`    ${t.join(`,
`)}`,")"].join(`
`)}insertQuery(t,n){var i;(i=this.cachedInsertQueryStrings)!=null||(this.cachedInsertQueryStrings=this.generateInsertQueryStrings());let o=[this.cachedInsertQueryStrings.prefix,Array(n).fill(this.cachedInsertQueryStrings.valuesTemplate).join(`,
`)];return t&&o.push("ON CONFLICT DO NOTHING"),o.join(`
`)}generateInsertQueryStrings(){return{prefix:`INSERT INTO ${this.tableName} (${this.fields.map(t=>t.name).join(", ")})
VALUES`,valuesTemplate:`(${Array(this.fields.length).fill("?").join(", ")})`}}};r(Id,"SQLTableQueryGenerator");var ja=Id,Ho=class Ho extends ja{constructor(){super(Ho.tableName,[`CREATE UNIQUE INDEX IF NOT EXISTS 'IX_Document_FilePath' ON '${Ho.tableName}' ('${Jt.FilePath}');`]);this.fields=[new cs(Jt.FilePath,{notNull:!0,collate:!0,noCase:!0,unique:!0}),new Dt(Jt.LastWriteTimeUtc,{notNull:!0})]}};r(Ho,"DocumentQueryGenerator"),Ho.tableName="Document";var ss=Ho,ao=class ao extends ja{constructor(){super(ao.tableName,[`CREATE INDEX IF NOT EXISTS 'IX_Symbol_DocumentId' ON '${ao.tableName}' ('${me.DocumentId}', '${me.ExtentStart}', '${me.ExtentLength}');`,`CREATE INDEX IF NOT EXISTS 'IX_Symbol_UnqualifiedName' ON '${ao.tableName}' ('${me.UnqualifiedName}');`],`FOREIGN KEY(${me.DocumentId}) REFERENCES Document(${so.Id}) ON DELETE CASCADE`);this.fields=[new Dt(me.DocumentId),new cs(me.FullyQualifiedName,{notNull:!0}),new cs(me.UnqualifiedName,{notNull:!0}),new Dt(me.CommentStart,{notNull:!0}),new Dt(me.CommentLength,{notNull:!0}),new Dt(me.NameStart,{notNull:!0}),new Dt(me.NameLength,{notNull:!0}),new Dt(me.BodyStart,{notNull:!0}),new Dt(me.BodyLength,{notNull:!0}),new Dt(me.ExtentStart,{notNull:!0}),new Dt(me.ExtentLength,{notNull:!0}),new Dt(me.SymbolKind,{notNull:!0}),new Dt(me.RefKind,{notNull:!0})]}};r(ao,"SymbolQueryGenerator"),ao.tableName="Symbol";var as=ao,xd=class xd{constructor(t,n){this.name=t;var o;this.notNull=(o=n==null?void 0:n.notNull)!=null?o:!1}};r(xd,"SQLField");var us=xd,Sd=class Sd extends us{constructor(t,n){var o,i,u;super(t,{notNull:n==null?void 0:n.notNull}),this.collate=(o=n==null?void 0:n.collate)!=null?o:!1,this.noCase=(i=n==null?void 0:n.noCase)!=null?i:!1,this.unique=(u=n==null?void 0:n.unique)!=null?u:!1}initColumnString(){let t=this.collate?"COLLATE":void 0,n=this.noCase?"NOCASE":void 0,o=this.notNull?"NOT NULL":void 0,i=this.unique?"UNIQUE":void 0,u=[t,n,o,i].filter(s=>s).join(" ");return`'${this.name}' VARCHAR(500) ${u}`}};r(Sd,"StringColumn");var cs=Sd,Td=class Td extends us{initColumnString(){return`'${this.name}' INTEGER${this.notNull?" NOT NULL":""}`}};r(Td,"NumberColumn");var Dt=Td,Ed=class Ed extends us{initColumnString(){return`'${this.name}' INTEGER PRIMARY KEY AUTOINCREMENT${this.notNull?" NOT NULL":""}`}};r(Ed,"NumberPrimaryKeyColumn");var vd=Ed;var Rd=class Rd{constructor(t){this.queryGenerator=this.createQueryGenerator(),this.init=this.doInit(t)}async doInit(t){let n=await t;return await this.create(n),n}async create(t){let n=r(i=>new Promise((u,s)=>{t.run(i,a=>{a?s(a):u()})}),"runQuery"),o=this.queryGenerator.createTableQueries();for(let i of o)await n(i)}async insert(t,n){let o=await this.init;return new Promise((i,u)=>{let s=this.queryGenerator.insertQuery(n,t.length);o.run(s,t.map(a=>Object.values(a)).flat(),function(a){a?u(a):i(this)})})}async getAllRows(){let t=await this.init;return cn(t,`SELECT * FROM ${this.queryGenerator.tableName}`,[])}async deleteRow(t){let n=await this.init;return cn(n,`DELETE FROM ${this.queryGenerator.tableName} WHERE ${so.Id} = ?`,[t])}};r(Rd,"SQLTable");var Ua=Rd,Zo=class Zo extends Ua{createQueryGenerator(){return new ss}async updateTimestamp(t,n){let o=await this.init;await cn(o,`UPDATE ${Zo.tableName} SET ${Jt.LastWriteTimeUtc} = ? WHERE ${Jt.FilePath} = ?`,[n,t])}async deleteAllWithPath(t){let n=await this.init;await cn(n,`DELETE FROM ${Zo.tableName} WHERE ${Jt.FilePath} = ?`,[t])}async getDocumentByFilePath(t){let n=await this.init;return cn(n,`SELECT * FROM ${this.queryGenerator.tableName} WHERE ${Jt.FilePath} = ?`,[t])}};r(Zo,"DocumentTable"),Zo.tableName=ss.tableName;var ir=Zo,ls=class ls extends Ua{createQueryGenerator(){return new as}async clearAllSymbolsFromDocument(t){let n=await this.init;return cn(n,`DELETE FROM ${ls.tableName} WHERE ${me.DocumentId} = ?`,[t])}};r(ls,"SymbolTable"),ls.tableName=as.tableName;var dt=ls;async function cn(e,t,n){return new Promise((o,i)=>e.all(t,n,(u,s)=>{u&&i(u),o(s)}))}r(cn,"runPromisifiedDBQuery");var Ly=Qn(Cy());var Cd=class Cd{constructor(t){this.databaseFileName=t;this.innerJoinStatement=`INNER JOIN ${ir.tableName} ON ${dt.tableName}.${me.DocumentId} = ${ir.tableName}.${so.Id}`;this.db=this.initDb(t),this.documentTable=new ir(this.db),this.symbolTable=new dt(this.db)}async initDb(t){let n=await new Promise((o,i)=>{let u=new Ly.Database(t,s=>{s?(console.error("Error opening database",s),i(s)):o(u)})});return await cn(n,"pragma journal_mode=wal",[]),await cn(n,"pragma synchronous=normal",[]),await cn(n,"pragma optimize=0x10002",[]),await cn(n,"pragma foreign_keys = ON",[]),n}async close(){let t=await this.db;return await this.documentTable.init,await this.symbolTable.init,new Promise((n,o)=>{t.close(i=>i?o(i):n())})}async querySymbolsFuzzilyUsingUnqualifiedName(t,n){return await this.query([`SELECT * FROM ${dt.tableName}`,this.innerJoinStatement,`WHERE ${me.UnqualifiedName} BETWEEN ? AND (? || '~')`,`ORDER BY ${me.UnqualifiedName}`,"LIMIT ?"].join(`
`),[t,t,n])}async querySymbolsUsingUnqualifiedNames(t,n){let o=t.map(()=>"?").join(", "),i=n?"COLLATE NOCASE ":"";return await this.query([`SELECT * FROM ${dt.tableName}`,this.innerJoinStatement,`WHERE ${me.UnqualifiedName} ${i}IN (${o})`].join(`
`),t)}async querySymbolsUsingFullyQualifiedName(t){return this.query([`SELECT * FROM ${dt.tableName}`,this.innerJoinStatement,`WHERE ${me.FullyQualifiedName} = ?`].join(`
`),[t])}async querySymbolsContainingPosition(t,n){return this.query([`SELECT * FROM ${dt.tableName}`,this.innerJoinStatement,`WHERE ${ir.tableName}.${Jt.FilePath} = ? AND ${dt.tableName}.${me.ExtentStart} <= ? AND (${dt.tableName}.${me.ExtentStart} + ${dt.tableName}.${me.ExtentLength}) >= ?`].join(`
`),[t,n,n])}async querySymbolsContainedByRange(t,n,o){return this.query([`SELECT * FROM ${dt.tableName}`,this.innerJoinStatement,`WHERE ${ir.tableName}.${Jt.FilePath} = ? AND ${dt.tableName}.${me.ExtentStart} >= ? AND (${dt.tableName}.${me.ExtentStart} + ${dt.tableName}.${me.ExtentLength}) <= ?`,`ORDER BY ${dt.tableName}.${me.ExtentStart}`].join(`
`),[t,n,o])}async querySymbolsByQualifiedNamePrefix(t,n){return this.query([`SELECT * FROM ${dt.tableName}`,this.innerJoinStatement,`WHERE ${ir.tableName}.${Jt.FilePath} = ? AND ${dt.tableName}.${me.FullyQualifiedName} LIKE ?`,`ORDER BY ${dt.tableName}.${me.ExtentStart}`].join(`
`),[t,`${n}%`])}async insertSymbols(t){return await this.symbolTable.insert(t,!1)}async insertDocument(t,n,o=!1){return await this.documentTable.insert([{filePath:t,lastWriteTimeUtc:n}],o)}async clearAllSymbolsFromDocument(t){return this.symbolTable.clearAllSymbolsFromDocument(t)}async updateDocumentTimestamp(t,n){return this.documentTable.updateTimestamp(t,n)}async deleteAllDocumentsWithPath(t){return this.documentTable.deleteAllWithPath(t)}async getAllDocuments(){return this.documentTable.getAllRows()}getDocument(t){return this.documentTable.getDocumentByFilePath(t)}async query(t,n){let o=await this.db;return await this.documentTable.init,await this.symbolTable.init,cn(o,t,n)}};r(Cd,"DocumentSymbolDatabase");var Wa=Cd;var Ld=class Ld{constructor(t){this.database=new Wa(t)}async close(){await this.database.close()}async insertOrReplaceDocumentSymbolsAsync(t,n,o){let i=await this.getOrCreateDocumentAsync(t,n);await this.database.clearAllSymbolsFromDocument(i.id),o.length>0&&await this.database.insertSymbols(o.map(u=>({documentId:i.id,fullyQualifiedName:u.fullyQualifiedName,unqualifiedName:u.unqualifiedName,commentStart:u.commentRange.start,commentLength:u.commentRange.length,nameStart:u.nameRange.start,nameLength:u.nameRange.length,bodyStart:u.bodyRange.start,bodyLength:u.bodyRange.length,extentStart:u.extentRange.start,extentLength:u.extentRange.length,symbolKind:u.kind,refKind:u.refKind}))),await this.database.updateDocumentTimestamp(t,n)}async addDocumentsAsync(t){for(let n of t)n=n.toLowerCase(),await this.database.insertDocument(n,Date.now(),!0)}async deleteDocumentAsync(t){return await this.database.deleteAllDocumentsWithPath(t.toLowerCase())}async updateDocumentTimestampAsync(t,n){return await this.database.updateDocumentTimestamp(t.toLowerCase(),n)}async fuzzyMatchSymbolsAsync(t,n){return Xo(await this.database.querySymbolsFuzzilyUsingUnqualifiedName(t,n))}async findPotentialDefinitionsAsync(t,n,o){let i=[],s=0;for(;s<t.length;){let a=t.slice(s,s+500);s+=500;let c=await this.database.querySymbolsUsingUnqualifiedNames(a,n);i.push(...c),Jn(o)}return Xo(i)}async getDefinitionsAsync(t){return Xo(await this.database.querySymbolsUsingFullyQualifiedName(t))}async findSymbolsContainingPositionAsync(t,n){let o=await this.database.querySymbolsContainingPosition(t.toLowerCase(),n);return Xo(o)}async findSymbolsContainedByRangeAsync(t,n,o){return Xo(await this.database.querySymbolsContainedByRange(t.toLowerCase(),n,o))}async findSymbolsByFullyQualifiedNamePrefix(t,n){return Xo(await this.database.querySymbolsByQualifiedNamePrefix(t.toLowerCase(),n))}async getDocumentsAsync(){return this.database.getAllDocuments()}async getDocumentAsync(t){let n=await this.database.getDocument(t);if(n!=null&&n.at(0))return n[0]}async getOrCreateDocumentAsync(t,n){let o=await this.database.getDocument(t);if(o!=null&&o.at(0))return o[0];await this.database.insertDocument(t,n,!0);let i=await this.database.getDocument(t);if(!i)throw Error("Unable to insert document");return i[0]}};r(Ld,"SQLStorageReaderWriter");var $a=Ld;function Xo(e){return e.map(t=>new Ko(t.filePath,t.fullyQualifiedName,t.unqualifiedName,new un(t.commentStart,t.commentLength),new un(t.nameStart,t.nameLength),new un(t.bodyStart,t.bodyLength),new un(t.extentStart,t.extentLength),t.symbolKind,t.refKind))}r(Xo,"symbolsToSymbolRanges");var Va=Qn(require("fs/promises"));var Od=class Od{constructor(t,n){this.storage=new $a(t),this.symbolExtractors=n}dispose(){return this.storage.close()}get reader(){return this.storage}async indexFile(t,n){let o=Tp(Ur(t));if(!o)throw Error(`Cannot resolve a readable file path from ${t}`);let i;try{i=await Va.stat(o)}catch{await this.storage.deleteDocumentAsync(t);return}let u=i.mtimeMs,s=await this.storage.getDocumentAsync(t);if(s&&s.lastWriteTimeUtc>=u)return;let a=this.symbolExtractors.find(m=>m.languageId==n);if(!a)return;let c=(await Va.readFile(o)).toString(),l=await a.extractSymbols(t,c);await this.storage.insertOrReplaceDocumentSymbolsAsync(t,u,l)}async getDocumentFilePaths(){return(await this.storage.getDocumentsAsync()).map(n=>n.filePath)}};r(Od,"Index");var Ga=Od;function Oy(e){let t=e;return typeof(t==null?void 0:t.cwd)=="string"&&Array.isArray(t==null?void 0:t.indexWorkspaceRoots)&&t.indexWorkspaceRoots.every(n=>u0(n))}r(Oy,"isIndexWorkerData");var Ad=class Ad{constructor(t){this.operation=t}};r(Ad,"IndexNotification");var Fd=Ad;var sr={CreateIndex:"createIndex",AddOrInvalidated:"addOrInvalidated",GetContext:"getContext",Exit:"exit",Response:"response",RemoveIndex:"removeIndex",Cancel:"cancel",GetAllDocumentsInWorkspace:"getAllDocumentsInWorkspace"};var Dd=class Dd extends Fd{constructor(n,o,i){super(sr.Response);this.id=n;this.error=o;this.data=i;o&&"code"in o&&typeof o.code=="string"&&(this.code=o.code)}};r(Dd,"ResponseMessage");var dn=Dd;function u0(e){return"databaseFilePath"in e&&"rootPath"in e}r(u0,"isIndexableWorkspaceFolder");var po=Qn(require("path")),dI=Qn(lI()),bi=require("worker_threads");var mp=class mp{constructor(t){this.index=new Ga(t,hy),this.contextRetreival=new Da(this.index.reader,gy)}};r(mp,"IndexInfo");var Au=mp,pn=class pn{constructor(t,n){this.indices=new Map;this.cancellationTokens=new Map;for(let o of n)this.indices.set(po.default.normalize(o.rootPath),new Au(o.databaseFilePath));t.on("message",o=>void pn.dispatchMessage(o,this.indices,this.cancellationTokens))}static async dispatchMessage(t,n,o){var i,u;try{let s=new dI.CancellationTokenSource;o.set(t.id,s);let a;switch(t.operation){case sr.AddOrInvalidated:a=await pn.dispatchAddOrInvalidate(t,n,s.token);break;case sr.GetContext:a=await pn.dispatchGetContext(t,n,s.token);break;case sr.Cancel:(i=o.get(t.id))==null||i.cancel(),a=new dn(t.id,void 0,void 0);break;case sr.Exit:a=await pn.dispatchExit(t,n,s.token);break;case sr.CreateIndex:a=await pn.dispatchCreateIndex(t,n,s.token);break;case sr.RemoveIndex:a=await pn.dispatchRemoveIndex(t,n,s.token);break;case sr.GetAllDocumentsInWorkspace:a=await pn.GetAllDocumentsInWorkspaceRequest(t,n,s.token);break;default:It==null||It.postMessage(new Error(`Unknown operation: ${t.operation}`))}a&&(It==null||It.postMessage(a)),(u=o.get(t.id))==null||u.dispose(),o.delete(t.id)}catch(s){if(!(s instanceof Error))throw s;It==null||It.postMessage(new dn(t.id,s,void 0))}}static async GetAllDocumentsInWorkspaceRequest(t,n,o){let i=po.default.normalize(t.baseWorkspaceFolderPath),u,s;return n.has(i)?s=await n.get(i).index.getDocumentFilePaths():u=new Error(`Index not found for ${t.baseWorkspaceFolderPath}`),new dn(t.id,u,s)}static async dispatchAddOrInvalidate(t,n,o){var s;let i=(s=pn.getIndexInfo(t.filePath,n))==null?void 0:s.index,u;return i?await i.indexFile(t.filePath,t.languageId):u=new Error(`Index not found for ${t.filePath}`),new dn(t.id,u,void 0)}static async dispatchGetContext(t,n,o){var a;if(Ur(t.filePath).scheme!=="file")return new dn(t.id,void 0,[]);let i=(a=pn.getIndexInfo(t.filePath,n))==null?void 0:a.contextRetreival,u,s;return i?s=await i.getStringifiedContextAtPositionAsync(t.filePath,t.code,t.offset,t.languageId,8e3,o):u=new Error(`ContextRetrieval not found for ${t.filePath}`),new dn(t.id,u,s)}static async dispatchExit(t,n,o){for(let i of n.values())await i.index.dispose();n.clear(),It==null||It.postMessage(new dn(t.id,void 0,void 0)),It==null||It.close()}static async dispatchCreateIndex(t,n,o){return n.has(po.default.normalize(t.baseWorkspaceFolderPath))||n.set(po.default.normalize(t.baseWorkspaceFolderPath),new Au(t.databaseFilePath)),new dn(t.id,void 0,void 0)}static async dispatchRemoveIndex(t,n,o){let i=po.default.normalize(t.baseWorkspaceFolderPath);if(n.has(i)){let u=n.get(i);u&&await u.index.dispose(),n.delete(i)}return new dn(t.id,void 0,void 0)}static getIndexInfo(t,n){for(let[o,i]of n)if(po.default.normalize(t).startsWith(o))return i}};r(pn,"IndexWorker");var fp=pn,It=bi.parentPort;if(!It)throw new Error("This module should only be used in a worker thread.");if(!Oy(bi.workerData))throw new Error("Worker data must provide a valid database path.");var fk=bi.workerData.cwd;process.cwd=()=>fk;new fp(It,bi.workerData.indexWorkspaceRoots);
//# sourceMappingURL=indexWorker.js.map
