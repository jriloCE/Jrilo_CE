"use strict";var vg=Object.create;var Nn=Object.defineProperty;var Mg=Object.getOwnPropertyDescriptor;var Lg=Object.getOwnPropertyNames;var Pg=Object.getPrototypeOf,Ng=Object.prototype.hasOwnProperty;var n=(e,t)=>Nn(e,"name",{value:t,configurable:!0});var p=(e,t)=>()=>(e&&(t=e(e=0)),t);var oe=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),Wr=(e,t)=>{for(var r in t)Nn(e,r,{get:t[r],enumerable:!0})},_c=(e,t,r,o)=>{if(t&&typeof t=="object"||typeof t=="function")for(let a of Lg(t))!Ng.call(e,a)&&a!==r&&Nn(e,a,{get:()=>t[a],enumerable:!(o=Mg(t,a))||o.enumerable});return e};var Fn=(e,t,r)=>(r=e!=null?vg(Pg(e)):{},_c(t||!e||!e.__esModule?Nn(r,"default",{value:e,enumerable:!0}):r,e)),Fg=e=>_c(Nn({},"__esModule",{value:!0}),e);var hc=oe(Ns=>{var gc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split("");Ns.encode=function(e){if(0<=e&&e<gc.length)return gc[e];throw new TypeError("Must be between 0 and 63: "+e)};Ns.decode=function(e){var t=65,r=90,o=97,a=122,u=48,i=57,s=43,l=47,c=26,d=52;return t<=e&&e<=r?e-t:o<=e&&e<=a?e-o+c:u<=e&&e<=i?e-u+d:e==s?62:e==l?63:-1}});var Os=oe(ks=>{var bc=hc(),Fs=5,yc=1<<Fs,Ic=yc-1,xc=yc;function kg(e){return e<0?(-e<<1)+1:(e<<1)+0}n(kg,"toVLQSigned");function Og(e){var t=(e&1)===1,r=e>>1;return t?-r:r}n(Og,"fromVLQSigned");ks.encode=n(function(t){var r="",o,a=kg(t);do o=a&Ic,a>>>=Fs,a>0&&(o|=xc),r+=bc.encode(o);while(a>0);return r},"base64VLQ_encode");ks.decode=n(function(t,r,o){var a=t.length,u=0,i=0,s,l;do{if(r>=a)throw new Error("Expected more digits in base 64 VLQ value.");if(l=bc.decode(t.charCodeAt(r++)),l===-1)throw new Error("Invalid base64 digit: "+t.charAt(r-1));s=!!(l&xc),l&=Ic,u=u+(l<<i),i+=Fs}while(s);o.value=Og(u),o.rest=r},"base64VLQ_decode")});var Hr=oe(Ee=>{function Rg(e,t,r){if(t in e)return e[t];if(arguments.length===3)return r;throw new Error('"'+t+'" is a required argument.')}n(Rg,"getArg");Ee.getArg=Rg;var wc=/^(?:([\w+\-.]+):)?\/\/(?:(\w+:\w+)@)?([\w.-]*)(?::(\d+))?(.*)$/,Ag=/^data:.+\,.+$/;function kn(e){var t=e.match(wc);return t?{scheme:t[1],auth:t[2],host:t[3],port:t[4],path:t[5]}:null}n(kn,"urlParse");Ee.urlParse=kn;function $r(e){var t="";return e.scheme&&(t+=e.scheme+":"),t+="//",e.auth&&(t+=e.auth+"@"),e.host&&(t+=e.host),e.port&&(t+=":"+e.port),e.path&&(t+=e.path),t}n($r,"urlGenerate");Ee.urlGenerate=$r;function Rs(e){var t=e,r=kn(e);if(r){if(!r.path)return e;t=r.path}for(var o=Ee.isAbsolute(t),a=t.split(/\/+/),u,i=0,s=a.length-1;s>=0;s--)u=a[s],u==="."?a.splice(s,1):u===".."?i++:i>0&&(u===""?(a.splice(s+1,i),i=0):(a.splice(s,2),i--));return t=a.join("/"),t===""&&(t=o?"/":"."),r?(r.path=t,$r(r)):t}n(Rs,"normalize");Ee.normalize=Rs;function Sc(e,t){e===""&&(e="."),t===""&&(t=".");var r=kn(t),o=kn(e);if(o&&(e=o.path||"/"),r&&!r.scheme)return o&&(r.scheme=o.scheme),$r(r);if(r||t.match(Ag))return t;if(o&&!o.host&&!o.path)return o.host=t,$r(o);var a=t.charAt(0)==="/"?t:Rs(e.replace(/\/+$/,"")+"/"+t);return o?(o.path=a,$r(o)):a}n(Sc,"join");Ee.join=Sc;Ee.isAbsolute=function(e){return e.charAt(0)==="/"||wc.test(e)};function Cg(e,t){e===""&&(e="."),e=e.replace(/\/$/,"");for(var r=0;t.indexOf(e+"/")!==0;){var o=e.lastIndexOf("/");if(o<0||(e=e.slice(0,o),e.match(/^([^\/]+:\/)?\/*$/)))return t;++r}return Array(r+1).join("../")+t.substr(e.length+1)}n(Cg,"relative");Ee.relative=Cg;var Ec=function(){var e=Object.create(null);return!("__proto__"in e)}();function Tc(e){return e}n(Tc,"identity");function Ug(e){return vc(e)?"$"+e:e}n(Ug,"toSetString");Ee.toSetString=Ec?Tc:Ug;function Bg(e){return vc(e)?e.slice(1):e}n(Bg,"fromSetString");Ee.fromSetString=Ec?Tc:Bg;function vc(e){if(!e)return!1;var t=e.length;if(t<9||e.charCodeAt(t-1)!==95||e.charCodeAt(t-2)!==95||e.charCodeAt(t-3)!==111||e.charCodeAt(t-4)!==116||e.charCodeAt(t-5)!==111||e.charCodeAt(t-6)!==114||e.charCodeAt(t-7)!==112||e.charCodeAt(t-8)!==95||e.charCodeAt(t-9)!==95)return!1;for(var r=t-10;r>=0;r--)if(e.charCodeAt(r)!==36)return!1;return!0}n(vc,"isProtoString");function Dg(e,t,r){var o=zr(e.source,t.source);return o!==0||(o=e.originalLine-t.originalLine,o!==0)||(o=e.originalColumn-t.originalColumn,o!==0||r)||(o=e.generatedColumn-t.generatedColumn,o!==0)||(o=e.generatedLine-t.generatedLine,o!==0)?o:zr(e.name,t.name)}n(Dg,"compareByOriginalPositions");Ee.compareByOriginalPositions=Dg;function jg(e,t,r){var o=e.generatedLine-t.generatedLine;return o!==0||(o=e.generatedColumn-t.generatedColumn,o!==0||r)||(o=zr(e.source,t.source),o!==0)||(o=e.originalLine-t.originalLine,o!==0)||(o=e.originalColumn-t.originalColumn,o!==0)?o:zr(e.name,t.name)}n(jg,"compareByGeneratedPositionsDeflated");Ee.compareByGeneratedPositionsDeflated=jg;function zr(e,t){return e===t?0:e===null?1:t===null?-1:e>t?1:-1}n(zr,"strcmp");function Kg(e,t){var r=e.generatedLine-t.generatedLine;return r!==0||(r=e.generatedColumn-t.generatedColumn,r!==0)||(r=zr(e.source,t.source),r!==0)||(r=e.originalLine-t.originalLine,r!==0)||(r=e.originalColumn-t.originalColumn,r!==0)?r:zr(e.name,t.name)}n(Kg,"compareByGeneratedPositionsInflated");Ee.compareByGeneratedPositionsInflated=Kg;function Gg(e){return JSON.parse(e.replace(/^\)]}'[^\n]*\n/,""))}n(Gg,"parseSourceMapInput");Ee.parseSourceMapInput=Gg;function Vg(e,t,r){if(t=t||"",e&&(e[e.length-1]!=="/"&&t[0]!=="/"&&(e+="/"),t=e+t),r){var o=kn(r);if(!o)throw new Error("sourceMapURL could not be parsed");if(o.path){var a=o.path.lastIndexOf("/");a>=0&&(o.path=o.path.substring(0,a+1))}t=Sc($r(o),t)}return Rs(t)}n(Vg,"computeSourceURL");Ee.computeSourceURL=Vg});var Us=oe(Mc=>{var As=Hr(),Cs=Object.prototype.hasOwnProperty,xr=typeof Map<"u";function Rt(){this._array=[],this._set=xr?new Map:Object.create(null)}n(Rt,"ArraySet");Rt.fromArray=n(function(t,r){for(var o=new Rt,a=0,u=t.length;a<u;a++)o.add(t[a],r);return o},"ArraySet_fromArray");Rt.prototype.size=n(function(){return xr?this._set.size:Object.getOwnPropertyNames(this._set).length},"ArraySet_size");Rt.prototype.add=n(function(t,r){var o=xr?t:As.toSetString(t),a=xr?this.has(t):Cs.call(this._set,o),u=this._array.length;(!a||r)&&this._array.push(t),a||(xr?this._set.set(t,u):this._set[o]=u)},"ArraySet_add");Rt.prototype.has=n(function(t){if(xr)return this._set.has(t);var r=As.toSetString(t);return Cs.call(this._set,r)},"ArraySet_has");Rt.prototype.indexOf=n(function(t){if(xr){var r=this._set.get(t);if(r>=0)return r}else{var o=As.toSetString(t);if(Cs.call(this._set,o))return this._set[o]}throw new Error('"'+t+'" is not in the set.')},"ArraySet_indexOf");Rt.prototype.at=n(function(t){if(t>=0&&t<this._array.length)return this._array[t];throw new Error("No element indexed by "+t)},"ArraySet_at");Rt.prototype.toArray=n(function(){return this._array.slice()},"ArraySet_toArray");Mc.ArraySet=Rt});var Nc=oe(Pc=>{var Lc=Hr();function Wg(e,t){var r=e.generatedLine,o=t.generatedLine,a=e.generatedColumn,u=t.generatedColumn;return o>r||o==r&&u>=a||Lc.compareByGeneratedPositionsInflated(e,t)<=0}n(Wg,"generatedPositionAfter");function Fo(){this._array=[],this._sorted=!0,this._last={generatedLine:-1,generatedColumn:0}}n(Fo,"MappingList");Fo.prototype.unsortedForEach=n(function(t,r){this._array.forEach(t,r)},"MappingList_forEach");Fo.prototype.add=n(function(t){Wg(this._last,t)?(this._last=t,this._array.push(t)):(this._sorted=!1,this._array.push(t))},"MappingList_add");Fo.prototype.toArray=n(function(){return this._sorted||(this._array.sort(Lc.compareByGeneratedPositionsInflated),this._sorted=!0),this._array},"MappingList_toArray");Pc.MappingList=Fo});var Bs=oe(Fc=>{var On=Os(),le=Hr(),ko=Us().ArraySet,$g=Nc().MappingList;function qe(e){e||(e={}),this._file=le.getArg(e,"file",null),this._sourceRoot=le.getArg(e,"sourceRoot",null),this._skipValidation=le.getArg(e,"skipValidation",!1),this._sources=new ko,this._names=new ko,this._mappings=new $g,this._sourcesContents=null}n(qe,"SourceMapGenerator");qe.prototype._version=3;qe.fromSourceMap=n(function(t){var r=t.sourceRoot,o=new qe({file:t.file,sourceRoot:r});return t.eachMapping(function(a){var u={generated:{line:a.generatedLine,column:a.generatedColumn}};a.source!=null&&(u.source=a.source,r!=null&&(u.source=le.relative(r,u.source)),u.original={line:a.originalLine,column:a.originalColumn},a.name!=null&&(u.name=a.name)),o.addMapping(u)}),t.sources.forEach(function(a){var u=a;r!==null&&(u=le.relative(r,a)),o._sources.has(u)||o._sources.add(u);var i=t.sourceContentFor(a);i!=null&&o.setSourceContent(a,i)}),o},"SourceMapGenerator_fromSourceMap");qe.prototype.addMapping=n(function(t){var r=le.getArg(t,"generated"),o=le.getArg(t,"original",null),a=le.getArg(t,"source",null),u=le.getArg(t,"name",null);this._skipValidation||this._validateMapping(r,o,a,u),a!=null&&(a=String(a),this._sources.has(a)||this._sources.add(a)),u!=null&&(u=String(u),this._names.has(u)||this._names.add(u)),this._mappings.add({generatedLine:r.line,generatedColumn:r.column,originalLine:o!=null&&o.line,originalColumn:o!=null&&o.column,source:a,name:u})},"SourceMapGenerator_addMapping");qe.prototype.setSourceContent=n(function(t,r){var o=t;this._sourceRoot!=null&&(o=le.relative(this._sourceRoot,o)),r!=null?(this._sourcesContents||(this._sourcesContents=Object.create(null)),this._sourcesContents[le.toSetString(o)]=r):this._sourcesContents&&(delete this._sourcesContents[le.toSetString(o)],Object.keys(this._sourcesContents).length===0&&(this._sourcesContents=null))},"SourceMapGenerator_setSourceContent");qe.prototype.applySourceMap=n(function(t,r,o){var a=r;if(r==null){if(t.file==null)throw new Error(`SourceMapGenerator.prototype.applySourceMap requires either an explicit source file, or the source map's "file" property. Both were omitted.`);a=t.file}var u=this._sourceRoot;u!=null&&(a=le.relative(u,a));var i=new ko,s=new ko;this._mappings.unsortedForEach(function(l){if(l.source===a&&l.originalLine!=null){var c=t.originalPositionFor({line:l.originalLine,column:l.originalColumn});c.source!=null&&(l.source=c.source,o!=null&&(l.source=le.join(o,l.source)),u!=null&&(l.source=le.relative(u,l.source)),l.originalLine=c.line,l.originalColumn=c.column,c.name!=null&&(l.name=c.name))}var d=l.source;d!=null&&!i.has(d)&&i.add(d);var m=l.name;m!=null&&!s.has(m)&&s.add(m)},this),this._sources=i,this._names=s,t.sources.forEach(function(l){var c=t.sourceContentFor(l);c!=null&&(o!=null&&(l=le.join(o,l)),u!=null&&(l=le.relative(u,l)),this.setSourceContent(l,c))},this)},"SourceMapGenerator_applySourceMap");qe.prototype._validateMapping=n(function(t,r,o,a){if(r&&typeof r.line!="number"&&typeof r.column!="number")throw new Error("original.line and original.column are not numbers -- you probably meant to omit the original mapping entirely and only map the generated position. If so, pass null for the original mapping instead of an object with empty or null values.");if(!(t&&"line"in t&&"column"in t&&t.line>0&&t.column>=0&&!r&&!o&&!a)){if(t&&"line"in t&&"column"in t&&r&&"line"in r&&"column"in r&&t.line>0&&t.column>=0&&r.line>0&&r.column>=0&&o)return;throw new Error("Invalid mapping: "+JSON.stringify({generated:t,source:o,original:r,name:a}))}},"SourceMapGenerator_validateMapping");qe.prototype._serializeMappings=n(function(){for(var t=0,r=1,o=0,a=0,u=0,i=0,s="",l,c,d,m,f=this._mappings.toArray(),g=0,h=f.length;g<h;g++){if(c=f[g],l="",c.generatedLine!==r)for(t=0;c.generatedLine!==r;)l+=";",r++;else if(g>0){if(!le.compareByGeneratedPositionsInflated(c,f[g-1]))continue;l+=","}l+=On.encode(c.generatedColumn-t),t=c.generatedColumn,c.source!=null&&(m=this._sources.indexOf(c.source),l+=On.encode(m-i),i=m,l+=On.encode(c.originalLine-1-a),a=c.originalLine-1,l+=On.encode(c.originalColumn-o),o=c.originalColumn,c.name!=null&&(d=this._names.indexOf(c.name),l+=On.encode(d-u),u=d)),s+=l}return s},"SourceMapGenerator_serializeMappings");qe.prototype._generateSourcesContent=n(function(t,r){return t.map(function(o){if(!this._sourcesContents)return null;r!=null&&(o=le.relative(r,o));var a=le.toSetString(o);return Object.prototype.hasOwnProperty.call(this._sourcesContents,a)?this._sourcesContents[a]:null},this)},"SourceMapGenerator_generateSourcesContent");qe.prototype.toJSON=n(function(){var t={version:this._version,sources:this._sources.toArray(),names:this._names.toArray(),mappings:this._serializeMappings()};return this._file!=null&&(t.file=this._file),this._sourceRoot!=null&&(t.sourceRoot=this._sourceRoot),this._sourcesContents&&(t.sourcesContent=this._generateSourcesContent(t.sources,t.sourceRoot)),t},"SourceMapGenerator_toJSON");qe.prototype.toString=n(function(){return JSON.stringify(this.toJSON())},"SourceMapGenerator_toString");Fc.SourceMapGenerator=qe});var kc=oe(wr=>{wr.GREATEST_LOWER_BOUND=1;wr.LEAST_UPPER_BOUND=2;function Ds(e,t,r,o,a,u){var i=Math.floor((t-e)/2)+e,s=a(r,o[i],!0);return s===0?i:s>0?t-i>1?Ds(i,t,r,o,a,u):u==wr.LEAST_UPPER_BOUND?t<o.length?t:-1:i:i-e>1?Ds(e,i,r,o,a,u):u==wr.LEAST_UPPER_BOUND?i:e<0?-1:e}n(Ds,"recursiveSearch");wr.search=n(function(t,r,o,a){if(r.length===0)return-1;var u=Ds(-1,r.length,t,r,o,a||wr.GREATEST_LOWER_BOUND);if(u<0)return-1;for(;u-1>=0&&o(r[u],r[u-1],!0)===0;)--u;return u},"search")});var Rc=oe(Oc=>{function js(e,t,r){var o=e[t];e[t]=e[r],e[r]=o}n(js,"swap");function zg(e,t){return Math.round(e+Math.random()*(t-e))}n(zg,"randomIntInRange");function Ks(e,t,r,o){if(r<o){var a=zg(r,o),u=r-1;js(e,a,o);for(var i=e[o],s=r;s<o;s++)t(e[s],i)<=0&&(u+=1,js(e,u,s));js(e,u+1,s);var l=u+1;Ks(e,t,r,l-1),Ks(e,t,l+1,o)}}n(Ks,"doQuickSort");Oc.quickSort=function(e,t){Ks(e,t,0,e.length-1)}});var Cc=oe(Oo=>{var v=Hr(),Gs=kc(),qr=Us().ArraySet,Hg=Os(),Rn=Rc().quickSort;function X(e,t){var r=e;return typeof e=="string"&&(r=v.parseSourceMapInput(e)),r.sections!=null?new ot(r,t):new Ie(r,t)}n(X,"SourceMapConsumer");X.fromSourceMap=function(e,t){return Ie.fromSourceMap(e,t)};X.prototype._version=3;X.prototype.__generatedMappings=null;Object.defineProperty(X.prototype,"_generatedMappings",{configurable:!0,enumerable:!0,get:n(function(){return this.__generatedMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__generatedMappings},"get")});X.prototype.__originalMappings=null;Object.defineProperty(X.prototype,"_originalMappings",{configurable:!0,enumerable:!0,get:n(function(){return this.__originalMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__originalMappings},"get")});X.prototype._charIsMappingSeparator=n(function(t,r){var o=t.charAt(r);return o===";"||o===","},"SourceMapConsumer_charIsMappingSeparator");X.prototype._parseMappings=n(function(t,r){throw new Error("Subclasses must implement _parseMappings")},"SourceMapConsumer_parseMappings");X.GENERATED_ORDER=1;X.ORIGINAL_ORDER=2;X.GREATEST_LOWER_BOUND=1;X.LEAST_UPPER_BOUND=2;X.prototype.eachMapping=n(function(t,r,o){var a=r||null,u=o||X.GENERATED_ORDER,i;switch(u){case X.GENERATED_ORDER:i=this._generatedMappings;break;case X.ORIGINAL_ORDER:i=this._originalMappings;break;default:throw new Error("Unknown order of iteration.")}var s=this.sourceRoot;i.map(function(l){var c=l.source===null?null:this._sources.at(l.source);return c=v.computeSourceURL(s,c,this._sourceMapURL),{source:c,generatedLine:l.generatedLine,generatedColumn:l.generatedColumn,originalLine:l.originalLine,originalColumn:l.originalColumn,name:l.name===null?null:this._names.at(l.name)}},this).forEach(t,a)},"SourceMapConsumer_eachMapping");X.prototype.allGeneratedPositionsFor=n(function(t){var r=v.getArg(t,"line"),o={source:v.getArg(t,"source"),originalLine:r,originalColumn:v.getArg(t,"column",0)};if(o.source=this._findSourceIndex(o.source),o.source<0)return[];var a=[],u=this._findMapping(o,this._originalMappings,"originalLine","originalColumn",v.compareByOriginalPositions,Gs.LEAST_UPPER_BOUND);if(u>=0){var i=this._originalMappings[u];if(t.column===void 0)for(var s=i.originalLine;i&&i.originalLine===s;)a.push({line:v.getArg(i,"generatedLine",null),column:v.getArg(i,"generatedColumn",null),lastColumn:v.getArg(i,"lastGeneratedColumn",null)}),i=this._originalMappings[++u];else for(var l=i.originalColumn;i&&i.originalLine===r&&i.originalColumn==l;)a.push({line:v.getArg(i,"generatedLine",null),column:v.getArg(i,"generatedColumn",null),lastColumn:v.getArg(i,"lastGeneratedColumn",null)}),i=this._originalMappings[++u]}return a},"SourceMapConsumer_allGeneratedPositionsFor");Oo.SourceMapConsumer=X;function Ie(e,t){var r=e;typeof e=="string"&&(r=v.parseSourceMapInput(e));var o=v.getArg(r,"version"),a=v.getArg(r,"sources"),u=v.getArg(r,"names",[]),i=v.getArg(r,"sourceRoot",null),s=v.getArg(r,"sourcesContent",null),l=v.getArg(r,"mappings"),c=v.getArg(r,"file",null);if(o!=this._version)throw new Error("Unsupported version: "+o);i&&(i=v.normalize(i)),a=a.map(String).map(v.normalize).map(function(d){return i&&v.isAbsolute(i)&&v.isAbsolute(d)?v.relative(i,d):d}),this._names=qr.fromArray(u.map(String),!0),this._sources=qr.fromArray(a,!0),this._absoluteSources=this._sources.toArray().map(function(d){return v.computeSourceURL(i,d,t)}),this.sourceRoot=i,this.sourcesContent=s,this._mappings=l,this._sourceMapURL=t,this.file=c}n(Ie,"BasicSourceMapConsumer");Ie.prototype=Object.create(X.prototype);Ie.prototype.consumer=X;Ie.prototype._findSourceIndex=function(e){var t=e;if(this.sourceRoot!=null&&(t=v.relative(this.sourceRoot,t)),this._sources.has(t))return this._sources.indexOf(t);var r;for(r=0;r<this._absoluteSources.length;++r)if(this._absoluteSources[r]==e)return r;return-1};Ie.fromSourceMap=n(function(t,r){var o=Object.create(Ie.prototype),a=o._names=qr.fromArray(t._names.toArray(),!0),u=o._sources=qr.fromArray(t._sources.toArray(),!0);o.sourceRoot=t._sourceRoot,o.sourcesContent=t._generateSourcesContent(o._sources.toArray(),o.sourceRoot),o.file=t._file,o._sourceMapURL=r,o._absoluteSources=o._sources.toArray().map(function(g){return v.computeSourceURL(o.sourceRoot,g,r)});for(var i=t._mappings.toArray().slice(),s=o.__generatedMappings=[],l=o.__originalMappings=[],c=0,d=i.length;c<d;c++){var m=i[c],f=new Ac;f.generatedLine=m.generatedLine,f.generatedColumn=m.generatedColumn,m.source&&(f.source=u.indexOf(m.source),f.originalLine=m.originalLine,f.originalColumn=m.originalColumn,m.name&&(f.name=a.indexOf(m.name)),l.push(f)),s.push(f)}return Rn(o.__originalMappings,v.compareByOriginalPositions),o},"SourceMapConsumer_fromSourceMap");Ie.prototype._version=3;Object.defineProperty(Ie.prototype,"sources",{get:n(function(){return this._absoluteSources.slice()},"get")});function Ac(){this.generatedLine=0,this.generatedColumn=0,this.source=null,this.originalLine=null,this.originalColumn=null,this.name=null}n(Ac,"Mapping");Ie.prototype._parseMappings=n(function(t,r){for(var o=1,a=0,u=0,i=0,s=0,l=0,c=t.length,d=0,m={},f={},g=[],h=[],I,x,w,F,M;d<c;)if(t.charAt(d)===";")o++,d++,a=0;else if(t.charAt(d)===",")d++;else{for(I=new Ac,I.generatedLine=o,F=d;F<c&&!this._charIsMappingSeparator(t,F);F++);if(x=t.slice(d,F),w=m[x],w)d+=x.length;else{for(w=[];d<F;)Hg.decode(t,d,f),M=f.value,d=f.rest,w.push(M);if(w.length===2)throw new Error("Found a source, but no line and column");if(w.length===3)throw new Error("Found a source and line, but no column");m[x]=w}I.generatedColumn=a+w[0],a=I.generatedColumn,w.length>1&&(I.source=s+w[1],s+=w[1],I.originalLine=u+w[2],u=I.originalLine,I.originalLine+=1,I.originalColumn=i+w[3],i=I.originalColumn,w.length>4&&(I.name=l+w[4],l+=w[4])),h.push(I),typeof I.originalLine=="number"&&g.push(I)}Rn(h,v.compareByGeneratedPositionsDeflated),this.__generatedMappings=h,Rn(g,v.compareByOriginalPositions),this.__originalMappings=g},"SourceMapConsumer_parseMappings");Ie.prototype._findMapping=n(function(t,r,o,a,u,i){if(t[o]<=0)throw new TypeError("Line must be greater than or equal to 1, got "+t[o]);if(t[a]<0)throw new TypeError("Column must be greater than or equal to 0, got "+t[a]);return Gs.search(t,r,u,i)},"SourceMapConsumer_findMapping");Ie.prototype.computeColumnSpans=n(function(){for(var t=0;t<this._generatedMappings.length;++t){var r=this._generatedMappings[t];if(t+1<this._generatedMappings.length){var o=this._generatedMappings[t+1];if(r.generatedLine===o.generatedLine){r.lastGeneratedColumn=o.generatedColumn-1;continue}}r.lastGeneratedColumn=1/0}},"SourceMapConsumer_computeColumnSpans");Ie.prototype.originalPositionFor=n(function(t){var r={generatedLine:v.getArg(t,"line"),generatedColumn:v.getArg(t,"column")},o=this._findMapping(r,this._generatedMappings,"generatedLine","generatedColumn",v.compareByGeneratedPositionsDeflated,v.getArg(t,"bias",X.GREATEST_LOWER_BOUND));if(o>=0){var a=this._generatedMappings[o];if(a.generatedLine===r.generatedLine){var u=v.getArg(a,"source",null);u!==null&&(u=this._sources.at(u),u=v.computeSourceURL(this.sourceRoot,u,this._sourceMapURL));var i=v.getArg(a,"name",null);return i!==null&&(i=this._names.at(i)),{source:u,line:v.getArg(a,"originalLine",null),column:v.getArg(a,"originalColumn",null),name:i}}}return{source:null,line:null,column:null,name:null}},"SourceMapConsumer_originalPositionFor");Ie.prototype.hasContentsOfAllSources=n(function(){return this.sourcesContent?this.sourcesContent.length>=this._sources.size()&&!this.sourcesContent.some(function(t){return t==null}):!1},"BasicSourceMapConsumer_hasContentsOfAllSources");Ie.prototype.sourceContentFor=n(function(t,r){if(!this.sourcesContent)return null;var o=this._findSourceIndex(t);if(o>=0)return this.sourcesContent[o];var a=t;this.sourceRoot!=null&&(a=v.relative(this.sourceRoot,a));var u;if(this.sourceRoot!=null&&(u=v.urlParse(this.sourceRoot))){var i=a.replace(/^file:\/\//,"");if(u.scheme=="file"&&this._sources.has(i))return this.sourcesContent[this._sources.indexOf(i)];if((!u.path||u.path=="/")&&this._sources.has("/"+a))return this.sourcesContent[this._sources.indexOf("/"+a)]}if(r)return null;throw new Error('"'+a+'" is not in the SourceMap.')},"SourceMapConsumer_sourceContentFor");Ie.prototype.generatedPositionFor=n(function(t){var r=v.getArg(t,"source");if(r=this._findSourceIndex(r),r<0)return{line:null,column:null,lastColumn:null};var o={source:r,originalLine:v.getArg(t,"line"),originalColumn:v.getArg(t,"column")},a=this._findMapping(o,this._originalMappings,"originalLine","originalColumn",v.compareByOriginalPositions,v.getArg(t,"bias",X.GREATEST_LOWER_BOUND));if(a>=0){var u=this._originalMappings[a];if(u.source===o.source)return{line:v.getArg(u,"generatedLine",null),column:v.getArg(u,"generatedColumn",null),lastColumn:v.getArg(u,"lastGeneratedColumn",null)}}return{line:null,column:null,lastColumn:null}},"SourceMapConsumer_generatedPositionFor");Oo.BasicSourceMapConsumer=Ie;function ot(e,t){var r=e;typeof e=="string"&&(r=v.parseSourceMapInput(e));var o=v.getArg(r,"version"),a=v.getArg(r,"sections");if(o!=this._version)throw new Error("Unsupported version: "+o);this._sources=new qr,this._names=new qr;var u={line:-1,column:0};this._sections=a.map(function(i){if(i.url)throw new Error("Support for url field in sections not implemented.");var s=v.getArg(i,"offset"),l=v.getArg(s,"line"),c=v.getArg(s,"column");if(l<u.line||l===u.line&&c<u.column)throw new Error("Section offsets must be ordered and non-overlapping.");return u=s,{generatedOffset:{generatedLine:l+1,generatedColumn:c+1},consumer:new X(v.getArg(i,"map"),t)}})}n(ot,"IndexedSourceMapConsumer");ot.prototype=Object.create(X.prototype);ot.prototype.constructor=X;ot.prototype._version=3;Object.defineProperty(ot.prototype,"sources",{get:n(function(){for(var e=[],t=0;t<this._sections.length;t++)for(var r=0;r<this._sections[t].consumer.sources.length;r++)e.push(this._sections[t].consumer.sources[r]);return e},"get")});ot.prototype.originalPositionFor=n(function(t){var r={generatedLine:v.getArg(t,"line"),generatedColumn:v.getArg(t,"column")},o=Gs.search(r,this._sections,function(u,i){var s=u.generatedLine-i.generatedOffset.generatedLine;return s||u.generatedColumn-i.generatedOffset.generatedColumn}),a=this._sections[o];return a?a.consumer.originalPositionFor({line:r.generatedLine-(a.generatedOffset.generatedLine-1),column:r.generatedColumn-(a.generatedOffset.generatedLine===r.generatedLine?a.generatedOffset.generatedColumn-1:0),bias:t.bias}):{source:null,line:null,column:null,name:null}},"IndexedSourceMapConsumer_originalPositionFor");ot.prototype.hasContentsOfAllSources=n(function(){return this._sections.every(function(t){return t.consumer.hasContentsOfAllSources()})},"IndexedSourceMapConsumer_hasContentsOfAllSources");ot.prototype.sourceContentFor=n(function(t,r){for(var o=0;o<this._sections.length;o++){var a=this._sections[o],u=a.consumer.sourceContentFor(t,!0);if(u)return u}if(r)return null;throw new Error('"'+t+'" is not in the SourceMap.')},"IndexedSourceMapConsumer_sourceContentFor");ot.prototype.generatedPositionFor=n(function(t){for(var r=0;r<this._sections.length;r++){var o=this._sections[r];if(o.consumer._findSourceIndex(v.getArg(t,"source"))!==-1){var a=o.consumer.generatedPositionFor(t);if(a){var u={line:a.line+(o.generatedOffset.generatedLine-1),column:a.column+(o.generatedOffset.generatedLine===a.line?o.generatedOffset.generatedColumn-1:0)};return u}}}return{line:null,column:null}},"IndexedSourceMapConsumer_generatedPositionFor");ot.prototype._parseMappings=n(function(t,r){this.__generatedMappings=[],this.__originalMappings=[];for(var o=0;o<this._sections.length;o++)for(var a=this._sections[o],u=a.consumer._generatedMappings,i=0;i<u.length;i++){var s=u[i],l=a.consumer._sources.at(s.source);l=v.computeSourceURL(a.consumer.sourceRoot,l,this._sourceMapURL),this._sources.add(l),l=this._sources.indexOf(l);var c=null;s.name&&(c=a.consumer._names.at(s.name),this._names.add(c),c=this._names.indexOf(c));var d={source:l,generatedLine:s.generatedLine+(a.generatedOffset.generatedLine-1),generatedColumn:s.generatedColumn+(a.generatedOffset.generatedLine===s.generatedLine?a.generatedOffset.generatedColumn-1:0),originalLine:s.originalLine,originalColumn:s.originalColumn,name:c};this.__generatedMappings.push(d),typeof d.originalLine=="number"&&this.__originalMappings.push(d)}Rn(this.__generatedMappings,v.compareByGeneratedPositionsDeflated),Rn(this.__originalMappings,v.compareByOriginalPositions)},"IndexedSourceMapConsumer_parseMappings");Oo.IndexedSourceMapConsumer=ot});var Bc=oe(Uc=>{var qg=Bs().SourceMapGenerator,Ro=Hr(),Zg=/(\r?\n)/,Jg=10,Zr="$$$isSourceNode$$$";function Be(e,t,r,o,a){this.children=[],this.sourceContents={},this.line=e==null?null:e,this.column=t==null?null:t,this.source=r==null?null:r,this.name=a==null?null:a,this[Zr]=!0,o!=null&&this.add(o)}n(Be,"SourceNode");Be.fromStringWithSourceMap=n(function(t,r,o){var a=new Be,u=t.split(Zg),i=0,s=n(function(){var f=h(),g=h()||"";return f+g;function h(){return i<u.length?u[i++]:void 0}},"shiftNextLine"),l=1,c=0,d=null;return r.eachMapping(function(f){if(d!==null)if(l<f.generatedLine)m(d,s()),l++,c=0;else{var g=u[i]||"",h=g.substr(0,f.generatedColumn-c);u[i]=g.substr(f.generatedColumn-c),c=f.generatedColumn,m(d,h),d=f;return}for(;l<f.generatedLine;)a.add(s()),l++;if(c<f.generatedColumn){var g=u[i]||"";a.add(g.substr(0,f.generatedColumn)),u[i]=g.substr(f.generatedColumn),c=f.generatedColumn}d=f},this),i<u.length&&(d&&m(d,s()),a.add(u.splice(i).join(""))),r.sources.forEach(function(f){var g=r.sourceContentFor(f);g!=null&&(o!=null&&(f=Ro.join(o,f)),a.setSourceContent(f,g))}),a;function m(f,g){if(f===null||f.source===void 0)a.add(g);else{var h=o?Ro.join(o,f.source):f.source;a.add(new Be(f.originalLine,f.originalColumn,h,g,f.name))}}n(m,"addMappingWithCode")},"SourceNode_fromStringWithSourceMap");Be.prototype.add=n(function(t){if(Array.isArray(t))t.forEach(function(r){this.add(r)},this);else if(t[Zr]||typeof t=="string")t&&this.children.push(t);else throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+t);return this},"SourceNode_add");Be.prototype.prepend=n(function(t){if(Array.isArray(t))for(var r=t.length-1;r>=0;r--)this.prepend(t[r]);else if(t[Zr]||typeof t=="string")this.children.unshift(t);else throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+t);return this},"SourceNode_prepend");Be.prototype.walk=n(function(t){for(var r,o=0,a=this.children.length;o<a;o++)r=this.children[o],r[Zr]?r.walk(t):r!==""&&t(r,{source:this.source,line:this.line,column:this.column,name:this.name})},"SourceNode_walk");Be.prototype.join=n(function(t){var r,o,a=this.children.length;if(a>0){for(r=[],o=0;o<a-1;o++)r.push(this.children[o]),r.push(t);r.push(this.children[o]),this.children=r}return this},"SourceNode_join");Be.prototype.replaceRight=n(function(t,r){var o=this.children[this.children.length-1];return o[Zr]?o.replaceRight(t,r):typeof o=="string"?this.children[this.children.length-1]=o.replace(t,r):this.children.push("".replace(t,r)),this},"SourceNode_replaceRight");Be.prototype.setSourceContent=n(function(t,r){this.sourceContents[Ro.toSetString(t)]=r},"SourceNode_setSourceContent");Be.prototype.walkSourceContents=n(function(t){for(var r=0,o=this.children.length;r<o;r++)this.children[r][Zr]&&this.children[r].walkSourceContents(t);for(var a=Object.keys(this.sourceContents),r=0,o=a.length;r<o;r++)t(Ro.fromSetString(a[r]),this.sourceContents[a[r]])},"SourceNode_walkSourceContents");Be.prototype.toString=n(function(){var t="";return this.walk(function(r){t+=r}),t},"SourceNode_toString");Be.prototype.toStringWithSourceMap=n(function(t){var r={code:"",line:1,column:0},o=new qg(t),a=!1,u=null,i=null,s=null,l=null;return this.walk(function(c,d){r.code+=c,d.source!==null&&d.line!==null&&d.column!==null?((u!==d.source||i!==d.line||s!==d.column||l!==d.name)&&o.addMapping({source:d.source,original:{line:d.line,column:d.column},generated:{line:r.line,column:r.column},name:d.name}),u=d.source,i=d.line,s=d.column,l=d.name,a=!0):a&&(o.addMapping({generated:{line:r.line,column:r.column}}),u=null,a=!1);for(var m=0,f=c.length;m<f;m++)c.charCodeAt(m)===Jg?(r.line++,r.column=0,m+1===f?(u=null,a=!1):a&&o.addMapping({source:d.source,original:{line:d.line,column:d.column},generated:{line:r.line,column:r.column},name:d.name})):r.column++}),this.walkSourceContents(function(c,d){o.setSourceContent(c,d)}),{code:r.code,map:o}},"SourceNode_toStringWithSourceMap");Uc.SourceNode=Be});var Dc=oe(Ao=>{Ao.SourceMapGenerator=Bs().SourceMapGenerator;Ao.SourceMapConsumer=Cc().SourceMapConsumer;Ao.SourceNode=Bc().SourceNode});var Kc=oe((cE,jc)=>{var Xg=Object.prototype.toString,Vs=typeof Buffer<"u"&&typeof Buffer.alloc=="function"&&typeof Buffer.allocUnsafe=="function"&&typeof Buffer.from=="function";function Yg(e){return Xg.call(e).slice(8,-1)==="ArrayBuffer"}n(Yg,"isArrayBuffer");function Qg(e,t,r){t>>>=0;var o=e.byteLength-t;if(o<0)throw new RangeError("'offset' is out of bounds");if(r===void 0)r=o;else if(r>>>=0,r>o)throw new RangeError("'length' is out of bounds");return Vs?Buffer.from(e.slice(t,t+r)):new Buffer(new Uint8Array(e.slice(t,t+r)))}n(Qg,"fromArrayBuffer");function eh(e,t){if((typeof t!="string"||t==="")&&(t="utf8"),!Buffer.isEncoding(t))throw new TypeError('"encoding" must be a valid string encoding');return Vs?Buffer.from(e,t):new Buffer(e,t)}n(eh,"fromString");function th(e,t,r){if(typeof e=="number")throw new TypeError('"value" argument must not be a number');return Yg(e)?Qg(e,t,r):typeof e=="string"?eh(e,t):Vs?Buffer.from(e):new Buffer(e)}n(th,"bufferFrom");jc.exports=th});var Zc=oe((Er,Hs)=>{var rh=Dc().SourceMapConsumer,Ws=require("path"),It;try{It=require("fs"),(!It.existsSync||!It.readFileSync)&&(It=null)}catch{}var nh=Kc();function Gc(e,t){return e.require(t)}n(Gc,"dynamicRequire");var Vc=!1,Wc=!1,$s=!1,An="auto",Sr={},Cn={},oh=/^data:application\/json[^,]+base64,/,Jt=[],Xt=[];function qs(){return An==="browser"?!0:An==="node"?!1:typeof window<"u"&&typeof XMLHttpRequest=="function"&&!(window.require&&window.module&&window.process&&window.process.type==="renderer")}n(qs,"isInBrowser");function ih(){return typeof process=="object"&&process!==null&&typeof process.on=="function"}n(ih,"hasGlobalProcessEventEmitter");function sh(){return typeof process=="object"&&process!==null?process.version:""}n(sh,"globalProcessVersion");function ah(){if(typeof process=="object"&&process!==null)return process.stderr}n(ah,"globalProcessStderr");function uh(e){if(typeof process=="object"&&process!==null&&typeof process.exit=="function")return process.exit(e)}n(uh,"globalProcessExit");function Co(e){return function(t){for(var r=0;r<e.length;r++){var o=e[r](t);if(o)return o}return null}}n(Co,"handlerExec");var Zs=Co(Jt);Jt.push(function(e){if(e=e.trim(),/^file:/.test(e)&&(e=e.replace(/file:\/\/\/(\w:)?/,function(o,a){return a?"":"/"})),e in Sr)return Sr[e];var t="";try{if(It)It.existsSync(e)&&(t=It.readFileSync(e,"utf8"));else{var r=new XMLHttpRequest;r.open("GET",e,!1),r.send(null),r.readyState===4&&r.status===200&&(t=r.responseText)}}catch{}return Sr[e]=t});function zs(e,t){if(!e)return t;var r=Ws.dirname(e),o=/^\w+:\/\/[^\/]*/.exec(r),a=o?o[0]:"",u=r.slice(a.length);return a&&/^\/\w\:/.test(u)?(a+="/",a+Ws.resolve(r.slice(a.length),t).replace(/\\/g,"/")):a+Ws.resolve(r.slice(a.length),t)}n(zs,"supportRelativeURL");function lh(e){var t;if(qs())try{var r=new XMLHttpRequest;r.open("GET",e,!1),r.send(null),t=r.readyState===4?r.responseText:null;var o=r.getResponseHeader("SourceMap")||r.getResponseHeader("X-SourceMap");if(o)return o}catch{}t=Zs(e);for(var a=/(?:\/\/[@#][\s]*sourceMappingURL=([^\s'"]+)[\s]*$)|(?:\/\*[@#][\s]*sourceMappingURL=([^\s*'"]+)[\s]*(?:\*\/)[\s]*$)/mg,u,i;i=a.exec(t);)u=i;return u?u[1]:null}n(lh,"retrieveSourceMapURL");var Js=Co(Xt);Xt.push(function(e){var t=lh(e);if(!t)return null;var r;if(oh.test(t)){var o=t.slice(t.indexOf(",")+1);r=nh(o,"base64").toString(),t=e}else t=zs(e,t),r=Zs(t);return r?{url:t,map:r}:null});function Xs(e){var t=Cn[e.source];if(!t){var r=Js(e.source);r?(t=Cn[e.source]={url:r.url,map:new rh(r.map)},t.map.sourcesContent&&t.map.sources.forEach(function(a,u){var i=t.map.sourcesContent[u];if(i){var s=zs(t.url,a);Sr[s]=i}})):t=Cn[e.source]={url:null,map:null}}if(t&&t.map&&typeof t.map.originalPositionFor=="function"){var o=t.map.originalPositionFor(e);if(o.source!==null)return o.source=zs(t.url,o.source),o}return e}n(Xs,"mapSourcePosition");function zc(e){var t=/^eval at ([^(]+) \((.+):(\d+):(\d+)\)$/.exec(e);if(t){var r=Xs({source:t[2],line:+t[3],column:t[4]-1});return"eval at "+t[1]+" ("+r.source+":"+r.line+":"+(r.column+1)+")"}return t=/^eval at ([^(]+) \((.+)\)$/.exec(e),t?"eval at "+t[1]+" ("+zc(t[2])+")":e}n(zc,"mapEvalOrigin");function ch(){var e,t="";if(this.isNative())t="native";else{e=this.getScriptNameOrSourceURL(),!e&&this.isEval()&&(t=this.getEvalOrigin(),t+=", "),e?t+=e:t+="<anonymous>";var r=this.getLineNumber();if(r!=null){t+=":"+r;var o=this.getColumnNumber();o&&(t+=":"+o)}}var a="",u=this.getFunctionName(),i=!0,s=this.isConstructor(),l=!(this.isToplevel()||s);if(l){var c=this.getTypeName();c==="[object Object]"&&(c="null");var d=this.getMethodName();u?(c&&u.indexOf(c)!=0&&(a+=c+"."),a+=u,d&&u.indexOf("."+d)!=u.length-d.length-1&&(a+=" [as "+d+"]")):a+=c+"."+(d||"<anonymous>")}else s?a+="new "+(u||"<anonymous>"):u?a+=u:(a+=t,i=!1);return i&&(a+=" ("+t+")"),a}n(ch,"CallSiteToString");function $c(e){var t={};return Object.getOwnPropertyNames(Object.getPrototypeOf(e)).forEach(function(r){t[r]=/^(?:is|get)/.test(r)?function(){return e[r].call(e)}:e[r]}),t.toString=ch,t}n($c,"cloneCallSite");function Hc(e,t){if(t===void 0&&(t={nextPosition:null,curPosition:null}),e.isNative())return t.curPosition=null,e;var r=e.getFileName()||e.getScriptNameOrSourceURL();if(r){var o=e.getLineNumber(),a=e.getColumnNumber()-1,u=/^v(10\.1[6-9]|10\.[2-9][0-9]|10\.[0-9]{3,}|1[2-9]\d*|[2-9]\d|\d{3,}|11\.11)/,i=u.test(sh())?0:62;o===1&&a>i&&!qs()&&!e.isEval()&&(a-=i);var s=Xs({source:r,line:o,column:a});t.curPosition=s,e=$c(e);var l=e.getFunctionName;return e.getFunctionName=function(){return t.nextPosition==null?l():t.nextPosition.name||l()},e.getFileName=function(){return s.source},e.getLineNumber=function(){return s.line},e.getColumnNumber=function(){return s.column+1},e.getScriptNameOrSourceURL=function(){return s.source},e}var c=e.isEval()&&e.getEvalOrigin();return c&&(c=zc(c),e=$c(e),e.getEvalOrigin=function(){return c}),e}n(Hc,"wrapCallSite");function dh(e,t){$s&&(Sr={},Cn={});for(var r=e.name||"Error",o=e.message||"",a=r+": "+o,u={nextPosition:null,curPosition:null},i=[],s=t.length-1;s>=0;s--)i.push(`
    at `+Hc(t[s],u)),u.nextPosition=u.curPosition;return u.curPosition=u.nextPosition=null,a+i.reverse().join("")}n(dh,"prepareStackTrace");function qc(e){var t=/\n    at [^(]+ \((.*):(\d+):(\d+)\)/.exec(e.stack);if(t){var r=t[1],o=+t[2],a=+t[3],u=Sr[r];if(!u&&It&&It.existsSync(r))try{u=It.readFileSync(r,"utf8")}catch{u=""}if(u){var i=u.split(/(?:\r\n|\r|\n)/)[o-1];if(i)return r+":"+o+`
`+i+`
`+new Array(a).join(" ")+"^"}}return null}n(qc,"getErrorSource");function mh(e){var t=qc(e),r=ah();r&&r._handle&&r._handle.setBlocking&&r._handle.setBlocking(!0),t&&(console.error(),console.error(t)),console.error(e.stack),uh(1)}n(mh,"printErrorAndExit");function ph(){var e=process.emit;process.emit=function(t){if(t==="uncaughtException"){var r=arguments[1]&&arguments[1].stack,o=this.listeners(t).length>0;if(r&&!o)return mh(arguments[1])}return e.apply(this,arguments)}}n(ph,"shimEmitUncaughtException");var fh=Jt.slice(0),_h=Xt.slice(0);Er.wrapCallSite=Hc;Er.getErrorSource=qc;Er.mapSourcePosition=Xs;Er.retrieveSourceMap=Js;Er.install=function(e){if(e=e||{},e.environment&&(An=e.environment,["node","browser","auto"].indexOf(An)===-1))throw new Error("environment "+An+" was unknown. Available options are {auto, browser, node}");if(e.retrieveFile&&(e.overrideRetrieveFile&&(Jt.length=0),Jt.unshift(e.retrieveFile)),e.retrieveSourceMap&&(e.overrideRetrieveSourceMap&&(Xt.length=0),Xt.unshift(e.retrieveSourceMap)),e.hookRequire&&!qs()){var t=Gc(Hs,"module"),r=t.prototype._compile;r.__sourceMapSupport||(t.prototype._compile=function(u,i){return Sr[i]=u,Cn[i]=void 0,r.call(this,u,i)},t.prototype._compile.__sourceMapSupport=!0)}if($s||($s="emptyCacheBetweenOperations"in e?e.emptyCacheBetweenOperations:!1),Vc||(Vc=!0,Error.prepareStackTrace=dh),!Wc){var o="handleUncaughtExceptions"in e?e.handleUncaughtExceptions:!0;try{var a=Gc(Hs,"worker_threads");a.isMainThread===!1&&(o=!1)}catch{}o&&ih()&&(Wc=!0,ph())}};Er.resetRetrieveHandlers=function(){Jt.length=0,Xt.length=0,Jt=fh.slice(0),Xt=_h.slice(0),Js=Co(Xt),Zs=Co(Jt)}});var Ys=oe(()=>{Zc().install()});function Uo(e,t,r){return{type:"virtual",indentation:e,subs:t,label:r}}function Qs(e,t,r,o,a){if(r==="")throw new Error("Cannot create a line node with an empty source line");return{type:"line",indentation:e,lineNumber:t,sourceLine:r,subs:o,label:a}}function Bo(e){return{type:"blank",lineNumber:e,subs:[]}}function Un(e){return{type:"top",indentation:-1,subs:e!=null?e:[]}}function re(e){return e.type==="blank"}function it(e){return e.type==="line"}function De(e){return e.type==="virtual"}function Yt(e){return e.type==="top"}function gh(e,t){function r(o){if(!De(o)&&!Yt(o)&&o.lineNumber===t)return o.subs=[],!0;for(let a=0;a<o.subs.length;a++)if(r(o.subs[a]))return o.subs=o.subs.slice(0,a+1),!0;return!1}n(r,"cut"),r(e)}function hh(e){return JSON.parse(JSON.stringify(e))}var Tr=p(()=>{"use strict";n(Uo,"virtualNode");n(Qs,"lineNode");n(Bo,"blankNode");n(Un,"topNode");n(re,"isBlank");n(it,"isLine");n(De,"isVirtual");n(Yt,"isTop");n(gh,"cutTreeAfterLine");n(hh,"duplicateTree")});function Jc(e){return ie(e,t=>{t.label=void 0},"bottomUp"),e}function ea(e,t){return ie(e,r=>{r.label=r.label?t(r.label)?void 0:r.label:void 0},"bottomUp"),e}function xt(e,t){switch(e.type){case"line":case"virtual":{let r=e.subs.map(o=>xt(o,t));return{...e,subs:r,label:e.label?t(e.label):void 0}}case"blank":return{...e,label:e.label?t(e.label):void 0};case"top":return{...e,subs:e.subs.map(r=>xt(r,t)),label:e.label?t(e.label):void 0}}}function bh(e){let t=0;function r(o){!De(o)&&!Yt(o)&&(o.lineNumber=t,t++)}n(r,"visitor"),ie(e,r,"topDown")}function ie(e,t,r){function o(a){r==="topDown"&&t(a),a.subs.forEach(u=>{o(u)}),r==="bottomUp"&&t(a)}n(o,"_visit"),o(e)}function yh(e,t,r){function o(a){if(r==="topDown"&&!t(a))return!1;let u=!0;return a.subs.forEach(i=>{u=u&&o(i)}),r==="bottomUp"&&(u=u&&t(a)),u}n(o,"_visit"),o(e)}function Bn(e,t,r,o){let a=t;function u(i){a=r(i,a)}return n(u,"visitor"),ie(e,u,o),a}function Dn(e,t,r){let o=n(u=>{if(r!==void 0&&r(u))return u;{let i=u.subs.map(o).filter(s=>s!==void 0);return u.subs=i,t(u)}},"rebuild"),a=o(e);return a!==void 0?a:Un()}var Jr=p(()=>{"use strict";Tr();n(Jc,"clearLabels");n(ea,"clearLabelsIf");n(xt,"mapLabels");n(bh,"resetLineNumbers");n(ie,"visitTree");n(yh,"visitTreeConditionally");n(Bn,"foldTree");n(Dn,"rebuildTree")});function Xc(e){let t=e.split(`
`),r=t.map(c=>c.match(/^\s*/)[0].length),o=t.map(c=>c.trimLeft());function a(c){let[d,m]=u(c+1,r[c]);return[Qs(r[c],c,o[c],d),m]}n(a,"parseNode");function u(c,d){let m,f=[],g=c,h;for(;g<o.length&&(o[g]===""||r[g]>d);)if(o[g]==="")h===void 0&&(h=g),g+=1;else{if(h!==void 0){for(let I=h;I<g;I++)f.push(Bo(I));h=void 0}[m,g]=a(g),f.push(m)}return h!==void 0&&(g=h),[f,g]}n(u,"parseSubs");let[i,s]=u(0,-1),l=s;for(;l<o.length&&o[l]==="";)i.push(Bo(l)),l+=1;if(l<o.length)throw new Error(`Parsing did not go to end of file. Ended at ${l} out of ${o.length}`);return Un(i)}function Xr(e,t){function r(o){if(it(o)){let a=t.find(u=>u.matches(o.sourceLine));a&&(o.label=a.label)}}n(r,"visitor"),ie(e,r,"bottomUp")}function jn(e){function t(r){if(De(r)&&r.label===void 0){let o=r.subs.filter(a=>!re(a));o.length===1&&(r.label=o[0].label)}}n(t,"visitor"),ie(e,t,"bottomUp")}function Yr(e){return Object.keys(e).map(t=>{let r;return e[t].test?r=n(o=>e[t].test(o),"matches"):r=e[t],{matches:r,label:t}})}function Do(e){let r=Dn(e,n(function(o){if(o.subs.length===0||o.subs.findIndex(i=>i.label==="closer"||i.label==="opener")===-1)return o;let a=[],u;for(let i=0;i<o.subs.length;i++){let s=o.subs[i],l=o.subs[i-1];if(s.label==="opener"&&l!==void 0&&it(l))l.subs.push(s),s.subs.forEach(c=>l.subs.push(c)),s.subs=[];else if(s.label==="closer"&&u!==void 0&&(it(s)||De(s))&&s.indentation>=u.indentation){let c=a.length-1;for(;c>0&&re(a[c]);)c-=1;if(u.subs.push(...a.splice(c+1)),s.subs.length>0){let d=u.subs.findIndex(h=>h.label!=="newVirtual"),m=u.subs.slice(0,d),f=u.subs.slice(d),g=f.length>0?[Uo(s.indentation,f,"newVirtual")]:[];u.subs=[...m,...g,s]}else u.subs.push(s)}else a.push(s),re(s)||(u=s)}return o.subs=a,o},"rebuilder"));return ea(e,o=>o==="newVirtual"),r}function ta(e,t=re,r){return Dn(e,n(function(a){if(a.subs.length<=1)return a;let u=[],i=[],s,l=!1;function c(d=!1){if(s!==void 0&&(u.length>0||!d)){let m=Uo(s,i,r);u.push(m)}else i.forEach(m=>u.push(m))}n(c,"flushBlockIntoNewSubs");for(let d=0;d<a.subs.length;d++){let m=a.subs[d],f=t(m);!f&&l&&(c(),i=[]),l=f,i.push(m),re(m)||(s=s!=null?s:m.indentation)}return c(!0),a.subs=u,a},"rebuilder"))}function wt(e){return Dn(e,n(function(r){return De(r)&&r.label===void 0&&r.subs.length<=1?r.subs.length===0?void 0:r.subs[0]:(r.subs.length===1&&De(r.subs[0])&&r.subs[0].label===void 0&&(r.subs=r.subs[0].subs),r)},"rebuilder"))}function jo(e,t){Yc[e]=t}function Qt(e,t){let r=Xc(e),o=Yc[t!=null?t:""];return o?o(r):(Xr(r,xh),Do(r))}var Ih,xh,Yc,Qr=p(()=>{"use strict";Tr();Jr();n(Xc,"parseRaw");n(Xr,"labelLines");n(jn,"labelVirtualInherited");n(Yr,"buildLabelRules");n(Do,"combineClosersAndOpeners");n(ta,"groupBlocks");n(wt,"flattenVirtual");Ih={opener:/^[[({]/,closer:/^[\])}]/},xh=Yr(Ih),Yc={};n(jo,"registerLanguageSpecificParser");n(Qt,"parseTree")});function Qc(e){let t=e;return Xr(t,Sh),t=Do(t),t=wt(t),jn(t),ie(t,r=>{if(r.label==="class"||r.label==="interface")for(let o of r.subs)!re(o)&&(o.label===void 0||o.label==="annotation")&&(o.label="member")},"bottomUp"),t}var wh,Sh,ed=p(()=>{"use strict";Tr();Jr();Qr();wh={package:/^package /,import:/^import /,class:/\bclass /,interface:/\binterface /,javadoc:/^\/\*\*/,comment_multi:/^\/\*[^*]/,comment_single:/^\/\//,annotation:/^@/,opener:/^[[({]/,closer:/^[\])}]/},Sh=Yr(wh);n(Qc,"processJava")});function td(e){let t=e;if(Xr(t,Th),re(t))return t;function r(u){if(u.label==="heading")return 1;if(u.label==="subheading")return 2;if(u.label==="subsubheading")return 3}n(r,"headingLevel");let o=[t],a=[...t.subs];t.subs=[];for(let u of a){let i=r(u);if(i===void 0||re(u))o[o.length-1].subs.push(u);else{for(;o.length<i;)o.push(o[o.length-1]);for(o[i-1].subs.push(u),o[i]=u;o.length>i+1;)o.pop()}}return t=ta(t),t=wt(t),jn(t),t}var Eh,Th,rd=p(()=>{"use strict";Tr();Qr();Eh={heading:/^# /,subheading:/^## /,subsubheading:/### /},Th=Yr(Eh);n(td,"processMarkdown")});function Kn(e){return" ".repeat(e.indentation)+e.sourceLine+`
`}function nd(e){function t(r,o){let a="";return it(r)?a=Kn(r):re(r)&&(a=`
`),o+a}return n(t,"accumulator"),Bn(e,"",t,"topDown")}function vh(e,t){let r=new Set(t),o=[],a="";function u(i){i.label!==void 0&&r.has(i.label)?(a!==""&&o.push({label:void 0,source:a}),o.push({label:i.label,source:nd(i)}),a=""):(it(i)&&(a+=Kn(i)),i.subs.forEach(u))}return n(u,"visit"),u(e),a!==""&&o.push({label:void 0,source:a}),o}function od(e,t=0){let r=" ".repeat(t);if(e===void 0)return"UNDEFINED NODE";let o;e.subs===void 0?o="UNDEFINED SUBS":o=e.subs.map(i=>od(i,t+2)).join(`,
`),o===""?o="[]":o=`[
${o}
      ${r}]`;let a=(De(e)||Yt(e)?"   ":String(e.lineNumber).padStart(3," "))+`:  ${r}`,u=e.label===void 0?"":JSON.stringify(e.label);return De(e)||Yt(e)?`${a}vnode(${e.indentation}, ${u}, ${o})`:re(e)?`${a}blank(${u!=null?u:""})`:`${a}lnode(${e.indentation}, ${u}, ${JSON.stringify(e.sourceLine)}, ${o})`}function id(e,t=""){let r=e.label===void 0?"":`, ${JSON.stringify(e.label)}`,o=!re(e)&&e.subs.length>0?`[
${e.subs.map(a=>id(a,t+"  ")).join(`, 
`)}
${t}]`:"[]";switch(e.type){case"blank":return`${t}blankNode(${e.lineNumber}${r})`;case"top":return`topNode(${o}${r})`;case"virtual":return`${t}virtualNode(${e.indentation}, ${o}${r})`;case"line":return`${t}lineNode(${e.indentation}, ${e.lineNumber}, "${e.sourceLine}", ${o}${r})`}}function sd(e){if(it(e)||re(e))return e.lineNumber;for(let t of e.subs){let r=sd(t);if(r!==void 0)return r}}function ad(e){let t,r=e.subs.length-1;for(;r>=0&&t===void 0;)t=ad(e.subs[r]),r--;return t===void 0&&!De(e)&&!Yt(e)?e.lineNumber:t}var ud=p(()=>{"use strict";Tr();Jr();n(Kn,"deparseLine");n(nd,"deparseTree");n(vh,"deparseAndCutTree");n(od,"describeTree");n(id,"encodeTree");n(sd,"firstLineOf");n(ad,"lastLineOf")});var Gn=p(()=>{"use strict";ed();rd();Qr();Tr();ud();Jr();Qr();jo("markdown",td);jo("java",Qc)});function en(e,t=ld){let r=xt(e,o=>o?1:void 0);return ie(r,o=>{var u;if(re(o))return;let a=o.subs.reduce((i,s)=>{var l;return Math.max(i,(l=s.label)!=null?l:0)},0);o.label=Math.max((u=o.label)!=null?u:0,a*t.worthUp)},"bottomUp"),ie(r,o=>{if(re(o))return;let a=o.subs.map(s=>{var l;return(l=s.label)!=null?l:0}),u=[...a];for(let s=0;s<a.length;s++)a[s]!==0&&(u=u.map((l,c)=>Math.max(l,Math.pow(t.worthSibling,Math.abs(s-c))*a[s])));let i=o.label;i!==void 0&&(u=u.map(s=>Math.max(s,t.worthDown*i))),o.subs.forEach((s,l)=>s.label=u[l])},"topDown"),cd(r)}function cd(e){let t=Bn(e,[],(r,o)=>{var a,u;return(r.type==="line"||r.type==="blank")&&o.push(r.type==="line"?[Kn(r).trimEnd(),(a=r.label)!=null?a:0]:["",(u=r.label)!=null?u:0]),o},"topDown");return new Vn(t)}var ld,Ko=p(()=>{"use strict";ra();Gn();ld={worthUp:.9,worthSibling:.88,worthDown:.8};n(en,"fromTreeWithFocussedLines");n(cd,"fromTreeWithValuedLines")});function na(e,t=!0,r=!0){let o=typeof e=="string"?Qt(e):Qt(e.source,e.languageId);wt(o);let a=xt(o,u=>t&&u!=="closer");return ie(a,u=>{u.label===void 0&&(u.label=t&&u.label!==!1)},"topDown"),t&&ie(a,u=>{if(u.label){let i=!1;for(let s of[...u.subs].reverse())s.label&&!i?i=!0:s.label=!1}else for(let i of u.subs)i.label=!1;u.subs.length>0&&(u.label=!1)},"topDown"),r&&ie(a,u=>{u.label||(u.label=(it(u)||re(u))&&u.lineNumber==0)},"topDown"),en(a)}var oa=p(()=>{"use strict";Ko();Gn();n(na,"elidableTextForSourceCode")});var ia,er,Go=p(()=>{"use strict";ia=class ia extends Error{constructor(r,o){super(r);this.cause=o;this.code="CopilotPromptLoadFailure"}};n(ia,"CopilotPromptLoadFailure");er=ia});var dd=oe(Et=>{"use strict";Object.defineProperty(Et,"__esModule",{value:!0});Et.bytePairEncode=Et.BinaryMap=Et.binaryMapKey=void 0;var Mh=n((e,t,r)=>{let o=r-t,a=16777215>>>Math.max(0,(3-o)*8),u=(e[t+0]|e[t+1]<<8|e[t+2]<<16)&a,i=16777215>>>Math.min(31,Math.max(0,(6-o)*8)),s=(e[t+3]|e[t+4]<<8|e[t+5]<<16)&i;return u+16777216*s},"binaryMapKey");Et.binaryMapKey=Mh;var Wn=class Wn{constructor(){this.nested=new Map,this.final=new Map}get(t,r=0,o=t.length){var i;let a=o<6+r,u=(0,Et.binaryMapKey)(t,r,o);return a?this.final.get(u):(i=this.nested.get(u))==null?void 0:i.get(t,6+r,o)}set(t,r){let o=(0,Et.binaryMapKey)(t,0,t.length);if(t.length<6){this.final.set(o,r);return}let u=this.nested.get(o);if(u instanceof Wn)u.set(t.subarray(6),r);else{let i=new Wn;i.set(t.subarray(6),r),this.nested.set(o,i)}}};n(Wn,"BinaryMap");var sa=Wn;Et.BinaryMap=sa;var St=new Int32Array(128),Le=new Int32Array(128);function Lh(e,t,r){var l;if(r===1)return[t.get(e)];let o=2147483647,a=-1;for(;St.length<r*2;)Le=new Int32Array(Le.length*2),St=new Int32Array(St.length*2);for(let c=0;c<r-1;c++){let d=(l=t.get(e,c,c+2))!=null?l:2147483647;d<o&&(o=d,a=c),Le[c]=c,St[c]=d}Le[r-1]=r-1,St[r-1]=2147483647,Le[r]=r,St[r]=2147483647;let u=r+1;function i(c,d=0){if(c+d+2<u){let m=t.get(e,Le[c],Le[c+d+2]);if(m!==void 0)return m}return 2147483647}for(n(i,"getRank");o!==2147483647;){St[Le[a]]=i(a,1),a>0&&(St[Le[a-1]]=i(a-1,1));for(let c=a+1;c<u-1;c++)Le[c]=Le[c+1];u--,a=-1,o=2147483647;for(let c=0;c<u-1;c++){let d=St[Le[c]];St[Le[c]]<o&&(o=d,a=c)}}let s=[];for(let c=0;c<u-1;c++)s.push(t.get(e,Le[c],Le[c+1]));return s}n(Lh,"bytePairEncode");Et.bytePairEncode=Lh});var md=oe(Vo=>{"use strict";Object.defineProperty(Vo,"__esModule",{value:!0});Vo.makeTextEncoder=void 0;var la=class la{constructor(){this.length=0,this.encoder=new TextEncoder}encode(t){let r=this.encoder.encode(t);return this.length=r.length,r}};n(la,"UniversalTextEncoder");var aa=la,ca=class ca{constructor(){this.buffer=Buffer.alloc(256),this.length=0}encode(t){for(;;){if(this.length=this.buffer.write(t,"utf8"),this.length<this.buffer.length-4)return this.buffer;this.buffer=Buffer.alloc(this.length*2),this.length=this.buffer.write(t)}}};n(ca,"NodeTextEncoder");var ua=ca,Ph=n(()=>typeof Buffer<"u"?new ua:new aa,"makeTextEncoder");Vo.makeTextEncoder=Ph});var pd=oe(Wo=>{"use strict";Object.defineProperty(Wo,"__esModule",{value:!0});Wo.LRUCache=void 0;var pa=class pa{constructor(t){this.size=t,this.nodes=new Map}get(t){let r=this.nodes.get(t);if(r)return this.moveToHead(r),r.value}set(t,r){let o=this.nodes.get(t);if(o)o.value=r,this.moveToHead(o);else{let a=new ma(t,r);this.nodes.set(t,a),this.addNode(a),this.nodes.size>this.size&&(this.nodes.delete(this.tail.key),this.removeNode(this.tail))}}moveToHead(t){this.removeNode(t),t.next=void 0,t.prev=void 0,this.addNode(t)}addNode(t){this.head&&(this.head.prev=t,t.next=this.head),this.tail||(this.tail=t),this.head=t}removeNode(t){t.prev?t.prev.next=t.next:this.head=t.next,t.next?t.next.prev=t.prev:this.tail=t.prev}};n(pa,"LRUCache");var da=pa;Wo.LRUCache=da;var fa=class fa{constructor(t,r){this.key=t,this.value=r}};n(fa,"Node");var ma=fa});var ha=oe(zo=>{"use strict";Object.defineProperty(zo,"__esModule",{value:!0});zo.TikTokenizer=void 0;var Nh=require("fs"),Fh=require("util"),$o=dd(),kh=md(),Oh=pd();function Rh(e){let t=new Map;try{let o=Nh.readFileSync(e,"utf-8");return r(o),t}catch(o){throw new Error(`Failed to load from BPE encoder file stream: ${o}`)}function r(o){for(let a of o.split(/[\r\n]+/)){if(a.trim()==="")continue;let u=a.split(" ");if(u.length!==2)throw new Error("Invalid format in the BPE encoder file stream");let i=new Uint8Array(Buffer.from(u[0],"base64")),s=parseInt(u[1]);if(!isNaN(s))t.set(i,s);else throw new Error(`Can't parse ${u[1]} to integer`)}}n(r,"processBpeRanks")}n(Rh,"loadTikTokenBpe");function Ah(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}n(Ah,"escapeRegExp");var ga=class ga{constructor(t,r,o,a=8192){this.textEncoder=(0,kh.makeTextEncoder)(),this.textDecoder=new Fh.TextDecoder("utf-8"),this.cache=new Oh.LRUCache(a);let u=typeof t=="string"?Rh(t):t;this.init(u,r,o)}init(t,r,o){this.encoder=new $o.BinaryMap;for(let[a,u]of t)this.encoder.set(a,u);this.regex=new RegExp(o,"gu"),this.specialTokensRegex=new RegExp(Array.from(r.keys()).map(a=>Ah(a)).join("|")),this.specialTokensEncoder=r,this.decoder=new Map;for(let[a,u]of t)this.decoder.set(u,a);if(t.size!==this.decoder.size)throw new Error("Encoder and decoder sizes do not match");this.specialTokensDecoder=new Map;for(let[a,u]of r)this.specialTokensDecoder.set(u,a)}findNextSpecialToken(t,r,o){let a=r,u=null;if(o&&this.specialTokensRegex)for(;u=t.slice(a).match(this.specialTokensRegex),!(!u||o&&o.includes(u[0]));)a+=u.index+1;let i=u?a+u.index:t.length;return[u,i]}encode(t,r){let o=[],a=0;for(;;){let u,i;if([u,i]=this.findNextSpecialToken(t,a,r),i>a&&this.encodeByIndex(t,o,a,i),u){if(a=a+this.encodeSpecialToken(o,u),a>=t.length)break}else break}return o}encodeSpecialToken(t,r){var a;let o=(a=this.specialTokensEncoder)==null?void 0:a.get(r[0]);return t.push(o),r.index+r[0].length}encodeByIndex(t,r,o,a){let u,i=t.substring(o,a);for(this.regex.lastIndex=0;u=this.regex.exec(i);){let s=this.cache.get(u[0]);if(s)for(let l of s)r.push(l);else{let l=this.textEncoder.encode(u[0]),c=this.encoder.get(l,0,this.textEncoder.length);if(c!==void 0)r.push(c),this.cache.set(u[0],[c]);else{let d=(0,$o.bytePairEncode)(l,this.encoder,this.textEncoder.length);for(let m of d)r.push(m);this.cache.set(u[0],d)}}}}encodeTrimSuffixByIndex(t,r,o,a,u,i,s){let l,c=t.substring(o,a);for(this.regex.lastIndex=0;l=this.regex.exec(c);){let d=l[0],m=this.cache.get(d);if(m)if(i+m.length<=u)i+=m.length,s+=d.length,r.push(...m);else{let f=u-i;i+=f,s+=d.length,r.push(...m.slice(0,f));break}else{let f=this.textEncoder.encode(d),g=this.encoder.get(f,0,f.length);if(g!==void 0)if(this.cache.set(d,[g]),i+1<=u)i++,s+=d.length,r.push(g);else break;else{let h=(0,$o.bytePairEncode)(f,this.encoder,this.textEncoder.length);if(this.cache.set(d,h),i+h.length<=u){i+=h.length,s+=d.length;for(let I of h)r.push(I)}else{let I=u-i;i+=I,s+=d.length;for(let x=0;x<I;x++)r.push(h[x]);break}}}if(i>=u)break}return{tokenCount:i,encodeLength:s}}encodeTrimSuffix(t,r,o){let a=[],u=0,i=0,s=0;for(;;){let c,d;if([c,d]=this.findNextSpecialToken(t,u,o),d>u){let{tokenCount:m,encodeLength:f}=this.encodeTrimSuffixByIndex(t,a,u,d,r,i,s);if(i=m,s=f,i>=r)break}if(c!==null){if(i++,i<=r&&(u=u+this.encodeSpecialToken(a,c),s+=c[0].length,u>=t.length)||i>=r)break}else break}let l=s===t.length?t:t.slice(0,s);return{tokenIds:a,text:l}}encodeTrimPrefix(t,r,o){let a=[],u=0,i=0,s=0,l=new Map;for(l.set(i,s);;){let f,g;if([f,g]=this.findNextSpecialToken(t,u,o),g>u){let h,I=t.substring(u,g);for(this.regex.lastIndex=0;h=this.regex.exec(I);){let x=h[0],w=this.cache.get(x);if(w)i+=w.length,s+=x.length,a.push(...w),l.set(i,s);else{let F=this.textEncoder.encode(x),M=this.encoder.get(F);if(M!==void 0)this.cache.set(x,[M]),i++,s+=x.length,a.push(M),l.set(i,s);else{let T=(0,$o.bytePairEncode)(F,this.encoder,this.textEncoder.length);this.cache.set(x,T),i+=T.length,s+=x.length;for(let L of T)a.push(L);l.set(i,s)}}}}if(f!==null){if(u=u+this.encodeSpecialToken(a,f),i++,s+=f[0].length,l.set(i,s),u>=t.length)break}else break}if(i<=r)return{tokenIds:a,text:t};let c=i-r,d=0,m=0;for(let[f,g]of l)if(f>=c){d=f,m=g;break}if(d>r){let f=this.encode(t,o),g=f.slice(f.length-r);return{tokenIds:g,text:this.decode(g)}}return{tokenIds:a.slice(d),text:t.slice(m)}}decode(t){var o,a;let r=[];for(let u of t){let i=[],s=(o=this.decoder)==null?void 0:o.get(u);if(s!==void 0)i=Array.from(s);else{let l=(a=this.specialTokensDecoder)==null?void 0:a.get(u);if(l!==void 0){let c=this.textEncoder.encode(l);i=Array.from(c.subarray(0,this.textEncoder.length))}}r.push(...i)}return this.textDecoder.decode(new Uint8Array(r))}};n(ga,"TikTokenizer");var _a=ga;zo.TikTokenizer=_a});var Sd=oe(ce=>{"use strict";Object.defineProperty(ce,"__esModule",{value:!0});ce.createTokenizer=ce.createByEncoderName=ce.createByModelName=ce.getRegexByModel=ce.getRegexByEncoder=ce.getSpecialTokensByModel=ce.getSpecialTokensByEncoder=ce.MODEL_TO_ENCODING=void 0;var qo=require("fs"),ba=require("path"),Ch=ha(),Uh=new Map([["gpt-4o-","o200k_base"],["gpt-4-","cl100k_base"],["gpt-3.5-turbo-","cl100k_base"],["gpt-35-turbo-","cl100k_base"]]);ce.MODEL_TO_ENCODING=new Map([["gpt-4o","o200k_base"],["gpt-4","cl100k_base"],["gpt-3.5-turbo","cl100k_base"],["text-davinci-003","p50k_base"],["text-davinci-002","p50k_base"],["text-davinci-001","r50k_base"],["text-curie-001","r50k_base"],["text-babbage-001","r50k_base"],["text-ada-001","r50k_base"],["davinci","r50k_base"],["curie","r50k_base"],["babbage","r50k_base"],["ada","r50k_base"],["code-davinci-002","p50k_base"],["code-davinci-001","p50k_base"],["code-cushman-002","p50k_base"],["code-cushman-001","p50k_base"],["davinci-codex","p50k_base"],["cushman-codex","p50k_base"],["text-davinci-edit-001","p50k_edit"],["code-davinci-edit-001","p50k_edit"],["text-embedding-ada-002","cl100k_base"],["text-similarity-davinci-001","r50k_base"],["text-similarity-curie-001","r50k_base"],["text-similarity-babbage-001","r50k_base"],["text-similarity-ada-001","r50k_base"],["text-search-davinci-doc-001","r50k_base"],["text-search-curie-doc-001","r50k_base"],["text-search-babbage-doc-001","r50k_base"],["text-search-ada-doc-001","r50k_base"],["code-search-babbage-code-001","r50k_base"],["code-search-ada-code-001","r50k_base"],["gpt2","gpt2"]]);var Ho="<|endoftext|>",fd="<|fim_prefix|>",_d="<|fim_middle|>",gd="<|fim_suffix|>",hd="<|endofprompt|>",$n="'s|'t|'re|'ve|'m|'ll|'d| ?\\p{L}+| ?\\p{N}+| ?[^\\s\\p{L}\\p{N}]+|\\s+(?!\\S)|\\s+",bd="(?:'s|'S|'t|'T|'re|'RE|'Re|'eR|'ve|'VE|'vE|'Ve|'m|'M|'ll|'lL|'Ll|'LL|'d|'D)|[^\\r\\n\\p{L}\\p{N}]?\\p{L}+|\\p{N}{1,3}| ?[^\\s\\p{L}\\p{N}]+[\\r\\n]*|\\s*[\\r\\n]+|\\s+(?!\\S)|\\s+",Bh=[`[^\r
\\p{L}\\p{N}]?[\\p{Lu}\\p{Lt}\\p{Lm}\\p{Lo}\\p{M}]*[\\p{Ll}\\p{Lm}\\p{Lo}\\p{M}]+(?:'s|'S|'t|'T|'re|'RE|'Re|'eR|'ve|'VE|'vE|'Ve|'m|'M|'ll|'lL|'Ll|'LL|'d|'D)?`,`[^\r
\\p{L}\\p{N}]?[\\p{Lu}\\p{Lt}\\p{Lm}\\p{Lo}\\p{M}]+[\\p{Ll}\\p{Lm}\\p{Lo}\\p{M}]*(?:'s|'S|'t|'T|'re|'RE|'Re|'eR|'ve|'VE|'vE|'Ve|'m|'M|'ll|'lL|'Ll|'LL|'d|'D)?`,"\\p{N}{1,3}"," ?[^\\s\\p{L}\\p{N}]+[\\r\\n/]*","\\s*[\\r\\n]+","\\s+(?!\\S)","\\s+"],yd=Bh.join("|");function ya(e){let t="";if(ce.MODEL_TO_ENCODING.has(e))t=ce.MODEL_TO_ENCODING.get(e);else for(let[r,o]of Uh)if(e.startsWith(r)){t=o;break}return t}n(ya,"getEncoderFromModelName");async function Dh(e,t){let r=await fetch(e);if(!r.ok)throw new Error(`Failed to fetch file from ${e}. Status code: ${r.status}`);let o=await r.text();qo.writeFileSync(t,o)}n(Dh,"fetchAndSaveFile");function Ia(e){let t=new Map([[Ho,50256]]);switch(e){case"o200k_base":t=new Map([[Ho,199999],[hd,200018]]);break;case"cl100k_base":t=new Map([[Ho,100257],[fd,100258],[_d,100259],[gd,100260],[hd,100276]]);break;case"p50k_edit":t=new Map([[Ho,50256],[fd,50281],[_d,50282],[gd,50283]]);break;default:break}return t}n(Ia,"getSpecialTokensByEncoder");ce.getSpecialTokensByEncoder=Ia;function jh(e){let t=ya(e);return Ia(t)}n(jh,"getSpecialTokensByModel");ce.getSpecialTokensByModel=jh;function Id(e){switch(e){case"o200k_base":return yd;case"cl100k_base":return bd;default:break}return $n}n(Id,"getRegexByEncoder");ce.getRegexByEncoder=Id;function Kh(e){let t=ya(e);return Id(t)}n(Kh,"getRegexByModel");ce.getRegexByModel=Kh;async function Gh(e,t=null){return xd(ya(e),t)}n(Gh,"createByModelName");ce.createByModelName=Gh;async function xd(e,t=null){let r,o,a=Ia(e);switch(e){case"o200k_base":r=yd,o="https://openaipublic.blob.core.windows.net/encodings/o200k_base.tiktoken";break;case"cl100k_base":r=bd,o="https://openaipublic.blob.core.windows.net/encodings/cl100k_base.tiktoken";break;case"p50k_base":r=$n,o="https://openaipublic.blob.core.windows.net/encodings/p50k_base.tiktoken";break;case"p50k_edit":r=$n,o="https://openaipublic.blob.core.windows.net/encodings/p50k_base.tiktoken";break;case"r50k_base":r=$n,o="https://openaipublic.blob.core.windows.net/encodings/r50k_base.tiktoken";break;case"gpt2":r=$n,o="https://raw.githubusercontent.com/microsoft/Tokenizer/main/model/gpt2.tiktoken";break;default:throw new Error(`Doesn't support this encoder [${e}]`)}t!==null&&(a=new Map([...a,...t]));let u=ba.basename(o),i=ba.resolve(__dirname,"..","model");qo.existsSync(i)||qo.mkdirSync(i,{recursive:!0});let s=ba.resolve(i,u);return qo.existsSync(s)||(console.log(`Downloading file from ${o}`),await Dh(o,s),console.log(`Saved file to ${s}`)),wd(s,a,r)}n(xd,"createByEncoderName");ce.createByEncoderName=xd;function wd(e,t,r,o=8192){return new Ch.TikTokenizer(e,t,r,o)}n(wd,"createTokenizer");ce.createTokenizer=wd});var Ed=oe(de=>{"use strict";Object.defineProperty(de,"__esModule",{value:!0});de.createTokenizer=de.createByEncoderName=de.createByModelName=de.getSpecialTokensByModel=de.getSpecialTokensByEncoder=de.getRegexByModel=de.getRegexByEncoder=de.MODEL_TO_ENCODING=de.TikTokenizer=void 0;var Vh=ha();Object.defineProperty(de,"TikTokenizer",{enumerable:!0,get:n(function(){return Vh.TikTokenizer},"get")});var tr=Sd();Object.defineProperty(de,"MODEL_TO_ENCODING",{enumerable:!0,get:n(function(){return tr.MODEL_TO_ENCODING},"get")});Object.defineProperty(de,"getRegexByEncoder",{enumerable:!0,get:n(function(){return tr.getRegexByEncoder},"get")});Object.defineProperty(de,"getRegexByModel",{enumerable:!0,get:n(function(){return tr.getRegexByModel},"get")});Object.defineProperty(de,"getSpecialTokensByEncoder",{enumerable:!0,get:n(function(){return tr.getSpecialTokensByEncoder},"get")});Object.defineProperty(de,"getSpecialTokensByModel",{enumerable:!0,get:n(function(){return tr.getSpecialTokensByModel},"get")});Object.defineProperty(de,"createByModelName",{enumerable:!0,get:n(function(){return tr.createByModelName},"get")});Object.defineProperty(de,"createByEncoderName",{enumerable:!0,get:n(function(){return tr.createByEncoderName},"get")});Object.defineProperty(de,"createTokenizer",{enumerable:!0,get:n(function(){return tr.createTokenizer},"get")})});function st(e="cl100k_base"){let t=Td.get(e);return t!==void 0||(e==="mock"?t=new xa:t=new Zo(e),Td.set(e,t)),t}function Wh(e){if(!e.endsWith(".tiktoken.noindex"))throw new Error("File does not end with .tiktoken.noindex");let t=(0,vd.readFileSync)(e,"utf-8"),r=new Map;for(let o of t.split(`
`)){if(!o)continue;let a=Buffer.from(o,"base64");r.set(a,r.size)}return r}var tn,vd,Md,Jo,Td,wa,Zo,Sa,xa,Ld=p(()=>{"use strict";Go();tn=Fn(Ed()),vd=require("fs"),Md=require("path"),Jo=(o=>(o.cl100k="cl100k_base",o.o200k="o200k_base",o.mock="mock",o))(Jo||{}),Td=new Map;n(st,"getTokenizer");n(Wh,"parseTikTokenNoIndex");wa=class wa{constructor(t){try{this._tokenizer=(0,tn.createTokenizer)(Wh((0,Md.join)(__dirname,`./resources/${t}.tiktoken.noindex`)),(0,tn.getSpecialTokensByEncoder)(t),(0,tn.getRegexByEncoder)(t),32768)}catch(r){throw r instanceof Error?new er("Could not load tokenizer",r):r}}tokenize(t){return this._tokenizer.encode(t)}detokenize(t){return this._tokenizer.decode(t)}tokenLength(t){return this.tokenize(t).length}tokenizeStrings(t){return this.tokenize(t).map(o=>this.detokenize([o]))}takeLastTokens(t,r){if(r<=0)return{text:"",tokens:[]};let o=4,a=1,u=Math.min(t.length,r*o),i=t.slice(-u),s=this.tokenize(i);for(;s.length<r+2&&u<t.length;)u=Math.min(t.length,u+r*a),i=t.slice(-u),s=this.tokenize(i);return s.length<r?{text:t,tokens:s}:(s=s.slice(-r),{text:this.detokenize(s),tokens:s})}takeFirstTokens(t,r){if(r<=0)return{text:"",tokens:[]};let o=4,a=1,u=Math.min(t.length,r*o),i=t.slice(0,u),s=this.tokenize(i);for(;s.length<r+2&&u<t.length;)u=Math.min(t.length,u+r*a),i=t.slice(0,u),s=this.tokenize(i);return s.length<r?{text:t,tokens:s}:(s=s.slice(0,r),{text:this.detokenize(s),tokens:s})}takeLastLinesTokens(t,r){let{text:o}=this.takeLastTokens(t,r);if(o.length===t.length||t[t.length-o.length-1]===`
`)return o;let a=o.indexOf(`
`);return o.substring(a+1)}};n(wa,"TTokenizer");Zo=wa,Sa=class Sa{constructor(){this.hash=n(t=>{let r=0;for(let o=0;o<t.length;o++){let a=t.charCodeAt(o);r=(r<<5)-r+a,r&=r&65535}return r},"hash")}tokenize(t){return this.tokenizeStrings(t).map(this.hash)}detokenize(t){return t.map(r=>r.toString()).join(" ")}tokenizeStrings(t){return t.split(/\b/)}tokenLength(t){return this.tokenizeStrings(t).length}takeLastTokens(t,r){let o=this.tokenizeStrings(t).slice(-r);return{text:o.join(""),tokens:o.map(this.hash)}}takeFirstTokens(t,r){let o=this.tokenizeStrings(t).slice(0,r);return{text:o.join(""),tokens:o.map(this.hash)}}takeLastLinesTokens(t,r){let{text:o}=this.takeLastTokens(t,r);if(o.length===t.length||t[t.length-o.length-1]===`
`)return o;let a=o.indexOf(`
`);return o.substring(a+1)}};n(Sa,"MockTokenizer");xa=Sa});var rn=p(()=>{"use strict";Ld()});var Xo,nn,Ea=p(()=>{"use strict";rn();Xo=class Xo{constructor(t,r,o=st().tokenLength(t+`
`),a="strict"){this.text=t;this._value=r;this._cost=o;if(t.includes(`
`)&&a!=="none")throw new Error("LineWithValueAndCost: text contains newline");if(r<0&&a!=="none")throw new Error("LineWithValueAndCost: value is negative");if(o<0&&a!=="none")throw new Error("LineWithValueAndCost: cost is negative");if(a=="strict"&&r>1)throw new Error("Value should normally be between 0 and 1 -- set validation to `loose` to ignore this error")}get value(){return this._value}get cost(){return this._cost}adjustValue(t){return this._value*=t,this}recost(t=r=>st().tokenLength(r+`
`)){return this._cost=t(this.text),this}copy(){return new Xo(this.text,this.value,this.cost,"none")}};n(Xo,"LineWithValueAndCost");nn=Xo});function $h(e,t,r,o,a,u){var m,f,g,h,I,x,w,F,M,T,L,O,R;if(u.tokenLength(r+`
`)>t)throw new Error("maxTokens must be larger than the ellipsis length");a==="removeLeastBangForBuck"&&e.forEach(E=>E.adjustValue(1/E.cost));let i=e.reduce((E,k)=>Math.max(E,k.value),0)+1,s=e.reduce((E,k)=>Math.max(E,k.text.length),0)+1,l=r.trim(),c=e.reduce((E,k)=>E+k.cost,0),d=e.length+1;for(;c>t&&d-->=-1;){let E=e.reduce((Ne,Zt)=>Zt.value<Ne.value?Zt:Ne),k=e.indexOf(E),he=(m=e.slice(0,k+1).reverse().find(Ne=>Ne.text.trim()!==""))!=null?m:{text:""},Ir=o?Math.min((g=(f=he.text.match(/^\s*/))==null?void 0:f[0].length)!=null?g:0,((h=e[k-1])==null?void 0:h.text.trim())===l?(w=(x=(I=e[k-1])==null?void 0:I.text.match(/^\s*/))==null?void 0:x[0].length)!=null?w:0:s,((F=e[k+1])==null?void 0:F.text.trim())===l?(L=(T=(M=e[k+1])==null?void 0:M.text.match(/^\s*/))==null?void 0:T[0].length)!=null?L:0:s):0,qt=" ".repeat(Ir)+r,yt=new nn(qt,i,u.tokenLength(qt+`
`),"loose");e.splice(k,1,yt),((O=e[k+1])==null?void 0:O.text.trim())===l&&e.splice(k+1,1),((R=e[k-1])==null?void 0:R.text.trim())===l&&e.splice(k-1,1);let nt=e.reduce((Ne,Zt)=>Ne+Zt.cost,0);nt>=c&&e.every(Ne=>Ne.value===i)&&(o=!1),c=nt}if(d<0)throw new Error("Infinite loop in ElidableText.makePrompt: Defensive counter < 0 in ElidableText.makePrompt with end text");return e.map(E=>E.text).join(`
`)}var Yo,Vn,ra=p(()=>{"use strict";oa();Ea();rn();Yo=class Yo{constructor(t){this.lines=[];let r=[];for(let o of t){let a=Array.isArray(o)?o[1]:1,u=Array.isArray(o)?o[0]:o;typeof u=="string"?u.split(`
`).forEach(i=>r.push(new nn(i,a))):u instanceof Yo?u.lines.forEach(i=>r.push(i.copy().adjustValue(a))):"source"in u&&"languageId"in u&&na(u).lines.forEach(i=>r.push(i.copy().adjustValue(a)))}this.lines=r}adjust(t){this.lines.forEach(r=>r.adjustValue(t))}recost(t=r=>st().tokenLength(r+`
`)){this.lines.forEach(r=>r.recost(t))}makePrompt(t,r="[...]",o=!0,a="removeLeastDesirable",u=st()){let i=this.lines.map(s=>s.copy());return $h(i,t,r,o,a,u)}};n(Yo,"ElidableText");Vn=Yo;n($h,"makePrompt")});function at(){}function Pd(e,t,r,o,a){for(var u=[],i;t;)u.push(t),i=t.previousComponent,delete t.previousComponent,t=i;u.reverse();for(var s=0,l=u.length,c=0,d=0;s<l;s++){var m=u[s];if(m.removed)m.value=e.join(o.slice(d,d+m.count)),d+=m.count;else{if(!m.added&&a){var f=r.slice(c,c+m.count);f=f.map(function(g,h){var I=o[d+h];return I.length>g.length?I:g}),m.value=e.join(f)}else m.value=e.join(r.slice(c,c+m.count));c+=m.count,m.added||(d+=m.count)}}return u}function Nd(e,t){var r;for(r=0;r<e.length&&r<t.length;r++)if(e[r]!=t[r])return e.slice(0,r);return e.slice(0,r)}function Fd(e,t){var r;if(!e||!t||e[e.length-1]!=t[t.length-1])return"";for(r=0;r<e.length&&r<t.length;r++)if(e[e.length-(r+1)]!=t[t.length-(r+1)])return e.slice(-r);return e.slice(-r)}function va(e,t,r){if(e.slice(0,t.length)!=t)throw Error("string ".concat(JSON.stringify(e)," doesn't start with prefix ").concat(JSON.stringify(t),"; this is a bug"));return r+e.slice(t.length)}function Ma(e,t,r){if(!t)return e+r;if(e.slice(-t.length)!=t)throw Error("string ".concat(JSON.stringify(e)," doesn't end with suffix ").concat(JSON.stringify(t),"; this is a bug"));return e.slice(0,-t.length)+r}function zn(e,t){return va(e,t,"")}function Qo(e,t){return Ma(e,t,"")}function kd(e,t){return t.slice(0,zh(e,t))}function zh(e,t){var r=0;e.length>t.length&&(r=e.length-t.length);var o=t.length;e.length<t.length&&(o=e.length);var a=Array(o),u=0;a[0]=0;for(var i=1;i<o;i++){for(t[i]==t[u]?a[i]=a[u]:a[i]=u;u>0&&t[i]!=t[u];)u=a[u];t[i]==t[u]&&u++}u=0;for(var s=r;s<e.length;s++){for(;u>0&&e[s]!=t[u];)u=a[u];e[s]==t[u]&&u++}return u}function Od(e,t,r,o){if(t&&r){var a=t.value.match(/^\s*/)[0],u=t.value.match(/\s*$/)[0],i=r.value.match(/^\s*/)[0],s=r.value.match(/\s*$/)[0];if(e){var l=Nd(a,i);e.value=Ma(e.value,i,l),t.value=zn(t.value,l),r.value=zn(r.value,l)}if(o){var c=Fd(u,s);o.value=va(o.value,s,c),t.value=Qo(t.value,c),r.value=Qo(r.value,c)}}else if(r)e&&(r.value=r.value.replace(/^\s*/,"")),o&&(o.value=o.value.replace(/^\s*/,""));else if(e&&o){var d=o.value.match(/^\s*/)[0],m=t.value.match(/^\s*/)[0],f=t.value.match(/\s*$/)[0],g=Nd(d,m);t.value=zn(t.value,g);var h=Fd(zn(d,g),f);t.value=Qo(t.value,h),o.value=va(o.value,d,h),e.value=Ma(e.value,d,d.slice(0,d.length-h.length))}else if(o){var I=o.value.match(/^\s*/)[0],x=t.value.match(/\s*$/)[0],w=kd(x,I);t.value=Qo(t.value,w)}else if(e){var F=e.value.match(/\s*$/)[0],M=t.value.match(/^\s*/)[0],T=kd(F,M);t.value=zn(t.value,T)}}function Rd(e,t,r){return ri.diff(e,t,r)}function Ad(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,o)}return r}function Cd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ad(Object(r),!0).forEach(function(o){Qh(e,o,r[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ad(Object(r)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(r,o))})}return e}function Xh(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var o=r.call(e,t||"default");if(typeof o!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Yh(e){var t=Xh(e,"string");return typeof t=="symbol"?t:t+""}function La(e){"@babel/helpers - typeof";return La=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},La(e)}function Qh(e,t,r){return t=Yh(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ta(e){return eb(e)||tb(e)||rb(e)||nb()}function eb(e){if(Array.isArray(e))return Pa(e)}function tb(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function rb(e,t){if(e){if(typeof e=="string")return Pa(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Pa(e,t)}}function Pa(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,o=new Array(t);r<t;r++)o[r]=e[r];return o}function nb(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Na(e,t,r,o,a){t=t||[],r=r||[],o&&(e=o(a,e));var u;for(u=0;u<t.length;u+=1)if(t[u]===e)return r[u];var i;if(Object.prototype.toString.call(e)==="[object Array]"){for(t.push(e),i=new Array(e.length),r.push(i),u=0;u<e.length;u+=1)i[u]=Na(e[u],t,r,o,a);return t.pop(),r.pop(),i}if(e&&e.toJSON&&(e=e.toJSON()),La(e)==="object"&&e!==null){t.push(e),i={},r.push(i);var s=[],l;for(l in e)Object.prototype.hasOwnProperty.call(e,l)&&s.push(l);for(s.sort(),u=0;u<s.length;u+=1)l=s[u],i[l]=Na(e[l],t,r,o,l);t.pop(),r.pop()}else i=e;return i}function Ud(e,t,r,o,a,u,i){if(i||(i={}),typeof i=="function"&&(i={callback:i}),typeof i.context>"u"&&(i.context=4),i.newlineIsToken)throw new Error("newlineIsToken may not be used with patch-generation functions, only with diffing functions");if(i.callback){var s=i,l=s.callback;Rd(r,o,Cd(Cd({},i),{},{callback:n(function(m){var f=c(m);l(f)},"callback")}))}else return c(Rd(r,o,i));function c(d){if(!d)return;d.push({value:"",lines:[]});function m(E){return E.map(function(k){return" "+k})}n(m,"contextLines");for(var f=[],g=0,h=0,I=[],x=1,w=1,F=n(function(){var k=d[M],he=k.lines||ob(k.value);if(k.lines=he,k.added||k.removed){var Ir;if(!g){var qt=d[M-1];g=x,h=w,qt&&(I=i.context>0?m(qt.lines.slice(-i.context)):[],g-=I.length,h-=I.length)}(Ir=I).push.apply(Ir,Ta(he.map(function(Pn){return(k.added?"+":"-")+Pn}))),k.added?w+=he.length:x+=he.length}else{if(g)if(he.length<=i.context*2&&M<d.length-2){var yt;(yt=I).push.apply(yt,Ta(m(he)))}else{var nt,Ne=Math.min(he.length,i.context);(nt=I).push.apply(nt,Ta(m(he.slice(0,Ne))));var Zt={oldStart:g,oldLines:x-g+Ne,newStart:h,newLines:w-h+Ne,lines:I};f.push(Zt),g=0,h=0,I=[]}x+=he.length,w+=he.length}},"_loop"),M=0;M<d.length;M++)F();for(var T=0,L=f;T<L.length;T++)for(var O=L[T],R=0;R<O.lines.length;R++)O.lines[R].endsWith(`
`)?O.lines[R]=O.lines[R].slice(0,-1):(O.lines.splice(R+1,0,"\\ No newline at end of file"),R++);return{oldFileName:e,newFileName:t,oldHeader:a,newHeader:u,hunks:f}}n(c,"diffLinesResultToPatch")}function ob(e){var t=e.endsWith(`
`),r=e.split(`
`).map(function(o){return o+`
`});return t?r.pop():r.push(r.pop().slice(0,-1)),r}var HT,ei,Hh,ti,qh,ri,Zh,Jh,Hn,Fa,Bd=p(()=>{n(at,"Diff");at.prototype={diff:n(function(t,r){var o,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},u=a.callback;typeof a=="function"&&(u=a,a={});var i=this;function s(T){return T=i.postProcess(T,a),u?(setTimeout(function(){u(T)},0),!0):T}n(s,"done"),t=this.castInput(t,a),r=this.castInput(r,a),t=this.removeEmpty(this.tokenize(t,a)),r=this.removeEmpty(this.tokenize(r,a));var l=r.length,c=t.length,d=1,m=l+c;a.maxEditLength!=null&&(m=Math.min(m,a.maxEditLength));var f=(o=a.timeout)!==null&&o!==void 0?o:1/0,g=Date.now()+f,h=[{oldPos:-1,lastComponent:void 0}],I=this.extractCommon(h[0],r,t,0,a);if(h[0].oldPos+1>=c&&I+1>=l)return s(Pd(i,h[0].lastComponent,r,t,i.useLongestToken));var x=-1/0,w=1/0;function F(){for(var T=Math.max(x,-d);T<=Math.min(w,d);T+=2){var L=void 0,O=h[T-1],R=h[T+1];O&&(h[T-1]=void 0);var E=!1;if(R){var k=R.oldPos-T;E=R&&0<=k&&k<l}var he=O&&O.oldPos+1<c;if(!E&&!he){h[T]=void 0;continue}if(!he||E&&O.oldPos<R.oldPos?L=i.addToPath(R,!0,!1,0,a):L=i.addToPath(O,!1,!0,1,a),I=i.extractCommon(L,r,t,T,a),L.oldPos+1>=c&&I+1>=l)return s(Pd(i,L.lastComponent,r,t,i.useLongestToken));h[T]=L,L.oldPos+1>=c&&(w=Math.min(w,T-1)),I+1>=l&&(x=Math.max(x,T+1))}d++}if(n(F,"execEditLength"),u)n(function T(){setTimeout(function(){if(d>m||Date.now()>g)return u();F()||T()},0)},"exec")();else for(;d<=m&&Date.now()<=g;){var M=F();if(M)return M}},"diff"),addToPath:n(function(t,r,o,a,u){var i=t.lastComponent;return i&&!u.oneChangePerToken&&i.added===r&&i.removed===o?{oldPos:t.oldPos+a,lastComponent:{count:i.count+1,added:r,removed:o,previousComponent:i.previousComponent}}:{oldPos:t.oldPos+a,lastComponent:{count:1,added:r,removed:o,previousComponent:i}}},"addToPath"),extractCommon:n(function(t,r,o,a,u){for(var i=r.length,s=o.length,l=t.oldPos,c=l-a,d=0;c+1<i&&l+1<s&&this.equals(o[l+1],r[c+1],u);)c++,l++,d++,u.oneChangePerToken&&(t.lastComponent={count:1,previousComponent:t.lastComponent,added:!1,removed:!1});return d&&!u.oneChangePerToken&&(t.lastComponent={count:d,previousComponent:t.lastComponent,added:!1,removed:!1}),t.oldPos=l,c},"extractCommon"),equals:n(function(t,r,o){return o.comparator?o.comparator(t,r):t===r||o.ignoreCase&&t.toLowerCase()===r.toLowerCase()},"equals"),removeEmpty:n(function(t){for(var r=[],o=0;o<t.length;o++)t[o]&&r.push(t[o]);return r},"removeEmpty"),castInput:n(function(t){return t},"castInput"),tokenize:n(function(t){return Array.from(t)},"tokenize"),join:n(function(t){return t.join("")},"join"),postProcess:n(function(t){return t},"postProcess")};n(Pd,"buildValues");HT=new at;n(Nd,"longestCommonPrefix");n(Fd,"longestCommonSuffix");n(va,"replacePrefix");n(Ma,"replaceSuffix");n(zn,"removePrefix");n(Qo,"removeSuffix");n(kd,"maximumOverlap");n(zh,"overlapCount");ei="a-zA-Z0-9_\\u{C0}-\\u{FF}\\u{D8}-\\u{F6}\\u{F8}-\\u{2C6}\\u{2C8}-\\u{2D7}\\u{2DE}-\\u{2FF}\\u{1E00}-\\u{1EFF}",Hh=new RegExp("[".concat(ei,"]+|\\s+|[^").concat(ei,"]"),"ug"),ti=new at;ti.equals=function(e,t,r){return r.ignoreCase&&(e=e.toLowerCase(),t=t.toLowerCase()),e.trim()===t.trim()};ti.tokenize=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r;if(t.intlSegmenter){if(t.intlSegmenter.resolvedOptions().granularity!="word")throw new Error('The segmenter passed must have a granularity of "word"');r=Array.from(t.intlSegmenter.segment(e),function(u){return u.segment})}else r=e.match(Hh)||[];var o=[],a=null;return r.forEach(function(u){/\s/.test(u)?a==null?o.push(u):o.push(o.pop()+u):/\s/.test(a)?o[o.length-1]==a?o.push(o.pop()+u):o.push(a+u):o.push(u),a=u}),o};ti.join=function(e){return e.map(function(t,r){return r==0?t:t.replace(/^\s+/,"")}).join("")};ti.postProcess=function(e,t){if(!e||t.oneChangePerToken)return e;var r=null,o=null,a=null;return e.forEach(function(u){u.added?o=u:u.removed?a=u:((o||a)&&Od(r,a,o,u),r=u,o=null,a=null)}),(o||a)&&Od(r,a,o,null),e};n(Od,"dedupeWhitespaceInChangeObjects");qh=new at;qh.tokenize=function(e){var t=new RegExp("(\\r?\\n)|[".concat(ei,"]+|[^\\S\\n\\r]+|[^").concat(ei,"]"),"ug");return e.match(t)||[]};ri=new at;ri.tokenize=function(e,t){t.stripTrailingCr&&(e=e.replace(/\r\n/g,`
`));var r=[],o=e.split(/(\n|\r\n)/);o[o.length-1]||o.pop();for(var a=0;a<o.length;a++){var u=o[a];a%2&&!t.newlineIsToken?r[r.length-1]+=u:r.push(u)}return r};ri.equals=function(e,t,r){return r.ignoreWhitespace?((!r.newlineIsToken||!e.includes(`
`))&&(e=e.trim()),(!r.newlineIsToken||!t.includes(`
`))&&(t=t.trim())):r.ignoreNewlineAtEof&&!r.newlineIsToken&&(e.endsWith(`
`)&&(e=e.slice(0,-1)),t.endsWith(`
`)&&(t=t.slice(0,-1))),at.prototype.equals.call(this,e,t,r)};n(Rd,"diffLines");Zh=new at;Zh.tokenize=function(e){return e.split(/(\S.+?[.!?])(?=\s+|$)/)};Jh=new at;Jh.tokenize=function(e){return e.split(/([{}:;,]|\s+)/)};n(Ad,"ownKeys");n(Cd,"_objectSpread2");n(Xh,"_toPrimitive");n(Yh,"_toPropertyKey");n(La,"_typeof");n(Qh,"_defineProperty");n(Ta,"_toConsumableArray");n(eb,"_arrayWithoutHoles");n(tb,"_iterableToArray");n(rb,"_unsupportedIterableToArray");n(Pa,"_arrayLikeToArray");n(nb,"_nonIterableSpread");Hn=new at;Hn.useLongestToken=!0;Hn.tokenize=ri.tokenize;Hn.castInput=function(e,t){var r=t.undefinedReplacement,o=t.stringifyReplacer,a=o===void 0?function(u,i){return typeof i>"u"?r:i}:o;return typeof e=="string"?e:JSON.stringify(Na(e,null,null,a),a,"  ")};Hn.equals=function(e,t,r){return at.prototype.equals.call(Hn,e.replace(/,([\r\n])/g,"$1"),t.replace(/,([\r\n])/g,"$1"),r)};n(Na,"canonicalize");Fa=new at;Fa.tokenize=function(e){return e.slice()};Fa.join=Fa.removeEmpty=function(e){return e};n(Ud,"structuredPatch");n(ob,"splitLines")});function sb(e,t){let r=typeof e=="string"?typeof t=="string"?void 0:t.languageId:typeof t=="string"||e.languageId===t.languageId?e.languageId:void 0;e=typeof e=="string"?e:e.source,t=typeof t=="string"?t:t.source;let o=Ud("","",e,t),a=new Set,u=new Set;for(let l of o.hunks){for(let c=l.oldStart;c<l.oldStart+l.oldLines;c++)a.add(c);for(let c=l.newStart;c<l.newStart+l.newLines;c++)u.add(c)}let i=xt(wt(Qt(e,r)),()=>!1),s=xt(wt(Qt(t,r)),()=>!1);return ie(i,l=>{(l.type==="line"||l.type==="blank")&&a.has(l.lineNumber)&&(l.label=!0)},"topDown"),ie(s,l=>{(l.type==="line"||l.type==="blank")&&u.has(l.lineNumber)&&(l.label=!0)},"topDown"),[en(i),en(s)]}var Dd=p(()=>{"use strict";Ko();Gn();Bd();n(sb,"elidableTextForDiff")});var jd=p(()=>{"use strict";ra();Dd();Ko();oa();Ea()});function lb({source:e}){return e.startsWith("#!")||e.startsWith("<!DOCTYPE")}function qn(e,t){var o;let r=(o=ka[t])!=null?o:ab;if(r){let a=r.end==""?"":" "+r.end;return`${r.start} ${e}${a}`}return""}function rr(e,t){if(e==="")return"";let r=e.endsWith(`
`),a=(r?e.slice(0,-1):e).split(`
`).map(u=>qn(u,t)).join(`
`);return r?a+`
`:a}function Gd(e){let{languageId:t}=e;return ub.indexOf(t)===-1&&!lb(e)?t in Kd?Kd[t]:qn(`Language: ${t}`,t):""}function Vd(e){return e.relativePath?qn(`Path: ${e.relativePath}`,e.languageId):""}function ut(e){return e===""||e.endsWith(`
`)?e:e+`
`}var ka,ab,ub,Kd,At=p(()=>{"use strict";ka={abap:{start:'"',end:""},aspdotnet:{start:"<%--",end:"--%>"},bat:{start:"REM",end:""},bibtex:{start:"%",end:""},blade:{start:"#",end:""},BluespecSystemVerilog:{start:"//",end:""},c:{start:"//",end:""},clojure:{start:";",end:""},coffeescript:{start:"//",end:""},cpp:{start:"//",end:""},csharp:{start:"//",end:""},css:{start:"/*",end:"*/"},cuda:{start:"//",end:""},dart:{start:"//",end:""},dockerfile:{start:"#",end:""},dotenv:{start:"#",end:""},elixir:{start:"#",end:""},erb:{start:"<%#",end:"%>"},erlang:{start:"%",end:""},fsharp:{start:"//",end:""},go:{start:"//",end:""},graphql:{start:"#",end:""},groovy:{start:"//",end:""},haml:{start:"-#",end:""},handlebars:{start:"{{!",end:"}}"},haskell:{start:"--",end:""},hlsl:{start:"//",end:""},html:{start:"<!--",end:"-->"},ini:{start:";",end:""},java:{start:"//",end:""},javascript:{start:"//",end:""},javascriptreact:{start:"//",end:""},jsonc:{start:"//",end:""},jsx:{start:"//",end:""},julia:{start:"#",end:""},kotlin:{start:"//",end:""},latex:{start:"%",end:""},legend:{start:"//",end:""},less:{start:"//",end:""},lua:{start:"--",end:""},makefile:{start:"#",end:""},markdown:{start:"[]: #",end:""},"objective-c":{start:"//",end:""},"objective-cpp":{start:"//",end:""},perl:{start:"#",end:""},php:{start:"//",end:""},powershell:{start:"#",end:""},pug:{start:"//",end:""},python:{start:"#",end:""},ql:{start:"//",end:""},r:{start:"#",end:""},razor:{start:"<!--",end:"-->"},ruby:{start:"#",end:""},rust:{start:"//",end:""},sass:{start:"//",end:""},scala:{start:"//",end:""},scss:{start:"//",end:""},shellscript:{start:"#",end:""},slang:{start:"//",end:""},slim:{start:"/",end:""},solidity:{start:"//",end:""},sql:{start:"--",end:""},stylus:{start:"//",end:""},svelte:{start:"<!--",end:"-->"},swift:{start:"//",end:""},systemverilog:{start:"//",end:""},terraform:{start:"#",end:""},tex:{start:"%",end:""},typescript:{start:"//",end:""},typescriptreact:{start:"//",end:""},vb:{start:"'",end:""},verilog:{start:"//",end:""},"vue-html":{start:"<!--",end:"-->"},vue:{start:"//",end:""},xml:{start:"<!--",end:"-->"},xsl:{start:"<!--",end:"-->"},yaml:{start:"#",end:""}},ab={start:"//",end:""},ub=["php","plaintext"],Kd={html:"<!DOCTYPE html>",python:"#!/usr/bin/env python3",ruby:"#!/usr/bin/env ruby",shellscript:"#!/bin/sh",yaml:"# YAML data"};n(lb,"hasLanguageMarker");n(qn,"comment");n(rr,"commentBlockAsSingles");n(Gd,"getLanguageMarker");n(Vd,"getPathMarker");n(ut,"newLineEnded")});function db(e){return{...cb,...e}}function vr(e,t={}){let r=db(t),o=st(r.tokenizerName);if(r.maxLineCount!==void 0&&r.maxLineCount<0)throw new Error("maxLineCount must be non-negative if defined");if(r.maxTokenLength!==void 0&&r.maxTokenLength<0)throw new Error("maxTokenLength must be non-negative if defined");if(r.maxLineCount===0||r.maxTokenLength===0)return{context:"",lineCount:0,tokenLength:0,tokenizerName:r.tokenizerName};let a=e.source.slice(0,e.offset);return r.maxLineCount!==void 0&&(a=a.split(`
`).slice(-r.maxLineCount).join(`
`)),r.maxTokenLength!==void 0&&(a=o.takeLastLinesTokens(a,r.maxTokenLength)),{context:a,lineCount:a.split(`
`).length,tokenLength:o.tokenLength(a),tokenizerName:r.tokenizerName}}var cb,ni=p(()=>{"use strict";rn();cb={tokenizerName:"cl100k_base"};n(db,"cursorContextOptions");n(vr,"getCursorContext")});function mb(e){return e.split(/[^a-zA-Z0-9]/).filter(t=>t.length>0)}var Aa,Oa,Ca,Ra,Wd,Ua,on,pb,fb,_b,oi=p(()=>{"use strict";Ut();Aa=class Aa{constructor(t){this.keys=[];this.cache={};this.size=t}put(t,r){var o;if(this.cache[t]=r,this.keys.length>this.size){this.keys.push(t);let a=(o=this.keys.shift())!=null?o:"";delete this.cache[a]}}get(t){return this.cache[t]}};n(Aa,"FifoCache");Oa=Aa,Ca=class Ca{constructor(t){var r;this.stopsForLanguage=(r=_b.get(t.languageId))!=null?r:fb}tokenize(t){return new Set(mb(t).filter(r=>!this.stopsForLanguage.has(r)))}};n(Ca,"Tokenizer");Ra=Ca,Wd=new Oa(20),Ua=class Ua{constructor(t){this.referenceDoc=t,this.tokenizer=new Ra(t)}get referenceTokens(){return this.createReferenceTokens()}async createReferenceTokens(){var t;return(t=this.referenceTokensCache)!=null?t:this.referenceTokensCache=this.tokenizer.tokenize(this._getCursorContextInfo(this.referenceDoc).context)}sortScoredSnippets(t,r="descending"){return r=="ascending"?t.sort((o,a)=>o.score>a.score?1:-1):r=="descending"?t.sort((o,a)=>o.score>a.score?-1:1):t}async retrieveAllSnippets(t,r="descending"){var c;let o=[];if(t.source.length===0||(await this.referenceTokens).size===0)return o;let a=t.source.split(`
`),u=this.id()+":"+t.source,i=(c=Wd.get(u))!=null?c:[],s=i.length==0,l=s?a.map(d=>this.tokenizer.tokenize(d),this.tokenizer):[];for(let[d,[m,f]]of this.getWindowsDelineations(a).entries()){if(s){let I=new Set;l.slice(m,f).forEach(x=>x.forEach(w=>I.add(w),I)),i.push(I)}let g=i[d],h=this.similarityScore(g,await this.referenceTokens);if(o.length&&m>0&&o[o.length-1].endLine>m){o[o.length-1].score<h&&(o[o.length-1].score=h,o[o.length-1].startLine=m,o[o.length-1].endLine=f);continue}o.push({score:h,startLine:m,endLine:f})}return s&&Wd.put(u,i),this.sortScoredSnippets(o,r)}findMatches(t,r){return this.findBestMatch(t,r)}async findBestMatch(t,r){if(t.source.length===0||(await this.referenceTokens).size===0)return[];let o=t.source.split(`
`),a=await this.retrieveAllSnippets(t,"descending");if(a.length===0)return[];let u=[];for(let i=0;i<a.length&&i<r;i++)if(a[i].score!==0){let s=o.slice(a[i].startLine,a[i].endLine).join(`
`);u.push({snippet:s,semantics:"snippet",provider:"similar-files",...a[i]})}return u}};n(Ua,"WindowedMatcher");on=Ua;n(mb,"splitIntoWords");pb=new Set(["we","our","you","it","its","they","them","their","this","that","these","those","is","are","was","were","be","been","being","have","has","had","having","do","does","did","doing","can","don","t","s","will","would","should","what","which","who","when","where","why","how","a","an","the","and","or","not","no","but","because","as","until","again","further","then","once","here","there","all","any","both","each","few","more","most","other","some","such","above","below","to","during","before","after","of","at","by","about","between","into","through","from","up","down","in","out","on","off","over","under","only","own","same","so","than","too","very","just","now"]),fb=new Set(["if","then","else","for","while","with","def","function","return","TODO","import","try","catch","raise","finally","repeat","switch","case","match","assert","continue","break","const","class","enum","struct","static","new","super","this","var",...pb]),_b=new Map([])});function ii(e,t){let r=[],o=t.length;if(o==0)return[];if(o<e)return[[0,o]];for(let a=0;a<o-e+1;a++)r.push([a,a+e]);return r}var Ba=p(()=>{"use strict";Jr();Qr();n(ii,"getBasicWindowDelineations")});function gb(e,t){let r=new Set;return e.forEach(o=>{t.has(o)&&r.add(o)}),r.size/(e.size+t.size-r.size)}var Zn,si,$d=p(()=>{"use strict";ni();oi();Ba();Zn=class Zn extends on{constructor(t,r){super(t),this.windowLength=r}id(){return"fixed:"+this.windowLength}getWindowsDelineations(t){return ii(this.windowLength,t)}_getCursorContextInfo(t){return vr(t,{maxLineCount:this.windowLength})}similarityScore(t,r){return gb(t,r)}};n(Zn,"FixedWindowSizeJaccardMatcher"),Zn.FACTORY=n(t=>({to:n(r=>new Zn(r,t),"to")}),"FACTORY");si=Zn;n(gb,"computeScore")});var zd=oe((exports,module)=>{var Module=Module!==void 0?Module:{},TreeSitter=function(){var initPromise,document=typeof window=="object"?{currentScript:window.document.currentScript}:null;let _Parser=class _Parser{constructor(){this.initialize()}initialize(){throw new Error("cannot construct a Parser before calling `init()`")}static init(moduleOptions){return initPromise||(Module=Object.assign({},Module,moduleOptions),initPromise=new Promise(resolveInitPromise=>{var moduleOverrides=Object.assign({},Module),arguments_=[],thisProgram="./this.program",quit_=n((i,s)=>{throw s},"quit_"),ENVIRONMENT_IS_WEB=typeof window=="object",ENVIRONMENT_IS_WORKER=typeof importScripts=="function",ENVIRONMENT_IS_NODE=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",scriptDirectory="",read_,readAsync,readBinary,setWindowTitle;function locateFile(i){return Module.locateFile?Module.locateFile(i,scriptDirectory):scriptDirectory+i}n(locateFile,"locateFile");function logExceptionOnExit(i){i instanceof ExitStatus||err("exiting due to exception: "+i)}if(n(logExceptionOnExit,"logExceptionOnExit"),ENVIRONMENT_IS_NODE){var fs=require("fs"),nodePath=require("path");scriptDirectory=ENVIRONMENT_IS_WORKER?nodePath.dirname(scriptDirectory)+"/":__dirname+"/",read_=n((i,s)=>(i=isFileURI(i)?new URL(i):nodePath.normalize(i),fs.readFileSync(i,s?void 0:"utf8")),"read_"),readBinary=n(i=>{var s=read_(i,!0);return s.buffer||(s=new Uint8Array(s)),s},"readBinary"),readAsync=n((i,s,l)=>{i=isFileURI(i)?new URL(i):nodePath.normalize(i),fs.readFile(i,function(c,d){c?l(c):s(d.buffer)})},"readAsync"),process.argv.length>1&&(thisProgram=process.argv[1].replace(/\\/g,"/")),arguments_=process.argv.slice(2),typeof module<"u"&&(module.exports=Module),quit_=n((i,s)=>{if(keepRuntimeAlive())throw process.exitCode=i,s;logExceptionOnExit(s),process.exit(i)},"quit_"),Module.inspect=function(){return"[Emscripten Module object]"}}else(ENVIRONMENT_IS_WEB||ENVIRONMENT_IS_WORKER)&&(ENVIRONMENT_IS_WORKER?scriptDirectory=self.location.href:document!==void 0&&document.currentScript&&(scriptDirectory=document.currentScript.src),scriptDirectory=scriptDirectory.indexOf("blob:")!==0?scriptDirectory.substr(0,scriptDirectory.replace(/[?#].*/,"").lastIndexOf("/")+1):"",read_=n(i=>{var s=new XMLHttpRequest;return s.open("GET",i,!1),s.send(null),s.responseText},"read_"),ENVIRONMENT_IS_WORKER&&(readBinary=n(i=>{var s=new XMLHttpRequest;return s.open("GET",i,!1),s.responseType="arraybuffer",s.send(null),new Uint8Array(s.response)},"readBinary")),readAsync=n((i,s,l)=>{var c=new XMLHttpRequest;c.open("GET",i,!0),c.responseType="arraybuffer",c.onload=()=>{c.status==200||c.status==0&&c.response?s(c.response):l()},c.onerror=l,c.send(null)},"readAsync"),setWindowTitle=n(i=>document.title=i,"setWindowTitle"));var out=Module.print||console.log.bind(console),err=Module.printErr||console.warn.bind(console);Object.assign(Module,moduleOverrides),moduleOverrides=null,Module.arguments&&(arguments_=Module.arguments),Module.thisProgram&&(thisProgram=Module.thisProgram),Module.quit&&(quit_=Module.quit);var STACK_ALIGN=16,dynamicLibraries=Module.dynamicLibraries||[],wasmBinary;Module.wasmBinary&&(wasmBinary=Module.wasmBinary);var noExitRuntime=Module.noExitRuntime||!0,wasmMemory;typeof WebAssembly!="object"&&abort("no native wasm support detected");var ABORT=!1,EXITSTATUS,UTF8Decoder=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,buffer,HEAP8,HEAPU8,HEAP16,HEAPU16,HEAP32,HEAPU32,HEAPF32,HEAPF64;function UTF8ArrayToString(i,s,l){for(var c=s+l,d=s;i[d]&&!(d>=c);)++d;if(d-s>16&&i.buffer&&UTF8Decoder)return UTF8Decoder.decode(i.subarray(s,d));for(var m="";s<d;){var f=i[s++];if(128&f){var g=63&i[s++];if((224&f)!=192){var h=63&i[s++];if((f=(240&f)==224?(15&f)<<12|g<<6|h:(7&f)<<18|g<<12|h<<6|63&i[s++])<65536)m+=String.fromCharCode(f);else{var I=f-65536;m+=String.fromCharCode(55296|I>>10,56320|1023&I)}}else m+=String.fromCharCode((31&f)<<6|g)}else m+=String.fromCharCode(f)}return m}n(UTF8ArrayToString,"UTF8ArrayToString");function UTF8ToString(i,s){return i?UTF8ArrayToString(HEAPU8,i,s):""}n(UTF8ToString,"UTF8ToString");function stringToUTF8Array(i,s,l,c){if(!(c>0))return 0;for(var d=l,m=l+c-1,f=0;f<i.length;++f){var g=i.charCodeAt(f);if(g>=55296&&g<=57343&&(g=65536+((1023&g)<<10)|1023&i.charCodeAt(++f)),g<=127){if(l>=m)break;s[l++]=g}else if(g<=2047){if(l+1>=m)break;s[l++]=192|g>>6,s[l++]=128|63&g}else if(g<=65535){if(l+2>=m)break;s[l++]=224|g>>12,s[l++]=128|g>>6&63,s[l++]=128|63&g}else{if(l+3>=m)break;s[l++]=240|g>>18,s[l++]=128|g>>12&63,s[l++]=128|g>>6&63,s[l++]=128|63&g}}return s[l]=0,l-d}n(stringToUTF8Array,"stringToUTF8Array");function stringToUTF8(i,s,l){return stringToUTF8Array(i,HEAPU8,s,l)}n(stringToUTF8,"stringToUTF8");function lengthBytesUTF8(i){for(var s=0,l=0;l<i.length;++l){var c=i.charCodeAt(l);c<=127?s++:c<=2047?s+=2:c>=55296&&c<=57343?(s+=4,++l):s+=3}return s}n(lengthBytesUTF8,"lengthBytesUTF8");function updateGlobalBufferAndViews(i){buffer=i,Module.HEAP8=HEAP8=new Int8Array(i),Module.HEAP16=HEAP16=new Int16Array(i),Module.HEAP32=HEAP32=new Int32Array(i),Module.HEAPU8=HEAPU8=new Uint8Array(i),Module.HEAPU16=HEAPU16=new Uint16Array(i),Module.HEAPU32=HEAPU32=new Uint32Array(i),Module.HEAPF32=HEAPF32=new Float32Array(i),Module.HEAPF64=HEAPF64=new Float64Array(i)}n(updateGlobalBufferAndViews,"updateGlobalBufferAndViews");var INITIAL_MEMORY=Module.INITIAL_MEMORY||33554432;wasmMemory=Module.wasmMemory?Module.wasmMemory:new WebAssembly.Memory({initial:INITIAL_MEMORY/65536,maximum:32768}),wasmMemory&&(buffer=wasmMemory.buffer),INITIAL_MEMORY=buffer.byteLength,updateGlobalBufferAndViews(buffer);var wasmTable=new WebAssembly.Table({initial:20,element:"anyfunc"}),__ATPRERUN__=[],__ATINIT__=[],__ATMAIN__=[],__ATPOSTRUN__=[],__RELOC_FUNCS__=[],runtimeInitialized=!1;function keepRuntimeAlive(){return noExitRuntime}n(keepRuntimeAlive,"keepRuntimeAlive");function preRun(){if(Module.preRun)for(typeof Module.preRun=="function"&&(Module.preRun=[Module.preRun]);Module.preRun.length;)addOnPreRun(Module.preRun.shift());callRuntimeCallbacks(__ATPRERUN__)}n(preRun,"preRun");function initRuntime(){runtimeInitialized=!0,callRuntimeCallbacks(__RELOC_FUNCS__),callRuntimeCallbacks(__ATINIT__)}n(initRuntime,"initRuntime");function preMain(){callRuntimeCallbacks(__ATMAIN__)}n(preMain,"preMain");function postRun(){if(Module.postRun)for(typeof Module.postRun=="function"&&(Module.postRun=[Module.postRun]);Module.postRun.length;)addOnPostRun(Module.postRun.shift());callRuntimeCallbacks(__ATPOSTRUN__)}n(postRun,"postRun");function addOnPreRun(i){__ATPRERUN__.unshift(i)}n(addOnPreRun,"addOnPreRun");function addOnInit(i){__ATINIT__.unshift(i)}n(addOnInit,"addOnInit");function addOnPostRun(i){__ATPOSTRUN__.unshift(i)}n(addOnPostRun,"addOnPostRun");var runDependencies=0,runDependencyWatcher=null,dependenciesFulfilled=null;function addRunDependency(i){runDependencies++,Module.monitorRunDependencies&&Module.monitorRunDependencies(runDependencies)}n(addRunDependency,"addRunDependency");function removeRunDependency(i){if(runDependencies--,Module.monitorRunDependencies&&Module.monitorRunDependencies(runDependencies),runDependencies==0&&(runDependencyWatcher!==null&&(clearInterval(runDependencyWatcher),runDependencyWatcher=null),dependenciesFulfilled)){var s=dependenciesFulfilled;dependenciesFulfilled=null,s()}}n(removeRunDependency,"removeRunDependency");function abort(i){throw Module.onAbort&&Module.onAbort(i),err(i="Aborted("+i+")"),ABORT=!0,EXITSTATUS=1,i+=". Build with -sASSERTIONS for more info.",new WebAssembly.RuntimeError(i)}n(abort,"abort");var dataURIPrefix="data:application/octet-stream;base64,",wasmBinaryFile,tempDouble,tempI64;function isDataURI(i){return i.startsWith(dataURIPrefix)}n(isDataURI,"isDataURI");function isFileURI(i){return i.startsWith("file://")}n(isFileURI,"isFileURI");function getBinary(i){try{if(i==wasmBinaryFile&&wasmBinary)return new Uint8Array(wasmBinary);if(readBinary)return readBinary(i);throw"both async and sync fetching of the wasm failed"}catch(s){abort(s)}}n(getBinary,"getBinary");function getBinaryPromise(){if(!wasmBinary&&(ENVIRONMENT_IS_WEB||ENVIRONMENT_IS_WORKER)){if(typeof fetch=="function"&&!isFileURI(wasmBinaryFile))return fetch(wasmBinaryFile,{credentials:"same-origin"}).then(function(i){if(!i.ok)throw"failed to load wasm binary file at '"+wasmBinaryFile+"'";return i.arrayBuffer()}).catch(function(){return getBinary(wasmBinaryFile)});if(readAsync)return new Promise(function(i,s){readAsync(wasmBinaryFile,function(l){i(new Uint8Array(l))},s)})}return Promise.resolve().then(function(){return getBinary(wasmBinaryFile)})}n(getBinaryPromise,"getBinaryPromise");function createWasm(){var i={env:asmLibraryArg,wasi_snapshot_preview1:asmLibraryArg,"GOT.mem":new Proxy(asmLibraryArg,GOTHandler),"GOT.func":new Proxy(asmLibraryArg,GOTHandler)};function s(d,m){var f=d.exports;f=relocateExports(f,1024);var g=getDylinkMetadata(m);g.neededDynlibs&&(dynamicLibraries=g.neededDynlibs.concat(dynamicLibraries)),mergeLibSymbols(f,"main"),Module.asm=f,addOnInit(Module.asm.__wasm_call_ctors),__RELOC_FUNCS__.push(Module.asm.__wasm_apply_data_relocs),removeRunDependency("wasm-instantiate")}n(s,"t");function l(d){s(d.instance,d.module)}n(l,"r");function c(d){return getBinaryPromise().then(function(m){return WebAssembly.instantiate(m,i)}).then(function(m){return m}).then(d,function(m){err("failed to asynchronously prepare wasm: "+m),abort(m)})}if(n(c,"_"),addRunDependency("wasm-instantiate"),Module.instantiateWasm)try{return Module.instantiateWasm(i,s)}catch(d){return err("Module.instantiateWasm callback failed with error: "+d),!1}return wasmBinary||typeof WebAssembly.instantiateStreaming!="function"||isDataURI(wasmBinaryFile)||isFileURI(wasmBinaryFile)||ENVIRONMENT_IS_NODE||typeof fetch!="function"?c(l):fetch(wasmBinaryFile,{credentials:"same-origin"}).then(function(d){return WebAssembly.instantiateStreaming(d,i).then(l,function(m){return err("wasm streaming compile failed: "+m),err("falling back to ArrayBuffer instantiation"),c(l)})}),{}}n(createWasm,"createWasm"),wasmBinaryFile="tree-sitter.wasm",isDataURI(wasmBinaryFile)||(wasmBinaryFile=locateFile(wasmBinaryFile));var ASM_CONSTS={};function ExitStatus(i){this.name="ExitStatus",this.message="Program terminated with exit("+i+")",this.status=i}n(ExitStatus,"ExitStatus");var GOT={},CurrentModuleWeakSymbols=new Set([]),GOTHandler={get:n(function(i,s){var l=GOT[s];return l||(l=GOT[s]=new WebAssembly.Global({value:"i32",mutable:!0})),CurrentModuleWeakSymbols.has(s)||(l.required=!0),l},"get")};function callRuntimeCallbacks(i){for(;i.length>0;)i.shift()(Module)}n(callRuntimeCallbacks,"callRuntimeCallbacks");function getDylinkMetadata(i){var s=0,l=0;function c(){for(var R=0,E=1;;){var k=i[s++];if(R+=(127&k)*E,E*=128,!(128&k))break}return R}n(c,"_");function d(){var R=c();return UTF8ArrayToString(i,(s+=R)-R,R)}n(d,"n");function m(R,E){if(R)throw new Error(E)}n(m,"s");var f="dylink.0";if(i instanceof WebAssembly.Module){var g=WebAssembly.Module.customSections(i,f);g.length===0&&(f="dylink",g=WebAssembly.Module.customSections(i,f)),m(g.length===0,"need dylink section"),l=(i=new Uint8Array(g[0])).length}else{m(new Uint32Array(new Uint8Array(i.subarray(0,24)).buffer)[0]!=1836278016,"need to see wasm magic number"),m(i[8]!==0,"need the dylink section to be first"),s=9;var h=c();l=s+h,f=d()}var I={neededDynlibs:[],tlsExports:new Set,weakImports:new Set};if(f=="dylink"){I.memorySize=c(),I.memoryAlign=c(),I.tableSize=c(),I.tableAlign=c();for(var x=c(),w=0;w<x;++w){var F=d();I.neededDynlibs.push(F)}}else for(m(f!=="dylink.0");s<l;){var M=i[s++],T=c();if(M===1)I.memorySize=c(),I.memoryAlign=c(),I.tableSize=c(),I.tableAlign=c();else if(M===2)for(x=c(),w=0;w<x;++w)F=d(),I.neededDynlibs.push(F);else if(M===3)for(var L=c();L--;){var O=d();256&c()&&I.tlsExports.add(O)}else if(M===4)for(L=c();L--;)d(),O=d(),(3&c())==1&&I.weakImports.add(O);else s+=T}return I}n(getDylinkMetadata,"getDylinkMetadata");function getValue(i,s="i8"){switch(s.endsWith("*")&&(s="*"),s){case"i1":case"i8":return HEAP8[i>>0];case"i16":return HEAP16[i>>1];case"i32":case"i64":return HEAP32[i>>2];case"float":return HEAPF32[i>>2];case"double":return HEAPF64[i>>3];case"*":return HEAPU32[i>>2];default:abort("invalid type for getValue: "+s)}return null}n(getValue,"getValue");function asmjsMangle(i){return i.indexOf("dynCall_")==0||["stackAlloc","stackSave","stackRestore","getTempRet0","setTempRet0"].includes(i)?i:"_"+i}n(asmjsMangle,"asmjsMangle");function mergeLibSymbols(i,s){for(var l in i)if(i.hasOwnProperty(l)){asmLibraryArg.hasOwnProperty(l)||(asmLibraryArg[l]=i[l]);var c=asmjsMangle(l);Module.hasOwnProperty(c)||(Module[c]=i[l]),l=="__main_argc_argv"&&(Module._main=i[l])}}n(mergeLibSymbols,"mergeLibSymbols");var LDSO={loadedLibsByName:{},loadedLibsByHandle:{}};function dynCallLegacy(i,s,l){var c=Module["dynCall_"+i];return l&&l.length?c.apply(null,[s].concat(l)):c.call(null,s)}n(dynCallLegacy,"dynCallLegacy");var wasmTableMirror=[];function getWasmTableEntry(i){var s=wasmTableMirror[i];return s||(i>=wasmTableMirror.length&&(wasmTableMirror.length=i+1),wasmTableMirror[i]=s=wasmTable.get(i)),s}n(getWasmTableEntry,"getWasmTableEntry");function dynCall(i,s,l){return i.includes("j")?dynCallLegacy(i,s,l):getWasmTableEntry(s).apply(null,l)}n(dynCall,"dynCall");function createInvokeFunction(i){return function(){var s=stackSave();try{return dynCall(i,arguments[0],Array.prototype.slice.call(arguments,1))}catch(l){if(stackRestore(s),l!==l+0)throw l;_setThrew(1,0)}}}n(createInvokeFunction,"createInvokeFunction");var ___heap_base=78144;function zeroMemory(i,s){return HEAPU8.fill(0,i,i+s),i}n(zeroMemory,"zeroMemory");function getMemory(i){if(runtimeInitialized)return zeroMemory(_malloc(i),i);var s=___heap_base,l=s+i+15&-16;return ___heap_base=l,GOT.__heap_base.value=l,s}n(getMemory,"getMemory");function isInternalSym(i){return["__cpp_exception","__c_longjmp","__wasm_apply_data_relocs","__dso_handle","__tls_size","__tls_align","__set_stack_limits","_emscripten_tls_init","__wasm_init_tls","__wasm_call_ctors","__start_em_asm","__stop_em_asm"].includes(i)}n(isInternalSym,"isInternalSym");function uleb128Encode(i,s){i<128?s.push(i):s.push(i%128|128,i>>7)}n(uleb128Encode,"uleb128Encode");function sigToWasmTypes(i){for(var s={i:"i32",j:"i32",f:"f32",d:"f64",p:"i32"},l={parameters:[],results:i[0]=="v"?[]:[s[i[0]]]},c=1;c<i.length;++c)l.parameters.push(s[i[c]]),i[c]==="j"&&l.parameters.push("i32");return l}n(sigToWasmTypes,"sigToWasmTypes");function generateFuncType(i,s){var l=i.slice(0,1),c=i.slice(1),d={i:127,p:127,j:126,f:125,d:124};s.push(96),uleb128Encode(c.length,s);for(var m=0;m<c.length;++m)s.push(d[c[m]]);l=="v"?s.push(0):s.push(1,d[l])}n(generateFuncType,"generateFuncType");function convertJsFunctionToWasm(i,s){if(typeof WebAssembly.Function=="function")return new WebAssembly.Function(sigToWasmTypes(s),i);var l=[1];generateFuncType(s,l);var c=[0,97,115,109,1,0,0,0,1];uleb128Encode(l.length,c),c.push.apply(c,l),c.push(2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0);var d=new WebAssembly.Module(new Uint8Array(c));return new WebAssembly.Instance(d,{e:{f:i}}).exports.f}n(convertJsFunctionToWasm,"convertJsFunctionToWasm");function updateTableMap(i,s){if(functionsInTableMap)for(var l=i;l<i+s;l++){var c=getWasmTableEntry(l);c&&functionsInTableMap.set(c,l)}}n(updateTableMap,"updateTableMap");var functionsInTableMap=void 0,freeTableIndexes=[];function getEmptyTableSlot(){if(freeTableIndexes.length)return freeTableIndexes.pop();try{wasmTable.grow(1)}catch(i){throw i instanceof RangeError?"Unable to grow wasm table. Set ALLOW_TABLE_GROWTH.":i}return wasmTable.length-1}n(getEmptyTableSlot,"getEmptyTableSlot");function setWasmTableEntry(i,s){wasmTable.set(i,s),wasmTableMirror[i]=wasmTable.get(i)}n(setWasmTableEntry,"setWasmTableEntry");function addFunction(i,s){if(functionsInTableMap||(functionsInTableMap=new WeakMap,updateTableMap(0,wasmTable.length)),functionsInTableMap.has(i))return functionsInTableMap.get(i);var l=getEmptyTableSlot();try{setWasmTableEntry(l,i)}catch(c){if(!(c instanceof TypeError))throw c;setWasmTableEntry(l,convertJsFunctionToWasm(i,s))}return functionsInTableMap.set(i,l),l}n(addFunction,"addFunction");function updateGOT(i,s){for(var l in i)if(!isInternalSym(l)){var c=i[l];l.startsWith("orig$")&&(l=l.split("$")[1],s=!0),GOT[l]||(GOT[l]=new WebAssembly.Global({value:"i32",mutable:!0})),(s||GOT[l].value==0)&&(typeof c=="function"?GOT[l].value=addFunction(c):typeof c=="number"?GOT[l].value=c:err("unhandled export type for `"+l+"`: "+typeof c))}}n(updateGOT,"updateGOT");function relocateExports(i,s,l){var c={};for(var d in i){var m=i[d];typeof m=="object"&&(m=m.value),typeof m=="number"&&(m+=s),c[d]=m}return updateGOT(c,l),c}n(relocateExports,"relocateExports");function resolveGlobalSymbol(i,s){var l;return s&&(l=asmLibraryArg["orig$"+i]),l||(l=asmLibraryArg[i])&&l.stub&&(l=void 0),l||(l=Module[asmjsMangle(i)]),!l&&i.startsWith("invoke_")&&(l=createInvokeFunction(i.split("_")[1])),l}n(resolveGlobalSymbol,"resolveGlobalSymbol");function alignMemory(i,s){return Math.ceil(i/s)*s}n(alignMemory,"alignMemory");function loadWebAssemblyModule(binary,flags,handle){var metadata=getDylinkMetadata(binary);function loadModule(){var firstLoad=!handle||!HEAP8[handle+12>>0];if(firstLoad){var memAlign=Math.pow(2,metadata.memoryAlign);memAlign=Math.max(memAlign,STACK_ALIGN);var memoryBase=metadata.memorySize?alignMemory(getMemory(metadata.memorySize+memAlign),memAlign):0,tableBase=metadata.tableSize?wasmTable.length:0;handle&&(HEAP8[handle+12>>0]=1,HEAPU32[handle+16>>2]=memoryBase,HEAP32[handle+20>>2]=metadata.memorySize,HEAPU32[handle+24>>2]=tableBase,HEAP32[handle+28>>2]=metadata.tableSize)}else memoryBase=HEAPU32[handle+16>>2],tableBase=HEAPU32[handle+24>>2];var tableGrowthNeeded=tableBase+metadata.tableSize-wasmTable.length,moduleExports;function resolveSymbol(i){var s=resolveGlobalSymbol(i,!1);return s||(s=moduleExports[i]),s}n(resolveSymbol,"resolveSymbol"),tableGrowthNeeded>0&&wasmTable.grow(tableGrowthNeeded);var proxyHandler={get:n(function(i,s){switch(s){case"__memory_base":return memoryBase;case"__table_base":return tableBase}if(s in asmLibraryArg)return asmLibraryArg[s];var l;return s in i||(i[s]=function(){return l||(l=resolveSymbol(s)),l.apply(null,arguments)}),i[s]},"get")},proxy=new Proxy({},proxyHandler),info={"GOT.mem":new Proxy({},GOTHandler),"GOT.func":new Proxy({},GOTHandler),env:proxy,wasi_snapshot_preview1:proxy};function postInstantiation(instance){function addEmAsm(addr,body){for(var args=[],arity=0;arity<16&&body.indexOf("$"+arity)!=-1;arity++)args.push("$"+arity);args=args.join(",");var func="("+args+" ) => { "+body+"};";ASM_CONSTS[start]=eval(func)}if(n(addEmAsm,"addEmAsm"),updateTableMap(tableBase,metadata.tableSize),moduleExports=relocateExports(instance.exports,memoryBase),flags.allowUndefined||reportUndefinedSymbols(),"__start_em_asm"in moduleExports)for(var start=moduleExports.__start_em_asm,stop=moduleExports.__stop_em_asm;start<stop;){var jsString=UTF8ToString(start);addEmAsm(start,jsString),start=HEAPU8.indexOf(0,start)+1}var applyRelocs=moduleExports.__wasm_apply_data_relocs;applyRelocs&&(runtimeInitialized?applyRelocs():__RELOC_FUNCS__.push(applyRelocs));var init=moduleExports.__wasm_call_ctors;return init&&(runtimeInitialized?init():__ATINIT__.push(init)),moduleExports}if(n(postInstantiation,"postInstantiation"),flags.loadAsync){if(binary instanceof WebAssembly.Module){var instance=new WebAssembly.Instance(binary,info);return Promise.resolve(postInstantiation(instance))}return WebAssembly.instantiate(binary,info).then(function(i){return postInstantiation(i.instance)})}var module=binary instanceof WebAssembly.Module?binary:new WebAssembly.Module(binary),instance=new WebAssembly.Instance(module,info);return postInstantiation(instance)}return n(loadModule,"loadModule"),CurrentModuleWeakSymbols=metadata.weakImports,flags.loadAsync?metadata.neededDynlibs.reduce(function(i,s){return i.then(function(){return loadDynamicLibrary(s,flags)})},Promise.resolve()).then(function(){return loadModule()}):(metadata.neededDynlibs.forEach(function(i){loadDynamicLibrary(i,flags)}),loadModule())}n(loadWebAssemblyModule,"loadWebAssemblyModule");function loadDynamicLibrary(i,s,l){s=s||{global:!0,nodelete:!0};var c=LDSO.loadedLibsByName[i];if(c)return s.global&&!c.global&&(c.global=!0,c.module!=="loading"&&mergeLibSymbols(c.module,i)),s.nodelete&&c.refcount!==1/0&&(c.refcount=1/0),c.refcount++,l&&(LDSO.loadedLibsByHandle[l]=c),!s.loadAsync||Promise.resolve(!0);function d(g){if(s.fs&&s.fs.findObject(g)){var h=s.fs.readFile(g,{encoding:"binary"});return h instanceof Uint8Array||(h=new Uint8Array(h)),s.loadAsync?Promise.resolve(h):h}if(g=locateFile(g),s.loadAsync)return new Promise(function(I,x){readAsync(g,w=>I(new Uint8Array(w)),x)});if(!readBinary)throw new Error(g+": file not found, and synchronous loading of external files is not available");return readBinary(g)}n(d,"n");function m(){if(typeof preloadedWasm<"u"&&preloadedWasm[i]){var g=preloadedWasm[i];return s.loadAsync?Promise.resolve(g):g}return s.loadAsync?d(i).then(function(h){return loadWebAssemblyModule(h,s,l)}):loadWebAssemblyModule(d(i),s,l)}n(m,"s");function f(g){c.global&&mergeLibSymbols(g,i),c.module=g}return n(f,"a"),c={refcount:s.nodelete?1/0:1,name:i,module:"loading",global:s.global},LDSO.loadedLibsByName[i]=c,l&&(LDSO.loadedLibsByHandle[l]=c),s.loadAsync?m().then(function(g){return f(g),!0}):(f(m()),!0)}n(loadDynamicLibrary,"loadDynamicLibrary");function reportUndefinedSymbols(){for(var i in GOT)if(GOT[i].value==0){var s=resolveGlobalSymbol(i,!0);if(!s&&!GOT[i].required)continue;if(typeof s=="function")GOT[i].value=addFunction(s,s.sig);else{if(typeof s!="number")throw new Error("bad export type for `"+i+"`: "+typeof s);GOT[i].value=s}}}n(reportUndefinedSymbols,"reportUndefinedSymbols");function preloadDylibs(){dynamicLibraries.length?(addRunDependency("preloadDylibs"),dynamicLibraries.reduce(function(i,s){return i.then(function(){return loadDynamicLibrary(s,{loadAsync:!0,global:!0,nodelete:!0,allowUndefined:!0})})},Promise.resolve()).then(function(){reportUndefinedSymbols(),removeRunDependency("preloadDylibs")})):reportUndefinedSymbols()}n(preloadDylibs,"preloadDylibs");function setValue(i,s,l="i8"){switch(l.endsWith("*")&&(l="*"),l){case"i1":case"i8":HEAP8[i>>0]=s;break;case"i16":HEAP16[i>>1]=s;break;case"i32":HEAP32[i>>2]=s;break;case"i64":tempI64=[s>>>0,(tempDouble=s,+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[i>>2]=tempI64[0],HEAP32[i+4>>2]=tempI64[1];break;case"float":HEAPF32[i>>2]=s;break;case"double":HEAPF64[i>>3]=s;break;case"*":HEAPU32[i>>2]=s;break;default:abort("invalid type for setValue: "+l)}}n(setValue,"setValue");var ___memory_base=new WebAssembly.Global({value:"i32",mutable:!1},1024),___stack_pointer=new WebAssembly.Global({value:"i32",mutable:!0},78144),___table_base=new WebAssembly.Global({value:"i32",mutable:!1},1),nowIsMonotonic=!0,_emscripten_get_now;function __emscripten_get_now_is_monotonic(){return nowIsMonotonic}n(__emscripten_get_now_is_monotonic,"__emscripten_get_now_is_monotonic");function _abort(){abort("")}n(_abort,"_abort");function _emscripten_date_now(){return Date.now()}n(_emscripten_date_now,"_emscripten_date_now");function _emscripten_memcpy_big(i,s,l){HEAPU8.copyWithin(i,s,s+l)}n(_emscripten_memcpy_big,"_emscripten_memcpy_big");function getHeapMax(){return 2147483648}n(getHeapMax,"getHeapMax");function emscripten_realloc_buffer(i){try{return wasmMemory.grow(i-buffer.byteLength+65535>>>16),updateGlobalBufferAndViews(wasmMemory.buffer),1}catch{}}n(emscripten_realloc_buffer,"emscripten_realloc_buffer");function _emscripten_resize_heap(i){var s=HEAPU8.length;i>>>=0;var l=getHeapMax();if(i>l)return!1;for(var c=1;c<=4;c*=2){var d=s*(1+.2/c);if(d=Math.min(d,i+100663296),emscripten_realloc_buffer(Math.min(l,(m=Math.max(i,d))+((f=65536)-m%f)%f)))return!0}var m,f;return!1}n(_emscripten_resize_heap,"_emscripten_resize_heap"),__emscripten_get_now_is_monotonic.sig="i",Module._abort=_abort,_abort.sig="v",_emscripten_date_now.sig="d",_emscripten_get_now=ENVIRONMENT_IS_NODE?()=>{var i=process.hrtime();return 1e3*i[0]+i[1]/1e6}:()=>performance.now(),_emscripten_get_now.sig="d",_emscripten_memcpy_big.sig="vppp",_emscripten_resize_heap.sig="ip";var SYSCALLS={DEFAULT_POLLMASK:5,calculateAt:n(function(i,s,l){if(PATH.isAbs(s))return s;var c;if(i===-100?c=FS.cwd():c=SYSCALLS.getStreamFromFD(i).path,s.length==0){if(!l)throw new FS.ErrnoError(44);return c}return PATH.join2(c,s)},"calculateAt"),doStat:n(function(i,s,l){try{var c=i(s)}catch(g){if(g&&g.node&&PATH.normalize(s)!==PATH.normalize(FS.getPath(g.node)))return-54;throw g}HEAP32[l>>2]=c.dev,HEAP32[l+8>>2]=c.ino,HEAP32[l+12>>2]=c.mode,HEAPU32[l+16>>2]=c.nlink,HEAP32[l+20>>2]=c.uid,HEAP32[l+24>>2]=c.gid,HEAP32[l+28>>2]=c.rdev,tempI64=[c.size>>>0,(tempDouble=c.size,+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[l+40>>2]=tempI64[0],HEAP32[l+44>>2]=tempI64[1],HEAP32[l+48>>2]=4096,HEAP32[l+52>>2]=c.blocks;var d=c.atime.getTime(),m=c.mtime.getTime(),f=c.ctime.getTime();return tempI64=[Math.floor(d/1e3)>>>0,(tempDouble=Math.floor(d/1e3),+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[l+56>>2]=tempI64[0],HEAP32[l+60>>2]=tempI64[1],HEAPU32[l+64>>2]=d%1e3*1e3,tempI64=[Math.floor(m/1e3)>>>0,(tempDouble=Math.floor(m/1e3),+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[l+72>>2]=tempI64[0],HEAP32[l+76>>2]=tempI64[1],HEAPU32[l+80>>2]=m%1e3*1e3,tempI64=[Math.floor(f/1e3)>>>0,(tempDouble=Math.floor(f/1e3),+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[l+88>>2]=tempI64[0],HEAP32[l+92>>2]=tempI64[1],HEAPU32[l+96>>2]=f%1e3*1e3,tempI64=[c.ino>>>0,(tempDouble=c.ino,+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[l+104>>2]=tempI64[0],HEAP32[l+108>>2]=tempI64[1],0},"doStat"),doMsync:n(function(i,s,l,c,d){if(!FS.isFile(s.node.mode))throw new FS.ErrnoError(43);if(2&c)return 0;var m=HEAPU8.slice(i,i+l);FS.msync(s,m,d,l,c)},"doMsync"),varargs:void 0,get:n(function(){return SYSCALLS.varargs+=4,HEAP32[SYSCALLS.varargs-4>>2]},"get"),getStr:n(function(i){return UTF8ToString(i)},"getStr"),getStreamFromFD:n(function(i){var s=FS.getStream(i);if(!s)throw new FS.ErrnoError(8);return s},"getStreamFromFD")};function _proc_exit(i){EXITSTATUS=i,keepRuntimeAlive()||(Module.onExit&&Module.onExit(i),ABORT=!0),quit_(i,new ExitStatus(i))}n(_proc_exit,"_proc_exit");function exitJS(i,s){EXITSTATUS=i,_proc_exit(i)}n(exitJS,"exitJS"),_proc_exit.sig="vi";var _exit=exitJS;function _fd_close(i){try{var s=SYSCALLS.getStreamFromFD(i);return FS.close(s),0}catch(l){if(typeof FS>"u"||!(l instanceof FS.ErrnoError))throw l;return l.errno}}n(_fd_close,"_fd_close");function convertI32PairToI53Checked(i,s){return s+2097152>>>0<4194305-!!i?(i>>>0)+4294967296*s:NaN}n(convertI32PairToI53Checked,"convertI32PairToI53Checked");function _fd_seek(i,s,l,c,d){try{var m=convertI32PairToI53Checked(s,l);if(isNaN(m))return 61;var f=SYSCALLS.getStreamFromFD(i);return FS.llseek(f,m,c),tempI64=[f.position>>>0,(tempDouble=f.position,+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[d>>2]=tempI64[0],HEAP32[d+4>>2]=tempI64[1],f.getdents&&m===0&&c===0&&(f.getdents=null),0}catch(g){if(typeof FS>"u"||!(g instanceof FS.ErrnoError))throw g;return g.errno}}n(_fd_seek,"_fd_seek");function doWritev(i,s,l,c){for(var d=0,m=0;m<l;m++){var f=HEAPU32[s>>2],g=HEAPU32[s+4>>2];s+=8;var h=FS.write(i,HEAP8,f,g,c);if(h<0)return-1;d+=h,c!==void 0&&(c+=h)}return d}n(doWritev,"doWritev");function _fd_write(i,s,l,c){try{var d=doWritev(SYSCALLS.getStreamFromFD(i),s,l);return HEAPU32[c>>2]=d,0}catch(m){if(typeof FS>"u"||!(m instanceof FS.ErrnoError))throw m;return m.errno}}n(_fd_write,"_fd_write");function _tree_sitter_log_callback(i,s){if(currentLogCallback){let l=UTF8ToString(s);currentLogCallback(l,i!==0)}}n(_tree_sitter_log_callback,"_tree_sitter_log_callback");function _tree_sitter_parse_callback(i,s,l,c,d){var m=currentParseCallback(s,{row:l,column:c});typeof m=="string"?(setValue(d,m.length,"i32"),stringToUTF16(m,i,10240)):setValue(d,0,"i32")}n(_tree_sitter_parse_callback,"_tree_sitter_parse_callback");function handleException(i){if(i instanceof ExitStatus||i=="unwind")return EXITSTATUS;quit_(1,i)}n(handleException,"handleException");function allocateUTF8OnStack(i){var s=lengthBytesUTF8(i)+1,l=stackAlloc(s);return stringToUTF8Array(i,HEAP8,l,s),l}n(allocateUTF8OnStack,"allocateUTF8OnStack");function stringToUTF16(i,s,l){if(l===void 0&&(l=2147483647),l<2)return 0;for(var c=s,d=(l-=2)<2*i.length?l/2:i.length,m=0;m<d;++m){var f=i.charCodeAt(m);HEAP16[s>>1]=f,s+=2}return HEAP16[s>>1]=0,s-c}n(stringToUTF16,"stringToUTF16");function AsciiToString(i){for(var s="";;){var l=HEAPU8[i++>>0];if(!l)return s;s+=String.fromCharCode(l)}}n(AsciiToString,"AsciiToString"),_exit.sig="vi",_fd_close.sig="ii",_fd_seek.sig="iijip",_fd_write.sig="iippp";var asmLibraryArg={__heap_base:___heap_base,__indirect_function_table:wasmTable,__memory_base:___memory_base,__stack_pointer:___stack_pointer,__table_base:___table_base,_emscripten_get_now_is_monotonic:__emscripten_get_now_is_monotonic,abort:_abort,emscripten_get_now:_emscripten_get_now,emscripten_memcpy_big:_emscripten_memcpy_big,emscripten_resize_heap:_emscripten_resize_heap,exit:_exit,fd_close:_fd_close,fd_seek:_fd_seek,fd_write:_fd_write,memory:wasmMemory,tree_sitter_log_callback:_tree_sitter_log_callback,tree_sitter_parse_callback:_tree_sitter_parse_callback},asm=createWasm(),___wasm_call_ctors=Module.___wasm_call_ctors=function(){return(___wasm_call_ctors=Module.___wasm_call_ctors=Module.asm.__wasm_call_ctors).apply(null,arguments)},___wasm_apply_data_relocs=Module.___wasm_apply_data_relocs=function(){return(___wasm_apply_data_relocs=Module.___wasm_apply_data_relocs=Module.asm.__wasm_apply_data_relocs).apply(null,arguments)},_malloc=Module._malloc=function(){return(_malloc=Module._malloc=Module.asm.malloc).apply(null,arguments)},_calloc=Module._calloc=function(){return(_calloc=Module._calloc=Module.asm.calloc).apply(null,arguments)},_realloc=Module._realloc=function(){return(_realloc=Module._realloc=Module.asm.realloc).apply(null,arguments)},_free=Module._free=function(){return(_free=Module._free=Module.asm.free).apply(null,arguments)},_ts_language_symbol_count=Module._ts_language_symbol_count=function(){return(_ts_language_symbol_count=Module._ts_language_symbol_count=Module.asm.ts_language_symbol_count).apply(null,arguments)},_ts_language_version=Module._ts_language_version=function(){return(_ts_language_version=Module._ts_language_version=Module.asm.ts_language_version).apply(null,arguments)},_ts_language_field_count=Module._ts_language_field_count=function(){return(_ts_language_field_count=Module._ts_language_field_count=Module.asm.ts_language_field_count).apply(null,arguments)},_ts_language_symbol_name=Module._ts_language_symbol_name=function(){return(_ts_language_symbol_name=Module._ts_language_symbol_name=Module.asm.ts_language_symbol_name).apply(null,arguments)},_ts_language_symbol_for_name=Module._ts_language_symbol_for_name=function(){return(_ts_language_symbol_for_name=Module._ts_language_symbol_for_name=Module.asm.ts_language_symbol_for_name).apply(null,arguments)},_ts_language_symbol_type=Module._ts_language_symbol_type=function(){return(_ts_language_symbol_type=Module._ts_language_symbol_type=Module.asm.ts_language_symbol_type).apply(null,arguments)},_ts_language_field_name_for_id=Module._ts_language_field_name_for_id=function(){return(_ts_language_field_name_for_id=Module._ts_language_field_name_for_id=Module.asm.ts_language_field_name_for_id).apply(null,arguments)},_memset=Module._memset=function(){return(_memset=Module._memset=Module.asm.memset).apply(null,arguments)},_memcpy=Module._memcpy=function(){return(_memcpy=Module._memcpy=Module.asm.memcpy).apply(null,arguments)},_ts_parser_delete=Module._ts_parser_delete=function(){return(_ts_parser_delete=Module._ts_parser_delete=Module.asm.ts_parser_delete).apply(null,arguments)},_ts_parser_reset=Module._ts_parser_reset=function(){return(_ts_parser_reset=Module._ts_parser_reset=Module.asm.ts_parser_reset).apply(null,arguments)},_ts_parser_set_language=Module._ts_parser_set_language=function(){return(_ts_parser_set_language=Module._ts_parser_set_language=Module.asm.ts_parser_set_language).apply(null,arguments)},_ts_parser_timeout_micros=Module._ts_parser_timeout_micros=function(){return(_ts_parser_timeout_micros=Module._ts_parser_timeout_micros=Module.asm.ts_parser_timeout_micros).apply(null,arguments)},_ts_parser_set_timeout_micros=Module._ts_parser_set_timeout_micros=function(){return(_ts_parser_set_timeout_micros=Module._ts_parser_set_timeout_micros=Module.asm.ts_parser_set_timeout_micros).apply(null,arguments)},_memmove=Module._memmove=function(){return(_memmove=Module._memmove=Module.asm.memmove).apply(null,arguments)},_memcmp=Module._memcmp=function(){return(_memcmp=Module._memcmp=Module.asm.memcmp).apply(null,arguments)},_ts_query_new=Module._ts_query_new=function(){return(_ts_query_new=Module._ts_query_new=Module.asm.ts_query_new).apply(null,arguments)},_ts_query_delete=Module._ts_query_delete=function(){return(_ts_query_delete=Module._ts_query_delete=Module.asm.ts_query_delete).apply(null,arguments)},_iswspace=Module._iswspace=function(){return(_iswspace=Module._iswspace=Module.asm.iswspace).apply(null,arguments)},_iswalnum=Module._iswalnum=function(){return(_iswalnum=Module._iswalnum=Module.asm.iswalnum).apply(null,arguments)},_ts_query_pattern_count=Module._ts_query_pattern_count=function(){return(_ts_query_pattern_count=Module._ts_query_pattern_count=Module.asm.ts_query_pattern_count).apply(null,arguments)},_ts_query_capture_count=Module._ts_query_capture_count=function(){return(_ts_query_capture_count=Module._ts_query_capture_count=Module.asm.ts_query_capture_count).apply(null,arguments)},_ts_query_string_count=Module._ts_query_string_count=function(){return(_ts_query_string_count=Module._ts_query_string_count=Module.asm.ts_query_string_count).apply(null,arguments)},_ts_query_capture_name_for_id=Module._ts_query_capture_name_for_id=function(){return(_ts_query_capture_name_for_id=Module._ts_query_capture_name_for_id=Module.asm.ts_query_capture_name_for_id).apply(null,arguments)},_ts_query_string_value_for_id=Module._ts_query_string_value_for_id=function(){return(_ts_query_string_value_for_id=Module._ts_query_string_value_for_id=Module.asm.ts_query_string_value_for_id).apply(null,arguments)},_ts_query_predicates_for_pattern=Module._ts_query_predicates_for_pattern=function(){return(_ts_query_predicates_for_pattern=Module._ts_query_predicates_for_pattern=Module.asm.ts_query_predicates_for_pattern).apply(null,arguments)},_ts_tree_copy=Module._ts_tree_copy=function(){return(_ts_tree_copy=Module._ts_tree_copy=Module.asm.ts_tree_copy).apply(null,arguments)},_ts_tree_delete=Module._ts_tree_delete=function(){return(_ts_tree_delete=Module._ts_tree_delete=Module.asm.ts_tree_delete).apply(null,arguments)},_ts_init=Module._ts_init=function(){return(_ts_init=Module._ts_init=Module.asm.ts_init).apply(null,arguments)},_ts_parser_new_wasm=Module._ts_parser_new_wasm=function(){return(_ts_parser_new_wasm=Module._ts_parser_new_wasm=Module.asm.ts_parser_new_wasm).apply(null,arguments)},_ts_parser_enable_logger_wasm=Module._ts_parser_enable_logger_wasm=function(){return(_ts_parser_enable_logger_wasm=Module._ts_parser_enable_logger_wasm=Module.asm.ts_parser_enable_logger_wasm).apply(null,arguments)},_ts_parser_parse_wasm=Module._ts_parser_parse_wasm=function(){return(_ts_parser_parse_wasm=Module._ts_parser_parse_wasm=Module.asm.ts_parser_parse_wasm).apply(null,arguments)},_ts_language_type_is_named_wasm=Module._ts_language_type_is_named_wasm=function(){return(_ts_language_type_is_named_wasm=Module._ts_language_type_is_named_wasm=Module.asm.ts_language_type_is_named_wasm).apply(null,arguments)},_ts_language_type_is_visible_wasm=Module._ts_language_type_is_visible_wasm=function(){return(_ts_language_type_is_visible_wasm=Module._ts_language_type_is_visible_wasm=Module.asm.ts_language_type_is_visible_wasm).apply(null,arguments)},_ts_tree_root_node_wasm=Module._ts_tree_root_node_wasm=function(){return(_ts_tree_root_node_wasm=Module._ts_tree_root_node_wasm=Module.asm.ts_tree_root_node_wasm).apply(null,arguments)},_ts_tree_edit_wasm=Module._ts_tree_edit_wasm=function(){return(_ts_tree_edit_wasm=Module._ts_tree_edit_wasm=Module.asm.ts_tree_edit_wasm).apply(null,arguments)},_ts_tree_get_changed_ranges_wasm=Module._ts_tree_get_changed_ranges_wasm=function(){return(_ts_tree_get_changed_ranges_wasm=Module._ts_tree_get_changed_ranges_wasm=Module.asm.ts_tree_get_changed_ranges_wasm).apply(null,arguments)},_ts_tree_cursor_new_wasm=Module._ts_tree_cursor_new_wasm=function(){return(_ts_tree_cursor_new_wasm=Module._ts_tree_cursor_new_wasm=Module.asm.ts_tree_cursor_new_wasm).apply(null,arguments)},_ts_tree_cursor_delete_wasm=Module._ts_tree_cursor_delete_wasm=function(){return(_ts_tree_cursor_delete_wasm=Module._ts_tree_cursor_delete_wasm=Module.asm.ts_tree_cursor_delete_wasm).apply(null,arguments)},_ts_tree_cursor_reset_wasm=Module._ts_tree_cursor_reset_wasm=function(){return(_ts_tree_cursor_reset_wasm=Module._ts_tree_cursor_reset_wasm=Module.asm.ts_tree_cursor_reset_wasm).apply(null,arguments)},_ts_tree_cursor_goto_first_child_wasm=Module._ts_tree_cursor_goto_first_child_wasm=function(){return(_ts_tree_cursor_goto_first_child_wasm=Module._ts_tree_cursor_goto_first_child_wasm=Module.asm.ts_tree_cursor_goto_first_child_wasm).apply(null,arguments)},_ts_tree_cursor_goto_next_sibling_wasm=Module._ts_tree_cursor_goto_next_sibling_wasm=function(){return(_ts_tree_cursor_goto_next_sibling_wasm=Module._ts_tree_cursor_goto_next_sibling_wasm=Module.asm.ts_tree_cursor_goto_next_sibling_wasm).apply(null,arguments)},_ts_tree_cursor_goto_parent_wasm=Module._ts_tree_cursor_goto_parent_wasm=function(){return(_ts_tree_cursor_goto_parent_wasm=Module._ts_tree_cursor_goto_parent_wasm=Module.asm.ts_tree_cursor_goto_parent_wasm).apply(null,arguments)},_ts_tree_cursor_current_node_type_id_wasm=Module._ts_tree_cursor_current_node_type_id_wasm=function(){return(_ts_tree_cursor_current_node_type_id_wasm=Module._ts_tree_cursor_current_node_type_id_wasm=Module.asm.ts_tree_cursor_current_node_type_id_wasm).apply(null,arguments)},_ts_tree_cursor_current_node_is_named_wasm=Module._ts_tree_cursor_current_node_is_named_wasm=function(){return(_ts_tree_cursor_current_node_is_named_wasm=Module._ts_tree_cursor_current_node_is_named_wasm=Module.asm.ts_tree_cursor_current_node_is_named_wasm).apply(null,arguments)},_ts_tree_cursor_current_node_is_missing_wasm=Module._ts_tree_cursor_current_node_is_missing_wasm=function(){return(_ts_tree_cursor_current_node_is_missing_wasm=Module._ts_tree_cursor_current_node_is_missing_wasm=Module.asm.ts_tree_cursor_current_node_is_missing_wasm).apply(null,arguments)},_ts_tree_cursor_current_node_id_wasm=Module._ts_tree_cursor_current_node_id_wasm=function(){return(_ts_tree_cursor_current_node_id_wasm=Module._ts_tree_cursor_current_node_id_wasm=Module.asm.ts_tree_cursor_current_node_id_wasm).apply(null,arguments)},_ts_tree_cursor_start_position_wasm=Module._ts_tree_cursor_start_position_wasm=function(){return(_ts_tree_cursor_start_position_wasm=Module._ts_tree_cursor_start_position_wasm=Module.asm.ts_tree_cursor_start_position_wasm).apply(null,arguments)},_ts_tree_cursor_end_position_wasm=Module._ts_tree_cursor_end_position_wasm=function(){return(_ts_tree_cursor_end_position_wasm=Module._ts_tree_cursor_end_position_wasm=Module.asm.ts_tree_cursor_end_position_wasm).apply(null,arguments)},_ts_tree_cursor_start_index_wasm=Module._ts_tree_cursor_start_index_wasm=function(){return(_ts_tree_cursor_start_index_wasm=Module._ts_tree_cursor_start_index_wasm=Module.asm.ts_tree_cursor_start_index_wasm).apply(null,arguments)},_ts_tree_cursor_end_index_wasm=Module._ts_tree_cursor_end_index_wasm=function(){return(_ts_tree_cursor_end_index_wasm=Module._ts_tree_cursor_end_index_wasm=Module.asm.ts_tree_cursor_end_index_wasm).apply(null,arguments)},_ts_tree_cursor_current_field_id_wasm=Module._ts_tree_cursor_current_field_id_wasm=function(){return(_ts_tree_cursor_current_field_id_wasm=Module._ts_tree_cursor_current_field_id_wasm=Module.asm.ts_tree_cursor_current_field_id_wasm).apply(null,arguments)},_ts_tree_cursor_current_node_wasm=Module._ts_tree_cursor_current_node_wasm=function(){return(_ts_tree_cursor_current_node_wasm=Module._ts_tree_cursor_current_node_wasm=Module.asm.ts_tree_cursor_current_node_wasm).apply(null,arguments)},_ts_node_symbol_wasm=Module._ts_node_symbol_wasm=function(){return(_ts_node_symbol_wasm=Module._ts_node_symbol_wasm=Module.asm.ts_node_symbol_wasm).apply(null,arguments)},_ts_node_child_count_wasm=Module._ts_node_child_count_wasm=function(){return(_ts_node_child_count_wasm=Module._ts_node_child_count_wasm=Module.asm.ts_node_child_count_wasm).apply(null,arguments)},_ts_node_named_child_count_wasm=Module._ts_node_named_child_count_wasm=function(){return(_ts_node_named_child_count_wasm=Module._ts_node_named_child_count_wasm=Module.asm.ts_node_named_child_count_wasm).apply(null,arguments)},_ts_node_child_wasm=Module._ts_node_child_wasm=function(){return(_ts_node_child_wasm=Module._ts_node_child_wasm=Module.asm.ts_node_child_wasm).apply(null,arguments)},_ts_node_named_child_wasm=Module._ts_node_named_child_wasm=function(){return(_ts_node_named_child_wasm=Module._ts_node_named_child_wasm=Module.asm.ts_node_named_child_wasm).apply(null,arguments)},_ts_node_child_by_field_id_wasm=Module._ts_node_child_by_field_id_wasm=function(){return(_ts_node_child_by_field_id_wasm=Module._ts_node_child_by_field_id_wasm=Module.asm.ts_node_child_by_field_id_wasm).apply(null,arguments)},_ts_node_next_sibling_wasm=Module._ts_node_next_sibling_wasm=function(){return(_ts_node_next_sibling_wasm=Module._ts_node_next_sibling_wasm=Module.asm.ts_node_next_sibling_wasm).apply(null,arguments)},_ts_node_prev_sibling_wasm=Module._ts_node_prev_sibling_wasm=function(){return(_ts_node_prev_sibling_wasm=Module._ts_node_prev_sibling_wasm=Module.asm.ts_node_prev_sibling_wasm).apply(null,arguments)},_ts_node_next_named_sibling_wasm=Module._ts_node_next_named_sibling_wasm=function(){return(_ts_node_next_named_sibling_wasm=Module._ts_node_next_named_sibling_wasm=Module.asm.ts_node_next_named_sibling_wasm).apply(null,arguments)},_ts_node_prev_named_sibling_wasm=Module._ts_node_prev_named_sibling_wasm=function(){return(_ts_node_prev_named_sibling_wasm=Module._ts_node_prev_named_sibling_wasm=Module.asm.ts_node_prev_named_sibling_wasm).apply(null,arguments)},_ts_node_parent_wasm=Module._ts_node_parent_wasm=function(){return(_ts_node_parent_wasm=Module._ts_node_parent_wasm=Module.asm.ts_node_parent_wasm).apply(null,arguments)},_ts_node_descendant_for_index_wasm=Module._ts_node_descendant_for_index_wasm=function(){return(_ts_node_descendant_for_index_wasm=Module._ts_node_descendant_for_index_wasm=Module.asm.ts_node_descendant_for_index_wasm).apply(null,arguments)},_ts_node_named_descendant_for_index_wasm=Module._ts_node_named_descendant_for_index_wasm=function(){return(_ts_node_named_descendant_for_index_wasm=Module._ts_node_named_descendant_for_index_wasm=Module.asm.ts_node_named_descendant_for_index_wasm).apply(null,arguments)},_ts_node_descendant_for_position_wasm=Module._ts_node_descendant_for_position_wasm=function(){return(_ts_node_descendant_for_position_wasm=Module._ts_node_descendant_for_position_wasm=Module.asm.ts_node_descendant_for_position_wasm).apply(null,arguments)},_ts_node_named_descendant_for_position_wasm=Module._ts_node_named_descendant_for_position_wasm=function(){return(_ts_node_named_descendant_for_position_wasm=Module._ts_node_named_descendant_for_position_wasm=Module.asm.ts_node_named_descendant_for_position_wasm).apply(null,arguments)},_ts_node_start_point_wasm=Module._ts_node_start_point_wasm=function(){return(_ts_node_start_point_wasm=Module._ts_node_start_point_wasm=Module.asm.ts_node_start_point_wasm).apply(null,arguments)},_ts_node_end_point_wasm=Module._ts_node_end_point_wasm=function(){return(_ts_node_end_point_wasm=Module._ts_node_end_point_wasm=Module.asm.ts_node_end_point_wasm).apply(null,arguments)},_ts_node_start_index_wasm=Module._ts_node_start_index_wasm=function(){return(_ts_node_start_index_wasm=Module._ts_node_start_index_wasm=Module.asm.ts_node_start_index_wasm).apply(null,arguments)},_ts_node_end_index_wasm=Module._ts_node_end_index_wasm=function(){return(_ts_node_end_index_wasm=Module._ts_node_end_index_wasm=Module.asm.ts_node_end_index_wasm).apply(null,arguments)},_ts_node_to_string_wasm=Module._ts_node_to_string_wasm=function(){return(_ts_node_to_string_wasm=Module._ts_node_to_string_wasm=Module.asm.ts_node_to_string_wasm).apply(null,arguments)},_ts_node_children_wasm=Module._ts_node_children_wasm=function(){return(_ts_node_children_wasm=Module._ts_node_children_wasm=Module.asm.ts_node_children_wasm).apply(null,arguments)},_ts_node_named_children_wasm=Module._ts_node_named_children_wasm=function(){return(_ts_node_named_children_wasm=Module._ts_node_named_children_wasm=Module.asm.ts_node_named_children_wasm).apply(null,arguments)},_ts_node_descendants_of_type_wasm=Module._ts_node_descendants_of_type_wasm=function(){return(_ts_node_descendants_of_type_wasm=Module._ts_node_descendants_of_type_wasm=Module.asm.ts_node_descendants_of_type_wasm).apply(null,arguments)},_ts_node_is_named_wasm=Module._ts_node_is_named_wasm=function(){return(_ts_node_is_named_wasm=Module._ts_node_is_named_wasm=Module.asm.ts_node_is_named_wasm).apply(null,arguments)},_ts_node_has_changes_wasm=Module._ts_node_has_changes_wasm=function(){return(_ts_node_has_changes_wasm=Module._ts_node_has_changes_wasm=Module.asm.ts_node_has_changes_wasm).apply(null,arguments)},_ts_node_has_error_wasm=Module._ts_node_has_error_wasm=function(){return(_ts_node_has_error_wasm=Module._ts_node_has_error_wasm=Module.asm.ts_node_has_error_wasm).apply(null,arguments)},_ts_node_is_missing_wasm=Module._ts_node_is_missing_wasm=function(){return(_ts_node_is_missing_wasm=Module._ts_node_is_missing_wasm=Module.asm.ts_node_is_missing_wasm).apply(null,arguments)},_ts_query_matches_wasm=Module._ts_query_matches_wasm=function(){return(_ts_query_matches_wasm=Module._ts_query_matches_wasm=Module.asm.ts_query_matches_wasm).apply(null,arguments)},_ts_query_captures_wasm=Module._ts_query_captures_wasm=function(){return(_ts_query_captures_wasm=Module._ts_query_captures_wasm=Module.asm.ts_query_captures_wasm).apply(null,arguments)},___cxa_atexit=Module.___cxa_atexit=function(){return(___cxa_atexit=Module.___cxa_atexit=Module.asm.__cxa_atexit).apply(null,arguments)},_iswdigit=Module._iswdigit=function(){return(_iswdigit=Module._iswdigit=Module.asm.iswdigit).apply(null,arguments)},_iswalpha=Module._iswalpha=function(){return(_iswalpha=Module._iswalpha=Module.asm.iswalpha).apply(null,arguments)},_iswlower=Module._iswlower=function(){return(_iswlower=Module._iswlower=Module.asm.iswlower).apply(null,arguments)},_memchr=Module._memchr=function(){return(_memchr=Module._memchr=Module.asm.memchr).apply(null,arguments)},_strlen=Module._strlen=function(){return(_strlen=Module._strlen=Module.asm.strlen).apply(null,arguments)},_towupper=Module._towupper=function(){return(_towupper=Module._towupper=Module.asm.towupper).apply(null,arguments)},_setThrew=Module._setThrew=function(){return(_setThrew=Module._setThrew=Module.asm.setThrew).apply(null,arguments)},stackSave=Module.stackSave=function(){return(stackSave=Module.stackSave=Module.asm.stackSave).apply(null,arguments)},stackRestore=Module.stackRestore=function(){return(stackRestore=Module.stackRestore=Module.asm.stackRestore).apply(null,arguments)},stackAlloc=Module.stackAlloc=function(){return(stackAlloc=Module.stackAlloc=Module.asm.stackAlloc).apply(null,arguments)},__Znwm=Module.__Znwm=function(){return(__Znwm=Module.__Znwm=Module.asm._Znwm).apply(null,arguments)},__ZdlPv=Module.__ZdlPv=function(){return(__ZdlPv=Module.__ZdlPv=Module.asm._ZdlPv).apply(null,arguments)},__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEED2Ev=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEED2Ev=function(){return(__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEED2Ev=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEED2Ev=Module.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEED2Ev).apply(null,arguments)},__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9__grow_byEmmmmmm=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9__grow_byEmmmmmm=function(){return(__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9__grow_byEmmmmmm=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9__grow_byEmmmmmm=Module.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9__grow_byEmmmmmm).apply(null,arguments)},__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE6__initEPKcm=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE6__initEPKcm=function(){return(__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE6__initEPKcm=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE6__initEPKcm=Module.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE6__initEPKcm).apply(null,arguments)},__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE7reserveEm=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE7reserveEm=function(){return(__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE7reserveEm=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE7reserveEm=Module.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE7reserveEm).apply(null,arguments)},__ZNKSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE4copyEPcmm=Module.__ZNKSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE4copyEPcmm=function(){return(__ZNKSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE4copyEPcmm=Module.__ZNKSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE4copyEPcmm=Module.asm._ZNKSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE4copyEPcmm).apply(null,arguments)},__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9push_backEc=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9push_backEc=function(){return(__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9push_backEc=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9push_backEc=Module.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9push_backEc).apply(null,arguments)},__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEED2Ev=Module.__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEED2Ev=function(){return(__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEED2Ev=Module.__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEED2Ev=Module.asm._ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEED2Ev).apply(null,arguments)},__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE9push_backEw=Module.__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE9push_backEw=function(){return(__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE9push_backEw=Module.__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE9push_backEw=Module.asm._ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE9push_backEw).apply(null,arguments)},__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE6resizeEmw=Module.__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE6resizeEmw=function(){return(__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE6resizeEmw=Module.__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE6resizeEmw=Module.asm._ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE6resizeEmw).apply(null,arguments)},dynCall_jiji=Module.dynCall_jiji=function(){return(dynCall_jiji=Module.dynCall_jiji=Module.asm.dynCall_jiji).apply(null,arguments)},_orig$ts_parser_timeout_micros=Module._orig$ts_parser_timeout_micros=function(){return(_orig$ts_parser_timeout_micros=Module._orig$ts_parser_timeout_micros=Module.asm.orig$ts_parser_timeout_micros).apply(null,arguments)},_orig$ts_parser_set_timeout_micros=Module._orig$ts_parser_set_timeout_micros=function(){return(_orig$ts_parser_set_timeout_micros=Module._orig$ts_parser_set_timeout_micros=Module.asm.orig$ts_parser_set_timeout_micros).apply(null,arguments)},calledRun;function callMain(i){var s=Module._main;if(s){(i=i||[]).unshift(thisProgram);var l=i.length,c=stackAlloc(4*(l+1)),d=c>>2;i.forEach(f=>{HEAP32[d++]=allocateUTF8OnStack(f)}),HEAP32[d]=0;try{var m=s(l,c);return exitJS(m,!0),m}catch(f){return handleException(f)}}}n(callMain,"callMain"),Module.AsciiToString=AsciiToString,Module.stringToUTF16=stringToUTF16,dependenciesFulfilled=n(function i(){calledRun||run(),calledRun||(dependenciesFulfilled=i)},"e");var dylibsLoaded=!1;function run(i){function s(){calledRun||(calledRun=!0,Module.calledRun=!0,ABORT||(initRuntime(),preMain(),Module.onRuntimeInitialized&&Module.onRuntimeInitialized(),shouldRunNow&&callMain(i),postRun()))}n(s,"t"),i=i||arguments_,runDependencies>0||!dylibsLoaded&&(preloadDylibs(),dylibsLoaded=!0,runDependencies>0)||(preRun(),runDependencies>0||(Module.setStatus?(Module.setStatus("Running..."),setTimeout(function(){setTimeout(function(){Module.setStatus("")},1),s()},1)):s()))}if(n(run,"run"),Module.preInit)for(typeof Module.preInit=="function"&&(Module.preInit=[Module.preInit]);Module.preInit.length>0;)Module.preInit.pop()();var shouldRunNow=!0;Module.noInitialRun&&(shouldRunNow=!1),run();let C=Module,INTERNAL={},SIZE_OF_INT=4,SIZE_OF_NODE=5*SIZE_OF_INT,SIZE_OF_POINT=2*SIZE_OF_INT,SIZE_OF_RANGE=2*SIZE_OF_INT+2*SIZE_OF_POINT,ZERO_POINT={row:0,column:0},QUERY_WORD_REGEX=/[\w-.]*/g,PREDICATE_STEP_TYPE_CAPTURE=1,PREDICATE_STEP_TYPE_STRING=2,LANGUAGE_FUNCTION_REGEX=/^_?tree_sitter_\w+/;var VERSION,MIN_COMPATIBLE_VERSION,TRANSFER_BUFFER,currentParseCallback,currentLogCallback;let e=class e{static init(){TRANSFER_BUFFER=C._ts_init(),VERSION=getValue(TRANSFER_BUFFER,"i32"),MIN_COMPATIBLE_VERSION=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32")}initialize(){C._ts_parser_new_wasm(),this[0]=getValue(TRANSFER_BUFFER,"i32"),this[1]=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32")}delete(){C._ts_parser_delete(this[0]),C._free(this[1]),this[0]=0,this[1]=0}setLanguage(s){let l;if(s){if(s.constructor!==Language)throw new Error("Argument must be a Language");{l=s[0];let c=C._ts_language_version(l);if(c<MIN_COMPATIBLE_VERSION||VERSION<c)throw new Error(`Incompatible language version ${c}. Compatibility range ${MIN_COMPATIBLE_VERSION} through ${VERSION}.`)}}else l=0,s=null;return this.language=s,C._ts_parser_set_language(this[0],l),this}getLanguage(){return this.language}parse(s,l,c){if(typeof s=="string")currentParseCallback=n((h,I,x)=>s.slice(h,x),"currentParseCallback");else{if(typeof s!="function")throw new Error("Argument must be a string or a function");currentParseCallback=s}this.logCallback?(currentLogCallback=this.logCallback,C._ts_parser_enable_logger_wasm(this[0],1)):(currentLogCallback=null,C._ts_parser_enable_logger_wasm(this[0],0));let d=0,m=0;if(c&&c.includedRanges){d=c.includedRanges.length,m=C._calloc(d,SIZE_OF_RANGE);let h=m;for(let I=0;I<d;I++)marshalRange(h,c.includedRanges[I]),h+=SIZE_OF_RANGE}let f=C._ts_parser_parse_wasm(this[0],this[1],l?l[0]:0,m,d);if(!f)throw currentParseCallback=null,currentLogCallback=null,new Error("Parsing failed");let g=new Tree(INTERNAL,f,this.language,currentParseCallback);return currentParseCallback=null,currentLogCallback=null,g}reset(){C._ts_parser_reset(this[0])}setTimeoutMicros(s){C._ts_parser_set_timeout_micros(this[0],s)}getTimeoutMicros(){return C._ts_parser_timeout_micros(this[0])}setLogger(s){if(s){if(typeof s!="function")throw new Error("Logger callback must be a function")}else s=null;return this.logCallback=s,this}getLogger(){return this.logCallback}};n(e,"ParserImpl");let ParserImpl=e,t=class t{constructor(s,l,c,d){assertInternal(s),this[0]=l,this.language=c,this.textCallback=d}copy(){let s=C._ts_tree_copy(this[0]);return new t(INTERNAL,s,this.language,this.textCallback)}delete(){C._ts_tree_delete(this[0]),this[0]=0}edit(s){marshalEdit(s),C._ts_tree_edit_wasm(this[0])}get rootNode(){return C._ts_tree_root_node_wasm(this[0]),unmarshalNode(this)}getLanguage(){return this.language}walk(){return this.rootNode.walk()}getChangedRanges(s){if(s.constructor!==t)throw new TypeError("Argument must be a Tree");C._ts_tree_get_changed_ranges_wasm(this[0],s[0]);let l=getValue(TRANSFER_BUFFER,"i32"),c=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32"),d=new Array(l);if(l>0){let m=c;for(let f=0;f<l;f++)d[f]=unmarshalRange(m),m+=SIZE_OF_RANGE;C._free(c)}return d}};n(t,"Tree");let Tree=t,r=class r{constructor(s,l){assertInternal(s),this.tree=l}get typeId(){return marshalNode(this),C._ts_node_symbol_wasm(this.tree[0])}get type(){return this.tree.language.types[this.typeId]||"ERROR"}get endPosition(){return marshalNode(this),C._ts_node_end_point_wasm(this.tree[0]),unmarshalPoint(TRANSFER_BUFFER)}get endIndex(){return marshalNode(this),C._ts_node_end_index_wasm(this.tree[0])}get text(){return getText(this.tree,this.startIndex,this.endIndex)}isNamed(){return marshalNode(this),C._ts_node_is_named_wasm(this.tree[0])===1}hasError(){return marshalNode(this),C._ts_node_has_error_wasm(this.tree[0])===1}hasChanges(){return marshalNode(this),C._ts_node_has_changes_wasm(this.tree[0])===1}isMissing(){return marshalNode(this),C._ts_node_is_missing_wasm(this.tree[0])===1}equals(s){return this.id===s.id}child(s){return marshalNode(this),C._ts_node_child_wasm(this.tree[0],s),unmarshalNode(this.tree)}namedChild(s){return marshalNode(this),C._ts_node_named_child_wasm(this.tree[0],s),unmarshalNode(this.tree)}childForFieldId(s){return marshalNode(this),C._ts_node_child_by_field_id_wasm(this.tree[0],s),unmarshalNode(this.tree)}childForFieldName(s){let l=this.tree.language.fields.indexOf(s);if(l!==-1)return this.childForFieldId(l)}get childCount(){return marshalNode(this),C._ts_node_child_count_wasm(this.tree[0])}get namedChildCount(){return marshalNode(this),C._ts_node_named_child_count_wasm(this.tree[0])}get firstChild(){return this.child(0)}get firstNamedChild(){return this.namedChild(0)}get lastChild(){return this.child(this.childCount-1)}get lastNamedChild(){return this.namedChild(this.namedChildCount-1)}get children(){if(!this._children){marshalNode(this),C._ts_node_children_wasm(this.tree[0]);let s=getValue(TRANSFER_BUFFER,"i32"),l=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32");if(this._children=new Array(s),s>0){let c=l;for(let d=0;d<s;d++)this._children[d]=unmarshalNode(this.tree,c),c+=SIZE_OF_NODE;C._free(l)}}return this._children}get namedChildren(){if(!this._namedChildren){marshalNode(this),C._ts_node_named_children_wasm(this.tree[0]);let s=getValue(TRANSFER_BUFFER,"i32"),l=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32");if(this._namedChildren=new Array(s),s>0){let c=l;for(let d=0;d<s;d++)this._namedChildren[d]=unmarshalNode(this.tree,c),c+=SIZE_OF_NODE;C._free(l)}}return this._namedChildren}descendantsOfType(s,l,c){Array.isArray(s)||(s=[s]),l||(l=ZERO_POINT),c||(c=ZERO_POINT);let d=[],m=this.tree.language.types;for(let x=0,w=m.length;x<w;x++)s.includes(m[x])&&d.push(x);let f=C._malloc(SIZE_OF_INT*d.length);for(let x=0,w=d.length;x<w;x++)setValue(f+x*SIZE_OF_INT,d[x],"i32");marshalNode(this),C._ts_node_descendants_of_type_wasm(this.tree[0],f,d.length,l.row,l.column,c.row,c.column);let g=getValue(TRANSFER_BUFFER,"i32"),h=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32"),I=new Array(g);if(g>0){let x=h;for(let w=0;w<g;w++)I[w]=unmarshalNode(this.tree,x),x+=SIZE_OF_NODE}return C._free(h),C._free(f),I}get nextSibling(){return marshalNode(this),C._ts_node_next_sibling_wasm(this.tree[0]),unmarshalNode(this.tree)}get previousSibling(){return marshalNode(this),C._ts_node_prev_sibling_wasm(this.tree[0]),unmarshalNode(this.tree)}get nextNamedSibling(){return marshalNode(this),C._ts_node_next_named_sibling_wasm(this.tree[0]),unmarshalNode(this.tree)}get previousNamedSibling(){return marshalNode(this),C._ts_node_prev_named_sibling_wasm(this.tree[0]),unmarshalNode(this.tree)}get parent(){return marshalNode(this),C._ts_node_parent_wasm(this.tree[0]),unmarshalNode(this.tree)}descendantForIndex(s,l=s){if(typeof s!="number"||typeof l!="number")throw new Error("Arguments must be numbers");marshalNode(this);let c=TRANSFER_BUFFER+SIZE_OF_NODE;return setValue(c,s,"i32"),setValue(c+SIZE_OF_INT,l,"i32"),C._ts_node_descendant_for_index_wasm(this.tree[0]),unmarshalNode(this.tree)}namedDescendantForIndex(s,l=s){if(typeof s!="number"||typeof l!="number")throw new Error("Arguments must be numbers");marshalNode(this);let c=TRANSFER_BUFFER+SIZE_OF_NODE;return setValue(c,s,"i32"),setValue(c+SIZE_OF_INT,l,"i32"),C._ts_node_named_descendant_for_index_wasm(this.tree[0]),unmarshalNode(this.tree)}descendantForPosition(s,l=s){if(!isPoint(s)||!isPoint(l))throw new Error("Arguments must be {row, column} objects");marshalNode(this);let c=TRANSFER_BUFFER+SIZE_OF_NODE;return marshalPoint(c,s),marshalPoint(c+SIZE_OF_POINT,l),C._ts_node_descendant_for_position_wasm(this.tree[0]),unmarshalNode(this.tree)}namedDescendantForPosition(s,l=s){if(!isPoint(s)||!isPoint(l))throw new Error("Arguments must be {row, column} objects");marshalNode(this);let c=TRANSFER_BUFFER+SIZE_OF_NODE;return marshalPoint(c,s),marshalPoint(c+SIZE_OF_POINT,l),C._ts_node_named_descendant_for_position_wasm(this.tree[0]),unmarshalNode(this.tree)}walk(){return marshalNode(this),C._ts_tree_cursor_new_wasm(this.tree[0]),new TreeCursor(INTERNAL,this.tree)}toString(){marshalNode(this);let s=C._ts_node_to_string_wasm(this.tree[0]),l=AsciiToString(s);return C._free(s),l}};n(r,"Node");let Node=r,o=class o{constructor(s,l){assertInternal(s),this.tree=l,unmarshalTreeCursor(this)}delete(){marshalTreeCursor(this),C._ts_tree_cursor_delete_wasm(this.tree[0]),this[0]=this[1]=this[2]=0}reset(s){marshalNode(s),marshalTreeCursor(this,TRANSFER_BUFFER+SIZE_OF_NODE),C._ts_tree_cursor_reset_wasm(this.tree[0]),unmarshalTreeCursor(this)}get nodeType(){return this.tree.language.types[this.nodeTypeId]||"ERROR"}get nodeTypeId(){return marshalTreeCursor(this),C._ts_tree_cursor_current_node_type_id_wasm(this.tree[0])}get nodeId(){return marshalTreeCursor(this),C._ts_tree_cursor_current_node_id_wasm(this.tree[0])}get nodeIsNamed(){return marshalTreeCursor(this),C._ts_tree_cursor_current_node_is_named_wasm(this.tree[0])===1}get nodeIsMissing(){return marshalTreeCursor(this),C._ts_tree_cursor_current_node_is_missing_wasm(this.tree[0])===1}get nodeText(){marshalTreeCursor(this);let s=C._ts_tree_cursor_start_index_wasm(this.tree[0]),l=C._ts_tree_cursor_end_index_wasm(this.tree[0]);return getText(this.tree,s,l)}get startPosition(){return marshalTreeCursor(this),C._ts_tree_cursor_start_position_wasm(this.tree[0]),unmarshalPoint(TRANSFER_BUFFER)}get endPosition(){return marshalTreeCursor(this),C._ts_tree_cursor_end_position_wasm(this.tree[0]),unmarshalPoint(TRANSFER_BUFFER)}get startIndex(){return marshalTreeCursor(this),C._ts_tree_cursor_start_index_wasm(this.tree[0])}get endIndex(){return marshalTreeCursor(this),C._ts_tree_cursor_end_index_wasm(this.tree[0])}currentNode(){return marshalTreeCursor(this),C._ts_tree_cursor_current_node_wasm(this.tree[0]),unmarshalNode(this.tree)}currentFieldId(){return marshalTreeCursor(this),C._ts_tree_cursor_current_field_id_wasm(this.tree[0])}currentFieldName(){return this.tree.language.fields[this.currentFieldId()]}gotoFirstChild(){marshalTreeCursor(this);let s=C._ts_tree_cursor_goto_first_child_wasm(this.tree[0]);return unmarshalTreeCursor(this),s===1}gotoNextSibling(){marshalTreeCursor(this);let s=C._ts_tree_cursor_goto_next_sibling_wasm(this.tree[0]);return unmarshalTreeCursor(this),s===1}gotoParent(){marshalTreeCursor(this);let s=C._ts_tree_cursor_goto_parent_wasm(this.tree[0]);return unmarshalTreeCursor(this),s===1}};n(o,"TreeCursor");let TreeCursor=o,a=class a{constructor(s,l){assertInternal(s),this[0]=l,this.types=new Array(C._ts_language_symbol_count(this[0]));for(let c=0,d=this.types.length;c<d;c++)C._ts_language_symbol_type(this[0],c)<2&&(this.types[c]=UTF8ToString(C._ts_language_symbol_name(this[0],c)));this.fields=new Array(C._ts_language_field_count(this[0])+1);for(let c=0,d=this.fields.length;c<d;c++){let m=C._ts_language_field_name_for_id(this[0],c);this.fields[c]=m!==0?UTF8ToString(m):null}}get version(){return C._ts_language_version(this[0])}get fieldCount(){return this.fields.length-1}fieldIdForName(s){let l=this.fields.indexOf(s);return l!==-1?l:null}fieldNameForId(s){return this.fields[s]||null}idForNodeType(s,l){let c=lengthBytesUTF8(s),d=C._malloc(c+1);stringToUTF8(s,d,c+1);let m=C._ts_language_symbol_for_name(this[0],d,c,l);return C._free(d),m||null}get nodeTypeCount(){return C._ts_language_symbol_count(this[0])}nodeTypeForId(s){let l=C._ts_language_symbol_name(this[0],s);return l?UTF8ToString(l):null}nodeTypeIsNamed(s){return!!C._ts_language_type_is_named_wasm(this[0],s)}nodeTypeIsVisible(s){return!!C._ts_language_type_is_visible_wasm(this[0],s)}query(s){let l=lengthBytesUTF8(s),c=C._malloc(l+1);stringToUTF8(s,c,l+1);let d=C._ts_query_new(this[0],c,l,TRANSFER_BUFFER,TRANSFER_BUFFER+SIZE_OF_INT);if(!d){let L=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32"),O=UTF8ToString(c,getValue(TRANSFER_BUFFER,"i32")).length,R=s.substr(O,100).split(`
`)[0],E,k=R.match(QUERY_WORD_REGEX)[0];switch(L){case 2:E=new RangeError(`Bad node name '${k}'`);break;case 3:E=new RangeError(`Bad field name '${k}'`);break;case 4:E=new RangeError(`Bad capture name @${k}`);break;case 5:E=new TypeError(`Bad pattern structure at offset ${O}: '${R}'...`),k="";break;default:E=new SyntaxError(`Bad syntax at offset ${O}: '${R}'...`),k=""}throw E.index=O,E.length=k.length,C._free(c),E}let m=C._ts_query_string_count(d),f=C._ts_query_capture_count(d),g=C._ts_query_pattern_count(d),h=new Array(f),I=new Array(m);for(let L=0;L<f;L++){let O=C._ts_query_capture_name_for_id(d,L,TRANSFER_BUFFER),R=getValue(TRANSFER_BUFFER,"i32");h[L]=UTF8ToString(O,R)}for(let L=0;L<m;L++){let O=C._ts_query_string_value_for_id(d,L,TRANSFER_BUFFER),R=getValue(TRANSFER_BUFFER,"i32");I[L]=UTF8ToString(O,R)}let x=new Array(g),w=new Array(g),F=new Array(g),M=new Array(g),T=new Array(g);for(let L=0;L<g;L++){let O=C._ts_query_predicates_for_pattern(d,L,TRANSFER_BUFFER),R=getValue(TRANSFER_BUFFER,"i32");M[L]=[],T[L]=[];let E=[],k=O;for(let he=0;he<R;he++){let Ir=getValue(k,"i32");k+=SIZE_OF_INT;let qt=getValue(k,"i32");if(k+=SIZE_OF_INT,Ir===PREDICATE_STEP_TYPE_CAPTURE)E.push({type:"capture",name:h[qt]});else if(Ir===PREDICATE_STEP_TYPE_STRING)E.push({type:"string",value:I[qt]});else if(E.length>0){if(E[0].type!=="string")throw new Error("Predicates must begin with a literal value");let yt=E[0].value,nt=!0;switch(yt){case"not-eq?":nt=!1;case"eq?":if(E.length!==3)throw new Error("Wrong number of arguments to `#eq?` predicate. Expected 2, got "+(E.length-1));if(E[1].type!=="capture")throw new Error(`First argument of \`#eq?\` predicate must be a capture. Got "${E[1].value}"`);if(E[2].type==="capture"){let Ot=E[1].name,Gr=E[2].name;T[L].push(function(Ls){let Vr,Ps;for(let No of Ls)No.name===Ot&&(Vr=No.node),No.name===Gr&&(Ps=No.node);return Vr===void 0||Ps===void 0||Vr.text===Ps.text===nt})}else{let Ot=E[1].name,Gr=E[2].value;T[L].push(function(Ls){for(let Vr of Ls)if(Vr.name===Ot)return Vr.node.text===Gr===nt;return!0})}break;case"not-match?":nt=!1;case"match?":if(E.length!==3)throw new Error(`Wrong number of arguments to \`#match?\` predicate. Expected 2, got ${E.length-1}.`);if(E[1].type!=="capture")throw new Error(`First argument of \`#match?\` predicate must be a capture. Got "${E[1].value}".`);if(E[2].type!=="string")throw new Error(`Second argument of \`#match?\` predicate must be a string. Got @${E[2].value}.`);let Ne=E[1].name,Zt=new RegExp(E[2].value);T[L].push(function(Ot){for(let Gr of Ot)if(Gr.name===Ne)return Zt.test(Gr.node.text)===nt;return!0});break;case"set!":if(E.length<2||E.length>3)throw new Error(`Wrong number of arguments to \`#set!\` predicate. Expected 1 or 2. Got ${E.length-1}.`);if(E.some(Ot=>Ot.type!=="string"))throw new Error('Arguments to `#set!` predicate must be a strings.".');x[L]||(x[L]={}),x[L][E[1].value]=E[2]?E[2].value:null;break;case"is?":case"is-not?":if(E.length<2||E.length>3)throw new Error(`Wrong number of arguments to \`#${yt}\` predicate. Expected 1 or 2. Got ${E.length-1}.`);if(E.some(Ot=>Ot.type!=="string"))throw new Error(`Arguments to \`#${yt}\` predicate must be a strings.".`);let Pn=yt==="is?"?w:F;Pn[L]||(Pn[L]={}),Pn[L][E[1].value]=E[2]?E[2].value:null;break;default:M[L].push({operator:yt,operands:E.slice(1)})}E.length=0}}Object.freeze(x[L]),Object.freeze(w[L]),Object.freeze(F[L])}return C._free(c),new Query(INTERNAL,d,h,T,M,Object.freeze(x),Object.freeze(w),Object.freeze(F))}static load(s){let l;if(s instanceof Uint8Array)l=Promise.resolve(s);else{let d=s;if(typeof process<"u"&&process.versions&&process.versions.node){let m=require("fs");l=Promise.resolve(m.readFileSync(d))}else l=fetch(d).then(m=>m.arrayBuffer().then(f=>{if(m.ok)return new Uint8Array(f);{let g=new TextDecoder("utf-8").decode(f);throw new Error(`Language.load failed with status ${m.status}.

${g}`)}}))}let c=typeof loadSideModule=="function"?loadSideModule:loadWebAssemblyModule;return l.then(d=>c(d,{loadAsync:!0})).then(d=>{let m=Object.keys(d),f=m.find(h=>LANGUAGE_FUNCTION_REGEX.test(h)&&!h.includes("external_scanner_"));f||console.log(`Couldn't find language function in WASM file. Symbols:
${JSON.stringify(m,null,2)}`);let g=d[f]();return new a(INTERNAL,g)})}};n(a,"Language");let Language=a,u=class u{constructor(s,l,c,d,m,f,g,h){assertInternal(s),this[0]=l,this.captureNames=c,this.textPredicates=d,this.predicates=m,this.setProperties=f,this.assertedProperties=g,this.refutedProperties=h,this.exceededMatchLimit=!1}delete(){C._ts_query_delete(this[0]),this[0]=0}matches(s,l,c,d){l||(l=ZERO_POINT),c||(c=ZERO_POINT),d||(d={});let m=d.matchLimit;if(m===void 0)m=0;else if(typeof m!="number")throw new Error("Arguments must be numbers");marshalNode(s),C._ts_query_matches_wasm(this[0],s.tree[0],l.row,l.column,c.row,c.column,m);let f=getValue(TRANSFER_BUFFER,"i32"),g=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32"),h=getValue(TRANSFER_BUFFER+2*SIZE_OF_INT,"i32"),I=new Array(f);this.exceededMatchLimit=!!h;let x=0,w=g;for(let F=0;F<f;F++){let M=getValue(w,"i32");w+=SIZE_OF_INT;let T=getValue(w,"i32");w+=SIZE_OF_INT;let L=new Array(T);if(w=unmarshalCaptures(this,s.tree,w,L),this.textPredicates[M].every(O=>O(L))){I[x++]={pattern:M,captures:L};let O=this.setProperties[M];O&&(I[F].setProperties=O);let R=this.assertedProperties[M];R&&(I[F].assertedProperties=R);let E=this.refutedProperties[M];E&&(I[F].refutedProperties=E)}}return I.length=x,C._free(g),I}captures(s,l,c,d){l||(l=ZERO_POINT),c||(c=ZERO_POINT),d||(d={});let m=d.matchLimit;if(m===void 0)m=0;else if(typeof m!="number")throw new Error("Arguments must be numbers");marshalNode(s),C._ts_query_captures_wasm(this[0],s.tree[0],l.row,l.column,c.row,c.column,m);let f=getValue(TRANSFER_BUFFER,"i32"),g=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32"),h=getValue(TRANSFER_BUFFER+2*SIZE_OF_INT,"i32"),I=[];this.exceededMatchLimit=!!h;let x=[],w=g;for(let F=0;F<f;F++){let M=getValue(w,"i32");w+=SIZE_OF_INT;let T=getValue(w,"i32");w+=SIZE_OF_INT;let L=getValue(w,"i32");if(w+=SIZE_OF_INT,x.length=T,w=unmarshalCaptures(this,s.tree,w,x),this.textPredicates[M].every(O=>O(x))){let O=x[L],R=this.setProperties[M];R&&(O.setProperties=R);let E=this.assertedProperties[M];E&&(O.assertedProperties=E);let k=this.refutedProperties[M];k&&(O.refutedProperties=k),I.push(O)}}return C._free(g),I}predicatesForPattern(s){return this.predicates[s]}didExceedMatchLimit(){return this.exceededMatchLimit}};n(u,"Query");let Query=u;function getText(i,s,l){let c=l-s,d=i.textCallback(s,null,l);for(s+=d.length;s<l;){let m=i.textCallback(s,null,l);if(!(m&&m.length>0))break;s+=m.length,d+=m}return s>l&&(d=d.slice(0,c)),d}n(getText,"getText");function unmarshalCaptures(i,s,l,c){for(let d=0,m=c.length;d<m;d++){let f=getValue(l,"i32"),g=unmarshalNode(s,l+=SIZE_OF_INT);l+=SIZE_OF_NODE,c[d]={name:i.captureNames[f],node:g}}return l}n(unmarshalCaptures,"unmarshalCaptures");function assertInternal(i){if(i!==INTERNAL)throw new Error("Illegal constructor")}n(assertInternal,"assertInternal");function isPoint(i){return i&&typeof i.row=="number"&&typeof i.column=="number"}n(isPoint,"isPoint");function marshalNode(i){let s=TRANSFER_BUFFER;setValue(s,i.id,"i32"),s+=SIZE_OF_INT,setValue(s,i.startIndex,"i32"),s+=SIZE_OF_INT,setValue(s,i.startPosition.row,"i32"),s+=SIZE_OF_INT,setValue(s,i.startPosition.column,"i32"),s+=SIZE_OF_INT,setValue(s,i[0],"i32")}n(marshalNode,"marshalNode");function unmarshalNode(i,s=TRANSFER_BUFFER){let l=getValue(s,"i32");if(l===0)return null;let c=getValue(s+=SIZE_OF_INT,"i32"),d=getValue(s+=SIZE_OF_INT,"i32"),m=getValue(s+=SIZE_OF_INT,"i32"),f=getValue(s+=SIZE_OF_INT,"i32"),g=new Node(INTERNAL,i);return g.id=l,g.startIndex=c,g.startPosition={row:d,column:m},g[0]=f,g}n(unmarshalNode,"unmarshalNode");function marshalTreeCursor(i,s=TRANSFER_BUFFER){setValue(s+0*SIZE_OF_INT,i[0],"i32"),setValue(s+1*SIZE_OF_INT,i[1],"i32"),setValue(s+2*SIZE_OF_INT,i[2],"i32")}n(marshalTreeCursor,"marshalTreeCursor");function unmarshalTreeCursor(i){i[0]=getValue(TRANSFER_BUFFER+0*SIZE_OF_INT,"i32"),i[1]=getValue(TRANSFER_BUFFER+1*SIZE_OF_INT,"i32"),i[2]=getValue(TRANSFER_BUFFER+2*SIZE_OF_INT,"i32")}n(unmarshalTreeCursor,"unmarshalTreeCursor");function marshalPoint(i,s){setValue(i,s.row,"i32"),setValue(i+SIZE_OF_INT,s.column,"i32")}n(marshalPoint,"marshalPoint");function unmarshalPoint(i){return{row:getValue(i,"i32"),column:getValue(i+SIZE_OF_INT,"i32")}}n(unmarshalPoint,"unmarshalPoint");function marshalRange(i,s){marshalPoint(i,s.startPosition),marshalPoint(i+=SIZE_OF_POINT,s.endPosition),setValue(i+=SIZE_OF_POINT,s.startIndex,"i32"),setValue(i+=SIZE_OF_INT,s.endIndex,"i32"),i+=SIZE_OF_INT}n(marshalRange,"marshalRange");function unmarshalRange(i){let s={};return s.startPosition=unmarshalPoint(i),i+=SIZE_OF_POINT,s.endPosition=unmarshalPoint(i),i+=SIZE_OF_POINT,s.startIndex=getValue(i,"i32"),i+=SIZE_OF_INT,s.endIndex=getValue(i,"i32"),s}n(unmarshalRange,"unmarshalRange");function marshalEdit(i){let s=TRANSFER_BUFFER;marshalPoint(s,i.startPosition),s+=SIZE_OF_POINT,marshalPoint(s,i.oldEndPosition),s+=SIZE_OF_POINT,marshalPoint(s,i.newEndPosition),s+=SIZE_OF_POINT,setValue(s,i.startIndex,"i32"),s+=SIZE_OF_INT,setValue(s,i.oldEndIndex,"i32"),s+=SIZE_OF_INT,setValue(s,i.newEndIndex,"i32"),s+=SIZE_OF_INT}n(marshalEdit,"marshalEdit");for(let i of Object.getOwnPropertyNames(ParserImpl.prototype))Object.defineProperty(_Parser.prototype,i,{value:ParserImpl.prototype[i],enumerable:!1,writable:!1});_Parser.Language=Language,Module.onRuntimeInitialized=()=>{ParserImpl.init(),resolveInitPromise()}}))}};n(_Parser,"Parser");let Parser=_Parser;return Parser}();typeof exports=="object"&&(module.exports=TreeSitter)});function sn(e){return e in ja&&e!=="csharp"&&e!=="java"}function Jn(e){if(!(e in ja))throw new Error(`Unrecognized language: ${e}`);return ja[e]}async function hb(e){let t,r=ai.default.resolve(ai.default.extname(__filename)!==".ts"?__dirname:ai.default.resolve(__dirname,"../../dist"),`tree-sitter-${e}.wasm`);try{t=await Hd.promises.readFile(r)}catch(o){throw o instanceof Error&&"code"in o&&typeof o.code=="string"&&o.name==="Error"?new er(`Could not load tree-sitter-${e}.wasm`,o):o}return ui.default.Language.load(t)}function Zd(e){let t=Jn(e);if(!Da.has(t)){let r=hb(t);Da.set(t,r)}return Da.get(t)}async function an(e,t){await ui.default.init();let r;try{r=new ui.default}catch(u){throw u&&typeof u=="object"&&"message"in u&&typeof u.message=="string"&&u.message.includes("table index is out of bounds")?new Ka(`Could not init Parse for language <${e}>`,u):u}let o=await Zd(e);r.setLanguage(o);let a=r.parse(t);return r.delete(),a}function bb(e){switch(Jn(e)){case"python":return null;case"javascript":case"typescript":case"tsx":case"go":case"c_sharp":case"java":return"}";case"ruby":return"end"}}function yb(e,t){let r=[];for(let o of e){if(!o[1]){let a=t.tree.getLanguage();o[1]=a.query(o[0])}r.push(...o[1].matches(t))}return r}function Ga(e){return yb([Ib],e).length==1}var Hd,ai,ui,qd,ja,Da,Va,Ka,Ib,li=p(()=>{"use strict";Go();Hd=require("fs"),ai=Fn(require("path")),ui=Fn(zd()),qd=(l=>(l.Python="python",l.JavaScript="javascript",l.TypeScript="typescript",l.TSX="tsx",l.Go="go",l.Ruby="ruby",l.CSharp="c_sharp",l.Java="java",l))(qd||{}),ja={python:"python",javascript:"javascript",javascriptreact:"javascript",jsx:"javascript",typescript:"typescript",typescriptreact:"tsx",go:"go",ruby:"ruby",csharp:"c_sharp",java:"java"};n(sn,"isSupportedLanguageId");n(Jn,"languageIdToWasmLanguage");Da=new Map;n(hb,"loadWasmLanguage");n(Zd,"getLanguage");Va=class Va extends Error{constructor(r,o){super(r);this.cause=o}};n(Va,"WrappedError");Ka=Va;n(an,"parseTreeSitter");n(bb,"getBlockCloseToken");n(yb,"innerQuery");Ib=[`[
    (class_definition (block (expression_statement (string))))
    (function_definition (block (expression_statement (string))))
]`];n(Ga,"queryPythonIsDocstring")});function xb(e,t){let r=new Set;return t.forEach(o=>{e.has(o)&&r.add(o)}),r.size}var nr,ci,Jd=p(()=>{"use strict";li();ni();oi();Ba();nr=class nr extends on{constructor(t,r){super(t),this.windowLength=r}id(){return"fixed:"+this.windowLength}getWindowsDelineations(t){return ii(this.windowLength,t)}_getCursorContextInfo(t){return vr(t,{maxLineCount:this.windowLength})}get referenceTokens(){return this.createReferenceTokensForLanguage()}async createReferenceTokensForLanguage(){return this.referenceTokensCache?this.referenceTokensCache:(this.referenceTokensCache=nr.syntaxAwareSupportsLanguage(this.referenceDoc.languageId)?await this.syntaxAwareReferenceTokens():await super.referenceTokens,this.referenceTokensCache)}async syntaxAwareReferenceTokens(){var a;let t=(a=await this.getEnclosingMemberStart(this.referenceDoc.source,this.referenceDoc.offset))==null?void 0:a.startIndex,r=this.referenceDoc.offset,o=t?this.referenceDoc.source.slice(t,r):vr(this.referenceDoc,{maxLineCount:this.windowLength}).context;return this.tokenizer.tokenize(o)}static syntaxAwareSupportsLanguage(t){switch(t){case"csharp":return!0;default:return!1}}similarityScore(t,r){return xb(t,r)}async getEnclosingMemberStart(t,r){var a;let o;try{o=await an(this.referenceDoc.languageId,t);let u=o.rootNode.namedDescendantForIndex(r);for(;u&&!(nr.isMember(u)||nr.isBlock(u));)u=(a=u.parent)!=null?a:void 0;return u}finally{o==null||o.delete()}}static isMember(t){switch(t==null?void 0:t.type){case"method_declaration":case"property_declaration":case"field_declaration":case"constructor_declaration":return!0;default:return!1}}static isBlock(t){switch(t==null?void 0:t.type){case"class_declaration":case"struct_declaration":case"record_declaration":case"enum_declaration":case"interface_declaration":return!0;default:return!1}}};n(nr,"BlockTokenSubsetMatcher"),nr.FACTORY=n(t=>({to:n(r=>new nr(r,t),"to")}),"FACTORY");ci=nr;n(xb,"computeScore")});function Lb(e,t){return(t.useSubsetMatching?ci.FACTORY(t.snippetLength):si.FACTORY(t.snippetLength)).to(e)}async function Yd(e,t,r){let o=Lb(e,r);return r.maxTopSnippets===0?[]:(await t.filter(u=>u.source.length<r.maxCharPerFile&&u.source.length>0).slice(0,r.maxNumberOfFiles).reduce(async(u,i)=>(await u).concat((await o.findMatches(i,r.maxSnippetsPerFile)).map(s=>({relativePath:i.relativePath,...s}))),Promise.resolve([]))).filter(u=>u.score&&u.snippet&&u.score>r.threshold).sort((u,i)=>u.score-i.score).slice(-r.maxTopSnippets)}var wb,Sb,Eb,Tb,vb,Mb,Xd,Wa,di=p(()=>{"use strict";$d();Jd();wb=0,Sb=60,Eb=4,Tb=1,vb=20,Mb=1e4,Xd={snippetLength:Sb,threshold:wb,maxTopSnippets:Eb,maxCharPerFile:Mb,maxNumberOfFiles:vb,maxSnippetsPerFile:Tb,useSubsetMatching:!1},Wa={snippetLength:60,threshold:0,maxTopSnippets:16,maxCharPerFile:1e5,maxNumberOfFiles:200,maxSnippetsPerFile:4};n(Lb,"getMatcher");n(Yd,"getSimilarSnippets")});function Qd(e,t,r){if(!r)throw new Error("targetTokenBudget must be specified for the truncateFirstLinesFirst summarizer");let o=t.text.split(`
`);for(let x=0;x<o.length-1;x++)o[x]+=`
`;let a=[];o.forEach((x,w)=>{x===`
`&&a.length>0&&!a[a.length-1].endsWith(`

`)?a[a.length-1]+=`
`:a.push(x)});let u=a.map(x=>e.tokenLength(x)),i=1,s=0;for(;i<=u.length;i++){let x=u.at(-i);if(x){if(x+s>r){i--;break}s+=x}}let c=a.slice(-i).join(""),d=e.tokenLength(c),f=a.slice(0,-i).join(""),g=e.tokenLength(f),h={id:t.id,kind:t.kind,text:c,tokens:d,score:t.score},I={id:t.id,kind:t.kind,text:f,tokens:g,score:t.score};return{summarizedElement:h,removedMaterial:I}}var em=p(()=>{"use strict";n(Qd,"truncateFirstLinesFirst")});var $a,mi,tm=p(()=>{"use strict";em();pi();$a=class $a{constructor(t="default"){switch(t){case"default":default:this.kindToFunctionMap=new Map([["BeforeCursor",Qd]])}}isSummarizationAvailable(t){return this.kindToFunctionMap.has(t)}summarize(t,r,o){return this.kindToFunctionMap.get(r.kind)(t,r,o)}};n($a,"SnippetTextProcessor");mi=$a});function rm(e,t){let r=`Use ${e}`;return rr(r,t)}function nm(e){let t=e.source.substring(0,e.offset);return Nb.test(t)}function om(e,t){let r=e.lastIndexOf(`
`)+1,o=e.substring(0,r),a=e.substring(r);return t.snippet=t.snippet+a,[o,t]}var Nb,za=p(()=>{"use strict";At();Nb=/(\.|->|::)\w+$/;n(rm,"announceTooltipSignatureSnippet");n(nm,"endsWithAttributesOrMethod");n(om,"transferLastLineToTooltipSignature")});var xe={};Wr(xe,{HasPropertyKey:()=>fi,IsArray:()=>se,IsAsyncIterator:()=>Ha,IsBigInt:()=>Xn,IsBoolean:()=>Bt,IsDate:()=>Mr,IsFunction:()=>qa,IsIterator:()=>Za,IsNull:()=>Ja,IsNumber:()=>je,IsObject:()=>W,IsRegExp:()=>Yn,IsString:()=>q,IsSymbol:()=>Xa,IsUint8Array:()=>Dt,IsUndefined:()=>ae});function fi(e,t){return t in e}function Ha(e){return W(e)&&!se(e)&&!Dt(e)&&Symbol.asyncIterator in e}function se(e){return Array.isArray(e)}function Xn(e){return typeof e=="bigint"}function Bt(e){return typeof e=="boolean"}function Mr(e){return e instanceof globalThis.Date}function qa(e){return typeof e=="function"}function Za(e){return W(e)&&!se(e)&&!Dt(e)&&Symbol.iterator in e}function Ja(e){return e===null}function je(e){return typeof e=="number"}function W(e){return typeof e=="object"&&e!==null}function Yn(e){return e instanceof globalThis.RegExp}function q(e){return typeof e=="string"}function Xa(e){return typeof e=="symbol"}function Dt(e){return e instanceof globalThis.Uint8Array}function ae(e){return e===void 0}var Pe=p(()=>{n(fi,"HasPropertyKey");n(Ha,"IsAsyncIterator");n(se,"IsArray");n(Xn,"IsBigInt");n(Bt,"IsBoolean");n(Mr,"IsDate");n(qa,"IsFunction");n(Za,"IsIterator");n(Ja,"IsNull");n(je,"IsNumber");n(W,"IsObject");n(Yn,"IsRegExp");n(q,"IsString");n(Xa,"IsSymbol");n(Dt,"IsUint8Array");n(ae,"IsUndefined")});function Fb(e){return e.map(t=>_i(t))}function kb(e){return new Date(e.getTime())}function Ob(e){return new Uint8Array(e)}function Rb(e){return new RegExp(e.source,e.flags)}function Ab(e){let t={};for(let r of Object.getOwnPropertyNames(e))t[r]=_i(e[r]);for(let r of Object.getOwnPropertySymbols(e))t[r]=_i(e[r]);return t}function _i(e){return se(e)?Fb(e):Mr(e)?kb(e):Dt(e)?Ob(e):Yn(e)?Rb(e):W(e)?Ab(e):e}function Y(e){return _i(e)}var Fe=p(()=>{Pe();n(Fb,"ArrayType");n(kb,"DateType");n(Ob,"Uint8ArrayType");n(Rb,"RegExpType");n(Ab,"ObjectType");n(_i,"Visit");n(Y,"Clone")});function un(e,t){return t===void 0?Y(e):Y({...t,...e})}var gi=p(()=>{Fe();n(un,"CloneType")});var Ya=p(()=>{gi();Fe()});function im(e){return e!==null&&typeof e=="object"}function sm(e){return globalThis.Array.isArray(e)&&!globalThis.ArrayBuffer.isView(e)}function am(e){return e===void 0}function um(e){return typeof e=="number"}var lm=p(()=>{n(im,"IsObject");n(sm,"IsArray");n(am,"IsUndefined");n(um,"IsNumber")});var cm=p(()=>{lm()});var hi,dm=p(()=>{cm();(function(e){e.InstanceMode="default",e.ExactOptionalPropertyTypes=!1,e.AllowArrayObject=!1,e.AllowNaN=!1,e.AllowNullVoid=!1;function t(i,s){return e.ExactOptionalPropertyTypes?s in i:i[s]!==void 0}n(t,"IsExactOptionalProperty"),e.IsExactOptionalProperty=t;function r(i){let s=im(i);return e.AllowArrayObject?s:s&&!sm(i)}n(r,"IsObjectLike"),e.IsObjectLike=r;function o(i){return r(i)&&!(i instanceof Date)&&!(i instanceof Uint8Array)}n(o,"IsRecordLike"),e.IsRecordLike=o;function a(i){return e.AllowNaN?um(i):Number.isFinite(i)}n(a,"IsNumberLike"),e.IsNumberLike=a;function u(i){let s=am(i);return e.AllowNullVoid?s||i===null:s}n(u,"IsVoidLike"),e.IsVoidLike=u})(hi||(hi={}))});function Cb(e){return globalThis.Object.freeze(e).map(t=>Qn(t))}function Ub(e){let t={};for(let r of Object.getOwnPropertyNames(e))t[r]=Qn(e[r]);for(let r of Object.getOwnPropertySymbols(e))t[r]=Qn(e[r]);return globalThis.Object.freeze(t)}function Qn(e){return se(e)?Cb(e):Mr(e)?e:Dt(e)?e:Yn(e)?e:W(e)?Ub(e):e}var mm=p(()=>{Pe();n(Cb,"ImmutableArray");n(Ub,"ImmutableObject");n(Qn,"Immutable")});function b(e,t){let r=t!==void 0?{...t,...e}:e;switch(hi.InstanceMode){case"freeze":return Qn(r);case"clone":return Y(r);default:return r}}var P=p(()=>{dm();mm();Fe();n(b,"CreateType")});var jt=p(()=>{P()});var Qa,be,pm=p(()=>{Qa=class Qa extends Error{constructor(t){super(t)}};n(Qa,"TypeBoxError");be=Qa});var Tt=p(()=>{pm()});var me,lt,we,Je,S,eo=p(()=>{me=Symbol.for("TypeBox.Transform"),lt=Symbol.for("TypeBox.Readonly"),we=Symbol.for("TypeBox.Optional"),Je=Symbol.for("TypeBox.Hint"),S=Symbol.for("TypeBox.Kind")});var N=p(()=>{eo()});function ln(e){return W(e)&&e[lt]==="Readonly"}function ke(e){return W(e)&&e[we]==="Optional"}function eu(e){return U(e,"Any")}function tu(e){return U(e,"Argument")}function ct(e){return U(e,"Array")}function Lr(e){return U(e,"AsyncIterator")}function Pr(e){return U(e,"BigInt")}function Kt(e){return U(e,"Boolean")}function dt(e){return U(e,"Computed")}function mt(e){return U(e,"Constructor")}function Bb(e){return U(e,"Date")}function pt(e){return U(e,"Function")}function ft(e){return U(e,"Integer")}function ee(e){return U(e,"Intersect")}function Nr(e){return U(e,"Iterator")}function U(e,t){return W(e)&&S in e&&e[S]===t}function bi(e){return Bt(e)||je(e)||q(e)}function Ke(e){return U(e,"Literal")}function Ge(e){return U(e,"MappedKey")}function Q(e){return U(e,"MappedResult")}function or(e){return U(e,"Never")}function Db(e){return U(e,"Not")}function to(e){return U(e,"Null")}function _t(e){return U(e,"Number")}function ue(e){return U(e,"Object")}function Fr(e){return U(e,"Promise")}function kr(e){return U(e,"Record")}function ne(e){return U(e,"Ref")}function ru(e){return U(e,"RegExp")}function Gt(e){return U(e,"String")}function ro(e){return U(e,"Symbol")}function Ve(e){return U(e,"TemplateLiteral")}function jb(e){return U(e,"This")}function ir(e){return W(e)&&me in e}function We(e){return U(e,"Tuple")}function no(e){return U(e,"Undefined")}function B(e){return U(e,"Union")}function Kb(e){return U(e,"Uint8Array")}function Gb(e){return U(e,"Unknown")}function Vb(e){return U(e,"Unsafe")}function Wb(e){return U(e,"Void")}function $b(e){return W(e)&&S in e&&q(e[S])}function $e(e){return eu(e)||tu(e)||ct(e)||Kt(e)||Pr(e)||Lr(e)||dt(e)||mt(e)||Bb(e)||pt(e)||ft(e)||ee(e)||Nr(e)||Ke(e)||Ge(e)||Q(e)||or(e)||Db(e)||to(e)||_t(e)||ue(e)||Fr(e)||kr(e)||ne(e)||ru(e)||Gt(e)||ro(e)||Ve(e)||jb(e)||We(e)||no(e)||B(e)||Kb(e)||Gb(e)||Vb(e)||Wb(e)||$b(e)}var K=p(()=>{Pe();N();n(ln,"IsReadonly");n(ke,"IsOptional");n(eu,"IsAny");n(tu,"IsArgument");n(ct,"IsArray");n(Lr,"IsAsyncIterator");n(Pr,"IsBigInt");n(Kt,"IsBoolean");n(dt,"IsComputed");n(mt,"IsConstructor");n(Bb,"IsDate");n(pt,"IsFunction");n(ft,"IsInteger");n(ee,"IsIntersect");n(Nr,"IsIterator");n(U,"IsKindOf");n(bi,"IsLiteralValue");n(Ke,"IsLiteral");n(Ge,"IsMappedKey");n(Q,"IsMappedResult");n(or,"IsNever");n(Db,"IsNot");n(to,"IsNull");n(_t,"IsNumber");n(ue,"IsObject");n(Fr,"IsPromise");n(kr,"IsRecord");n(ne,"IsRef");n(ru,"IsRegExp");n(Gt,"IsString");n(ro,"IsSymbol");n(Ve,"IsTemplateLiteral");n(jb,"IsThis");n(ir,"IsTransform");n(We,"IsTuple");n(no,"IsUndefined");n(B,"IsUnion");n(Kb,"IsUint8Array");n(Gb,"IsUnknown");n(Vb,"IsUnsafe");n(Wb,"IsVoid");n($b,"IsKind");n($e,"IsSchema")});var _={};Wr(_,{IsAny:()=>hm,IsArgument:()=>bm,IsArray:()=>ym,IsAsyncIterator:()=>Im,IsBigInt:()=>xm,IsBoolean:()=>wm,IsComputed:()=>Sm,IsConstructor:()=>Em,IsDate:()=>Tm,IsFunction:()=>vm,IsImport:()=>Xb,IsInteger:()=>Mm,IsIntersect:()=>Lm,IsIterator:()=>Pm,IsKind:()=>tp,IsKindOf:()=>A,IsLiteral:()=>io,IsLiteralBoolean:()=>Yb,IsLiteralNumber:()=>Fm,IsLiteralString:()=>Nm,IsLiteralValue:()=>km,IsMappedKey:()=>Om,IsMappedResult:()=>Rm,IsNever:()=>Am,IsNot:()=>Cm,IsNull:()=>Um,IsNumber:()=>Bm,IsObject:()=>Dm,IsOptional:()=>Jb,IsPromise:()=>jm,IsProperties:()=>yi,IsReadonly:()=>Zb,IsRecord:()=>Km,IsRecursive:()=>Qb,IsRef:()=>Gm,IsRegExp:()=>Vm,IsSchema:()=>ye,IsString:()=>Wm,IsSymbol:()=>$m,IsTemplateLiteral:()=>zm,IsThis:()=>Hm,IsTransform:()=>qm,IsTuple:()=>Zm,IsUint8Array:()=>Xm,IsUndefined:()=>Jm,IsUnion:()=>su,IsUnionLiteral:()=>ey,IsUnknown:()=>Ym,IsUnsafe:()=>Qm,IsVoid:()=>ep,TypeGuardUnknownTypeError:()=>nu});function fm(e){try{return new RegExp(e),!0}catch{return!1}}function ou(e){if(!q(e))return!1;for(let t=0;t<e.length;t++){let r=e.charCodeAt(t);if(r>=7&&r<=13||r===27||r===127)return!1}return!0}function _m(e){return iu(e)||ye(e)}function oo(e){return ae(e)||Xn(e)}function Z(e){return ae(e)||je(e)}function iu(e){return ae(e)||Bt(e)}function $(e){return ae(e)||q(e)}function Hb(e){return ae(e)||q(e)&&ou(e)&&fm(e)}function qb(e){return ae(e)||q(e)&&ou(e)}function gm(e){return ae(e)||ye(e)}function Zb(e){return W(e)&&e[lt]==="Readonly"}function Jb(e){return W(e)&&e[we]==="Optional"}function hm(e){return A(e,"Any")&&$(e.$id)}function bm(e){return A(e,"Argument")&&je(e.index)}function ym(e){return A(e,"Array")&&e.type==="array"&&$(e.$id)&&ye(e.items)&&Z(e.minItems)&&Z(e.maxItems)&&iu(e.uniqueItems)&&gm(e.contains)&&Z(e.minContains)&&Z(e.maxContains)}function Im(e){return A(e,"AsyncIterator")&&e.type==="AsyncIterator"&&$(e.$id)&&ye(e.items)}function xm(e){return A(e,"BigInt")&&e.type==="bigint"&&$(e.$id)&&oo(e.exclusiveMaximum)&&oo(e.exclusiveMinimum)&&oo(e.maximum)&&oo(e.minimum)&&oo(e.multipleOf)}function wm(e){return A(e,"Boolean")&&e.type==="boolean"&&$(e.$id)}function Sm(e){return A(e,"Computed")&&q(e.target)&&se(e.parameters)&&e.parameters.every(t=>ye(t))}function Em(e){return A(e,"Constructor")&&e.type==="Constructor"&&$(e.$id)&&se(e.parameters)&&e.parameters.every(t=>ye(t))&&ye(e.returns)}function Tm(e){return A(e,"Date")&&e.type==="Date"&&$(e.$id)&&Z(e.exclusiveMaximumTimestamp)&&Z(e.exclusiveMinimumTimestamp)&&Z(e.maximumTimestamp)&&Z(e.minimumTimestamp)&&Z(e.multipleOfTimestamp)}function vm(e){return A(e,"Function")&&e.type==="Function"&&$(e.$id)&&se(e.parameters)&&e.parameters.every(t=>ye(t))&&ye(e.returns)}function Xb(e){return A(e,"Import")&&fi(e,"$defs")&&W(e.$defs)&&yi(e.$defs)&&fi(e,"$ref")&&q(e.$ref)&&e.$ref in e.$defs}function Mm(e){return A(e,"Integer")&&e.type==="integer"&&$(e.$id)&&Z(e.exclusiveMaximum)&&Z(e.exclusiveMinimum)&&Z(e.maximum)&&Z(e.minimum)&&Z(e.multipleOf)}function yi(e){return W(e)&&Object.entries(e).every(([t,r])=>ou(t)&&ye(r))}function Lm(e){return A(e,"Intersect")&&!(q(e.type)&&e.type!=="object")&&se(e.allOf)&&e.allOf.every(t=>ye(t)&&!qm(t))&&$(e.type)&&(iu(e.unevaluatedProperties)||gm(e.unevaluatedProperties))&&$(e.$id)}function Pm(e){return A(e,"Iterator")&&e.type==="Iterator"&&$(e.$id)&&ye(e.items)}function A(e,t){return W(e)&&S in e&&e[S]===t}function Nm(e){return io(e)&&q(e.const)}function Fm(e){return io(e)&&je(e.const)}function Yb(e){return io(e)&&Bt(e.const)}function io(e){return A(e,"Literal")&&$(e.$id)&&km(e.const)}function km(e){return Bt(e)||je(e)||q(e)}function Om(e){return A(e,"MappedKey")&&se(e.keys)&&e.keys.every(t=>je(t)||q(t))}function Rm(e){return A(e,"MappedResult")&&yi(e.properties)}function Am(e){return A(e,"Never")&&W(e.not)&&Object.getOwnPropertyNames(e.not).length===0}function Cm(e){return A(e,"Not")&&ye(e.not)}function Um(e){return A(e,"Null")&&e.type==="null"&&$(e.$id)}function Bm(e){return A(e,"Number")&&e.type==="number"&&$(e.$id)&&Z(e.exclusiveMaximum)&&Z(e.exclusiveMinimum)&&Z(e.maximum)&&Z(e.minimum)&&Z(e.multipleOf)}function Dm(e){return A(e,"Object")&&e.type==="object"&&$(e.$id)&&yi(e.properties)&&_m(e.additionalProperties)&&Z(e.minProperties)&&Z(e.maxProperties)}function jm(e){return A(e,"Promise")&&e.type==="Promise"&&$(e.$id)&&ye(e.item)}function Km(e){return A(e,"Record")&&e.type==="object"&&$(e.$id)&&_m(e.additionalProperties)&&W(e.patternProperties)&&(t=>{let r=Object.getOwnPropertyNames(t.patternProperties);return r.length===1&&fm(r[0])&&W(t.patternProperties)&&ye(t.patternProperties[r[0]])})(e)}function Qb(e){return W(e)&&Je in e&&e[Je]==="Recursive"}function Gm(e){return A(e,"Ref")&&$(e.$id)&&q(e.$ref)}function Vm(e){return A(e,"RegExp")&&$(e.$id)&&q(e.source)&&q(e.flags)&&Z(e.maxLength)&&Z(e.minLength)}function Wm(e){return A(e,"String")&&e.type==="string"&&$(e.$id)&&Z(e.minLength)&&Z(e.maxLength)&&Hb(e.pattern)&&qb(e.format)}function $m(e){return A(e,"Symbol")&&e.type==="symbol"&&$(e.$id)}function zm(e){return A(e,"TemplateLiteral")&&e.type==="string"&&q(e.pattern)&&e.pattern[0]==="^"&&e.pattern[e.pattern.length-1]==="$"}function Hm(e){return A(e,"This")&&$(e.$id)&&q(e.$ref)}function qm(e){return W(e)&&me in e}function Zm(e){return A(e,"Tuple")&&e.type==="array"&&$(e.$id)&&je(e.minItems)&&je(e.maxItems)&&e.minItems===e.maxItems&&(ae(e.items)&&ae(e.additionalItems)&&e.minItems===0||se(e.items)&&e.items.every(t=>ye(t)))}function Jm(e){return A(e,"Undefined")&&e.type==="undefined"&&$(e.$id)}function ey(e){return su(e)&&e.anyOf.every(t=>Nm(t)||Fm(t))}function su(e){return A(e,"Union")&&$(e.$id)&&W(e)&&se(e.anyOf)&&e.anyOf.every(t=>ye(t))}function Xm(e){return A(e,"Uint8Array")&&e.type==="Uint8Array"&&$(e.$id)&&Z(e.minByteLength)&&Z(e.maxByteLength)}function Ym(e){return A(e,"Unknown")&&$(e.$id)}function Qm(e){return A(e,"Unsafe")}function ep(e){return A(e,"Void")&&e.type==="void"&&$(e.$id)}function tp(e){return W(e)&&S in e&&q(e[S])&&!zb.includes(e[S])}function ye(e){return W(e)&&(hm(e)||bm(e)||ym(e)||wm(e)||xm(e)||Im(e)||Sm(e)||Em(e)||Tm(e)||vm(e)||Mm(e)||Lm(e)||Pm(e)||io(e)||Om(e)||Rm(e)||Am(e)||Cm(e)||Um(e)||Bm(e)||Dm(e)||jm(e)||Km(e)||Gm(e)||Vm(e)||Wm(e)||$m(e)||zm(e)||Hm(e)||Zm(e)||Jm(e)||su(e)||Xm(e)||Ym(e)||Qm(e)||ep(e)||tp(e))}var au,nu,zb,rp=p(()=>{Pe();N();Tt();au=class au extends be{};n(au,"TypeGuardUnknownTypeError");nu=au,zb=["Argument","Any","Array","AsyncIterator","BigInt","Boolean","Computed","Constructor","Date","Enum","Function","Integer","Intersect","Iterator","Literal","MappedKey","MappedResult","Not","Null","Number","Object","Promise","Record","Ref","RegExp","String","Symbol","TemplateLiteral","This","Tuple","Undefined","Union","Uint8Array","Unknown","Void"];n(fm,"IsPattern");n(ou,"IsControlCharacterFree");n(_m,"IsAdditionalProperties");n(oo,"IsOptionalBigInt");n(Z,"IsOptionalNumber");n(iu,"IsOptionalBoolean");n($,"IsOptionalString");n(Hb,"IsOptionalPattern");n(qb,"IsOptionalFormat");n(gm,"IsOptionalSchema");n(Zb,"IsReadonly");n(Jb,"IsOptional");n(hm,"IsAny");n(bm,"IsArgument");n(ym,"IsArray");n(Im,"IsAsyncIterator");n(xm,"IsBigInt");n(wm,"IsBoolean");n(Sm,"IsComputed");n(Em,"IsConstructor");n(Tm,"IsDate");n(vm,"IsFunction");n(Xb,"IsImport");n(Mm,"IsInteger");n(yi,"IsProperties");n(Lm,"IsIntersect");n(Pm,"IsIterator");n(A,"IsKindOf");n(Nm,"IsLiteralString");n(Fm,"IsLiteralNumber");n(Yb,"IsLiteralBoolean");n(io,"IsLiteral");n(km,"IsLiteralValue");n(Om,"IsMappedKey");n(Rm,"IsMappedResult");n(Am,"IsNever");n(Cm,"IsNot");n(Um,"IsNull");n(Bm,"IsNumber");n(Dm,"IsObject");n(jm,"IsPromise");n(Km,"IsRecord");n(Qb,"IsRecursive");n(Gm,"IsRef");n(Vm,"IsRegExp");n(Wm,"IsString");n($m,"IsSymbol");n(zm,"IsTemplateLiteral");n(Hm,"IsThis");n(qm,"IsTransform");n(Zm,"IsTuple");n(Jm,"IsUndefined");n(ey,"IsUnionLiteral");n(su,"IsUnion");n(Xm,"IsUint8Array");n(Ym,"IsUnknown");n(Qm,"IsUnsafe");n(ep,"IsVoid");n(tp,"IsKind");n(ye,"IsSchema")});var uu=p(()=>{rp();Pe()});var np=p(()=>{});var op=p(()=>{np()});var lu,so,cu,ty,U0,ar,ur,ip,sp=p(()=>{lu="(true|false)",so="(0|[1-9][0-9]*)",cu="(.*)",ty="(?!.*)",U0=`^${lu}$`,ar=`^${so}$`,ur=`^${cu}$`,ip=`^${ty}$`});var ao=p(()=>{sp()});var du={};Wr(du,{Clear:()=>ny,Delete:()=>oy,Entries:()=>ry,Get:()=>ay,Has:()=>iy,Set:()=>sy});function ry(){return new Map(cn)}function ny(){return cn.clear()}function oy(e){return cn.delete(e)}function iy(e){return cn.has(e)}function sy(e,t){cn.set(e,t)}function ay(e){return cn.get(e)}var cn,ap=p(()=>{cn=new Map;n(ry,"Entries");n(ny,"Clear");n(oy,"Delete");n(iy,"Has");n(sy,"Set");n(ay,"Get")});var mu={};Wr(mu,{Clear:()=>ly,Delete:()=>cy,Entries:()=>uy,Get:()=>py,Has:()=>dy,Set:()=>my});function uy(){return new Map(dn)}function ly(){return dn.clear()}function cy(e){return dn.delete(e)}function dy(e){return dn.has(e)}function my(e,t){dn.set(e,t)}function py(e){return dn.get(e)}var dn,up=p(()=>{dn=new Map;n(uy,"Entries");n(ly,"Clear");n(cy,"Delete");n(dy,"Has");n(my,"Set");n(py,"Get")});var lp=p(()=>{ap();up()});function cp(e,t){return e.includes(t)}function dp(e){return[...new Set(e)]}function fy(e,t){return e.filter(r=>t.includes(r))}function _y(e,t){return e.reduce((r,o)=>fy(r,o),t)}function mp(e){return e.length===1?e[0]:e.length>1?_y(e.slice(1),e[0]):[]}function pp(e){let t=[];for(let r of e)t.push(...r);return t}var fp=p(()=>{n(cp,"SetIncludes");n(dp,"SetDistinct");n(fy,"SetIntersect");n(_y,"SetIntersectManyResolve");n(mp,"SetIntersectMany");n(pp,"SetUnionMany")});var uo=p(()=>{fp()});function lr(e){return b({[S]:"Any"},e)}var _p=p(()=>{jt();N();n(lr,"Any")});var lo=p(()=>{_p()});function mn(e,t){return b({[S]:"Array",type:"array",items:e},t)}var gp=p(()=>{P();N();n(mn,"Array")});var co=p(()=>{gp()});function hp(e){return b({[S]:"Argument",index:e})}var bp=p(()=>{P();N();n(hp,"Argument")});var pu=p(()=>{bp()});function pn(e,t){return b({[S]:"AsyncIterator",type:"AsyncIterator",items:e},t)}var yp=p(()=>{N();P();n(pn,"AsyncIterator")});var mo=p(()=>{yp()});function J(e,t,r){return b({[S]:"Computed",target:e,parameters:t},r)}var Ip=p(()=>{jt();eo();n(J,"Computed")});var cr=p(()=>{Ip()});function gy(e,t){let{[t]:r,...o}=e;return o}function te(e,t){return t.reduce((r,o)=>gy(r,o),e)}var Ii=p(()=>{n(gy,"DiscardKey");n(te,"Discard")});var Vt=p(()=>{Ii()});function D(e){return b({[S]:"Never",not:{}},e)}var xp=p(()=>{P();N();n(D,"Never")});var Se=p(()=>{xp()});var wp=p(()=>{});function j(e){return b({[S]:"MappedResult",properties:e})}var fu=p(()=>{P();N();n(j,"MappedResult")});function fn(e,t,r){return b({[S]:"Constructor",type:"Constructor",parameters:e,returns:t},r)}var Sp=p(()=>{P();N();n(fn,"Constructor")});var po=p(()=>{Sp()});function vt(e,t,r){return b({[S]:"Function",type:"Function",parameters:e,returns:t},r)}var Ep=p(()=>{P();N();n(vt,"Function")});var Or=p(()=>{Ep()});function fo(e,t){return b({[S]:"Union",anyOf:e},t)}var _u=p(()=>{P();N();n(fo,"UnionCreate")});function hy(e){return e.some(t=>ke(t))}function Tp(e){return e.map(t=>ke(t)?by(t):t)}function by(e){return te(e,[we])}function yy(e,t){return hy(e)?Te(fo(Tp(e),t)):fo(Tp(e),t)}function Mt(e,t){return e.length===1?b(e[0],t):e.length===0?D(t):yy(e,t)}var vp=p(()=>{P();N();Vt();Se();Wt();_u();K();n(hy,"IsUnionOptional");n(Tp,"RemoveOptionalFromRest");n(by,"RemoveOptionalFromType");n(yy,"ResolveUnion");n(Mt,"UnionEvaluated")});var Mp=p(()=>{});function V(e,t){return e.length===0?D(t):e.length===1?b(e[0],t):fo(e,t)}var Lp=p(()=>{Se();P();_u();n(V,"Union")});var pe=p(()=>{vp();Mp();Lp()});function Iy(e){return e.replace(/\\\$/g,"$").replace(/\\\*/g,"*").replace(/\\\^/g,"^").replace(/\\\|/g,"|").replace(/\\\(/g,"(").replace(/\\\)/g,")")}function gu(e,t,r){return e[t]===r&&e.charCodeAt(t-1)!==92}function $t(e,t){return gu(e,t,"(")}function _o(e,t){return gu(e,t,")")}function Pp(e,t){return gu(e,t,"|")}function xy(e){if(!($t(e,0)&&_o(e,e.length-1)))return!1;let t=0;for(let r=0;r<e.length;r++)if($t(e,r)&&(t+=1),_o(e,r)&&(t-=1),t===0&&r!==e.length-1)return!1;return!0}function wy(e){return e.slice(1,e.length-1)}function Sy(e){let t=0;for(let r=0;r<e.length;r++)if($t(e,r)&&(t+=1),_o(e,r)&&(t-=1),Pp(e,r)&&t===0)return!0;return!1}function Ey(e){for(let t=0;t<e.length;t++)if($t(e,t))return!0;return!1}function Ty(e){let[t,r]=[0,0],o=[];for(let u=0;u<e.length;u++)if($t(e,u)&&(t+=1),_o(e,u)&&(t-=1),Pp(e,u)&&t===0){let i=e.slice(r,u);i.length>0&&o.push(_n(i)),r=u+1}let a=e.slice(r);return a.length>0&&o.push(_n(a)),o.length===0?{type:"const",const:""}:o.length===1?o[0]:{type:"or",expr:o}}function vy(e){function t(a,u){if(!$t(a,u))throw new xi("TemplateLiteralParser: Index must point to open parens");let i=0;for(let s=u;s<a.length;s++)if($t(a,s)&&(i+=1),_o(a,s)&&(i-=1),i===0)return[u,s];throw new xi("TemplateLiteralParser: Unclosed group parens in expression")}n(t,"Group");function r(a,u){for(let i=u;i<a.length;i++)if($t(a,i))return[u,i];return[u,a.length]}n(r,"Range");let o=[];for(let a=0;a<e.length;a++)if($t(e,a)){let[u,i]=t(e,a),s=e.slice(u,i+1);o.push(_n(s)),a=i}else{let[u,i]=r(e,a),s=e.slice(u,i);s.length>0&&o.push(_n(s)),a=i-1}return o.length===0?{type:"const",const:""}:o.length===1?o[0]:{type:"and",expr:o}}function _n(e){return xy(e)?_n(wy(e)):Sy(e)?Ty(e):Ey(e)?vy(e):{type:"const",const:Iy(e)}}function gn(e){return _n(e.slice(1,e.length-1))}var hu,xi,wi=p(()=>{Tt();hu=class hu extends be{};n(hu,"TemplateLiteralParserError");xi=hu;n(Iy,"Unescape");n(gu,"IsNonEscaped");n($t,"IsOpenParen");n(_o,"IsCloseParen");n(Pp,"IsSeparator");n(xy,"IsGroup");n(wy,"InGroup");n(Sy,"IsPrecedenceOr");n(Ey,"IsPrecedenceAnd");n(Ty,"Or");n(vy,"And");n(_n,"TemplateLiteralParse");n(gn,"TemplateLiteralParseExact")});function My(e){return e.type==="or"&&e.expr.length===2&&e.expr[0].type==="const"&&e.expr[0].const==="0"&&e.expr[1].type==="const"&&e.expr[1].const==="[1-9][0-9]*"}function Ly(e){return e.type==="or"&&e.expr.length===2&&e.expr[0].type==="const"&&e.expr[0].const==="true"&&e.expr[1].type==="const"&&e.expr[1].const==="false"}function Py(e){return e.type==="const"&&e.const===".*"}function Rr(e){return My(e)||Py(e)?!1:Ly(e)?!0:e.type==="and"?e.expr.every(t=>Rr(t)):e.type==="or"?e.expr.every(t=>Rr(t)):e.type==="const"?!0:(()=>{throw new bu("Unknown expression type")})()}function Np(e){let t=gn(e.pattern);return Rr(t)}var yu,bu,Iu=p(()=>{wi();Tt();yu=class yu extends be{};n(yu,"TemplateLiteralFiniteError");bu=yu;n(My,"IsNumberExpression");n(Ly,"IsBooleanExpression");n(Py,"IsStringExpression");n(Rr,"IsTemplateLiteralExpressionFinite");n(Np,"IsTemplateLiteralFinite")});function*Fp(e){if(e.length===1)return yield*e[0];for(let t of e[0])for(let r of Fp(e.slice(1)))yield`${t}${r}`}function*Ny(e){return yield*Fp(e.expr.map(t=>[...go(t)]))}function*Fy(e){for(let t of e.expr)yield*go(t)}function*ky(e){return yield e.const}function*go(e){return e.type==="and"?yield*Ny(e):e.type==="or"?yield*Fy(e):e.type==="const"?yield*ky(e):(()=>{throw new xu("Unknown expression")})()}function Si(e){let t=gn(e.pattern);return Rr(t)?[...go(t)]:[]}var wu,xu,Su=p(()=>{Iu();wi();Tt();wu=class wu extends be{};n(wu,"TemplateLiteralGenerateError");xu=wu;n(Fp,"GenerateReduce");n(Ny,"GenerateAnd");n(Fy,"GenerateOr");n(ky,"GenerateConst");n(go,"TemplateLiteralExpressionGenerate");n(Si,"TemplateLiteralGenerate")});function G(e,t){return b({[S]:"Literal",const:e,type:typeof e},t)}var kp=p(()=>{P();N();n(G,"Literal")});var Oe=p(()=>{kp()});function Ei(e){return b({[S]:"Boolean",type:"boolean"},e)}var Op=p(()=>{N();jt();n(Ei,"Boolean")});var Ti=p(()=>{Op()});function hn(e){return b({[S]:"BigInt",type:"bigint"},e)}var Rp=p(()=>{N();jt();n(hn,"BigInt")});var ho=p(()=>{Rp()});function Xe(e){return b({[S]:"Number",type:"number"},e)}var Ap=p(()=>{P();N();n(Xe,"Number")});var Ar=p(()=>{Ap()});function gt(e){return b({[S]:"String",type:"string"},e)}var Cp=p(()=>{P();N();n(gt,"String")});var bn=p(()=>{Cp()});function*Oy(e){let t=e.trim().replace(/"|'/g,"");return t==="boolean"?yield Ei():t==="number"?yield Xe():t==="bigint"?yield hn():t==="string"?yield gt():yield(()=>{let r=t.split("|").map(o=>G(o.trim()));return r.length===0?D():r.length===1?r[0]:Mt(r)})()}function*Ry(e){if(e[1]!=="{"){let t=G("$"),r=Eu(e.slice(1));return yield*[t,...r]}for(let t=2;t<e.length;t++)if(e[t]==="}"){let r=Oy(e.slice(2,t)),o=Eu(e.slice(t+1));return yield*[...r,...o]}yield G(e)}function*Eu(e){for(let t=0;t<e.length;t++)if(e[t]==="$"){let r=G(e.slice(0,t)),o=Ry(e.slice(t));return yield*[r,...o]}yield G(e)}function Up(e){return[...Eu(e)]}var Tu=p(()=>{Oe();Ti();ho();Ar();bn();pe();Se();n(Oy,"FromUnion");n(Ry,"FromTerminal");n(Eu,"FromSyntax");n(Up,"TemplateLiteralSyntax")});function Ay(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function Bp(e,t){return Ve(e)?e.pattern.slice(1,e.pattern.length-1):B(e)?`(${e.anyOf.map(r=>Bp(r,t)).join("|")})`:_t(e)?`${t}${so}`:ft(e)?`${t}${so}`:Pr(e)?`${t}${so}`:Gt(e)?`${t}${cu}`:Ke(e)?`${t}${Ay(e.const.toString())}`:Kt(e)?`${t}${lu}`:(()=>{throw new vu(`Unexpected Kind '${e[S]}'`)})()}function Mu(e){return`^${e.map(t=>Bp(t,"")).join("")}$`}var Lu,vu,Pu=p(()=>{ao();N();Tt();K();Lu=class Lu extends be{};n(Lu,"TemplateLiteralPatternError");vu=Lu;n(Ay,"Escape");n(Bp,"Visit");n(Mu,"TemplateLiteralPattern")});function Cr(e){let r=Si(e).map(o=>G(o));return Mt(r)}var Dp=p(()=>{pe();Oe();Su();n(Cr,"TemplateLiteralToUnion")});function vi(e,t){let r=q(e)?Mu(Up(e)):Mu(e);return b({[S]:"TemplateLiteral",type:"string",pattern:r},t)}var jp=p(()=>{P();Tu();Pu();Pe();N();n(vi,"TemplateLiteral")});var zt=p(()=>{Iu();Su();Tu();wi();Pu();Dp();jp()});function Cy(e){return Si(e).map(r=>r.toString())}function Uy(e){let t=[];for(let r of e)t.push(...Re(r));return t}function By(e){return[e.toString()]}function Re(e){return[...new Set(Ve(e)?Cy(e):B(e)?Uy(e.anyOf):Ke(e)?By(e.const):_t(e)?["[number]"]:ft(e)?["[number]"]:[])]}var Mi=p(()=>{zt();K();n(Cy,"FromTemplateLiteral");n(Uy,"FromUnion");n(By,"FromLiteral");n(Re,"IndexPropertyKeys")});function Dy(e,t,r){let o={};for(let a of Object.getOwnPropertyNames(t))o[a]=dr(e,Re(t[a]),r);return o}function jy(e,t,r){return Dy(e,t.properties,r)}function Kp(e,t,r){let o=jy(e,t,r);return j(o)}var Nu=p(()=>{ge();Mi();Lt();n(Dy,"FromProperties");n(jy,"FromMappedResult");n(Kp,"IndexFromMappedResult")});function Vp(e,t){return e.map(r=>Wp(r,t))}function Ky(e){return e.filter(t=>!or(t))}function Gy(e,t){return Li(Ky(Vp(e,t)))}function Vy(e){return e.some(t=>or(t))?[]:e}function Wy(e,t){return Mt(Vy(Vp(e,t)))}function $y(e,t){return t in e?e[t]:t==="[number]"?Mt(e):D()}function zy(e,t){return t==="[number]"?e:D()}function Hy(e,t){return t in e?e[t]:D()}function Wp(e,t){var r;return ee(e)?Gy(e.allOf,t):B(e)?Wy(e.anyOf,t):We(e)?$y((r=e.items)!=null?r:[],t):ct(e)?zy(e.items,t):ue(e)?Hy(e.properties,t):D()}function Fu(e,t){return t.map(r=>Wp(e,r))}function Gp(e,t){return Mt(Fu(e,t))}function dr(e,t,r){if(ne(e)||ne(t)){let o="Index types using Ref parameters require both Type and Key to be of TSchema";if(!$e(e)||!$e(t))throw new be(o);return J("Index",[e,t])}return Q(t)?Kp(e,t,r):Ge(t)?$p(e,t,r):b($e(t)?Gp(e,Re(t)):Gp(e,t),r)}var ku=p(()=>{P();Tt();cr();Se();Ye();pe();Mi();Ou();Nu();K();n(Vp,"FromRest");n(Ky,"FromIntersectRest");n(Gy,"FromIntersect");n(Vy,"FromUnionRest");n(Wy,"FromUnion");n($y,"FromTuple");n(zy,"FromArray");n(Hy,"FromProperty");n(Wp,"IndexFromPropertyKey");n(Fu,"IndexFromPropertyKeys");n(Gp,"FromSchema");n(dr,"Index")});function qy(e,t,r){return{[t]:dr(e,[t],Y(r))}}function Zy(e,t,r){return t.reduce((o,a)=>({...o,...qy(e,a,r)}),{})}function Jy(e,t,r){return Zy(e,t.keys,r)}function $p(e,t,r){let o=Jy(e,t,r);return j(o)}var Ou=p(()=>{ku();ge();Fe();n(qy,"MappedIndexPropertyKey");n(Zy,"MappedIndexPropertyKeys");n(Jy,"MappedIndexProperties");n($p,"IndexFromMappedKey")});var Lt=p(()=>{Ou();Nu();Mi();ku()});function yn(e,t){return b({[S]:"Iterator",type:"Iterator",items:e},t)}var zp=p(()=>{P();N();n(yn,"Iterator")});var bo=p(()=>{zp()});function Xy(e){let t=[];for(let r in e)ke(e[r])||t.push(r);return t}function Yy(e,t){let r=Xy(e),o=r.length>0?{[S]:"Object",type:"object",properties:e,required:r}:{[S]:"Object",type:"object",properties:e};return b(o,t)}var z,Hp=p(()=>{P();N();K();n(Xy,"RequiredKeys");n(Yy,"_Object");z=Yy});var ze=p(()=>{Hp()});function Pi(e,t){return b({[S]:"Promise",type:"Promise",item:e},t)}var qp=p(()=>{P();N();n(Pi,"Promise")});var Ni=p(()=>{qp()});function Qy(e){return b(te(e,[lt]))}function eI(e){return b({...e,[lt]:"Readonly"})}function tI(e,t){return t===!1?Qy(e):eI(e)}function Ae(e,t){let r=t!=null?t:!0;return Q(e)?Zp(e,r):tI(e,r)}var Ru=p(()=>{P();N();Vt();Au();K();n(Qy,"RemoveReadonly");n(eI,"AddReadonly");n(tI,"ReadonlyWithFlag");n(Ae,"Readonly")});function rI(e,t){let r={};for(let o of globalThis.Object.getOwnPropertyNames(e))r[o]=Ae(e[o],t);return r}function nI(e,t){return rI(e.properties,t)}function Zp(e,t){let r=nI(e,t);return j(r)}var Au=p(()=>{ge();Ru();n(rI,"FromProperties");n(nI,"FromMappedResult");n(Zp,"ReadonlyFromMappedResult")});var Ur=p(()=>{Au();Ru()});function Qe(e,t){return b(e.length>0?{[S]:"Tuple",type:"array",items:e,additionalItems:!1,minItems:e.length,maxItems:e.length}:{[S]:"Tuple",type:"array",minItems:e.length,maxItems:e.length},t)}var Jp=p(()=>{P();N();n(Qe,"Tuple")});var mr=p(()=>{Jp()});function Xp(e,t){return e in t?et(e,t[e]):j(t)}function oI(e){return{[e]:G(e)}}function iI(e){let t={};for(let r of e)t[r]=G(r);return t}function sI(e,t){return cp(t,e)?oI(e):iI(t)}function aI(e,t){let r=sI(e,t);return Xp(e,r)}function yo(e,t){return t.map(r=>et(e,r))}function uI(e,t){let r={};for(let o of globalThis.Object.getOwnPropertyNames(t))r[o]=et(e,t[o]);return r}function et(e,t){var o;let r={...t};return ke(t)?Te(et(e,te(t,[we]))):ln(t)?Ae(et(e,te(t,[lt]))):Q(t)?Xp(e,t.properties):Ge(t)?aI(e,t.keys):mt(t)?fn(yo(e,t.parameters),et(e,t.returns),r):pt(t)?vt(yo(e,t.parameters),et(e,t.returns),r):Lr(t)?pn(et(e,t.items),r):Nr(t)?yn(et(e,t.items),r):ee(t)?ve(yo(e,t.allOf),r):B(t)?V(yo(e,t.anyOf),r):We(t)?Qe(yo(e,(o=t.items)!=null?o:[]),r):ue(t)?z(uI(e,t.properties),r):ct(t)?mn(et(e,t.items),r):Fr(t)?Pi(et(e,t.item),r):t}function lI(e,t){let r={};for(let o of e)r[o]=et(o,t);return r}function Yp(e,t,r){let o=$e(e)?Re(e):e,a=t({[S]:"MappedKey",keys:o}),u=lI(o,a);return z(u,r)}var Qp=p(()=>{N();Vt();co();mo();po();Or();Lt();Ye();bo();Oe();ze();Wt();Ni();Ur();mr();pe();uo();fu();K();n(Xp,"FromMappedResult");n(oI,"MappedKeyToKnownMappedResultProperties");n(iI,"MappedKeyToUnknownMappedResultProperties");n(sI,"MappedKeyToMappedResultProperties");n(aI,"FromMappedKey");n(yo,"FromRest");n(uI,"FromProperties");n(et,"FromSchemaType");n(lI,"MappedFunctionReturnType");n(Yp,"Mapped")});var ge=p(()=>{wp();fu();Qp()});function cI(e){return b(te(e,[we]))}function dI(e){return b({...e,[we]:"Optional"})}function mI(e,t){return t===!1?cI(e):dI(e)}function Te(e,t){let r=t!=null?t:!0;return Q(e)?ef(e,r):mI(e,r)}var Cu=p(()=>{P();N();Vt();Uu();K();n(cI,"RemoveOptional");n(dI,"AddOptional");n(mI,"OptionalWithFlag");n(Te,"Optional")});function pI(e,t){let r={};for(let o of globalThis.Object.getOwnPropertyNames(e))r[o]=Te(e[o],t);return r}function fI(e,t){return pI(e.properties,t)}function ef(e,t){let r=fI(e,t);return j(r)}var Uu=p(()=>{ge();Cu();n(pI,"FromProperties");n(fI,"FromMappedResult");n(ef,"OptionalFromMappedResult")});var Wt=p(()=>{Uu();Cu()});function Io(e,t={}){let r=e.every(a=>ue(a)),o=$e(t.unevaluatedProperties)?{unevaluatedProperties:t.unevaluatedProperties}:{};return b(t.unevaluatedProperties===!1||$e(t.unevaluatedProperties)||r?{...o,[S]:"Intersect",type:"object",allOf:e}:{...o,[S]:"Intersect",allOf:e},t)}var Bu=p(()=>{P();N();K();n(Io,"IntersectCreate")});function _I(e){return e.every(t=>ke(t))}function gI(e){return te(e,[we])}function tf(e){return e.map(t=>ke(t)?gI(t):t)}function hI(e,t){return _I(e)?Te(Io(tf(e),t)):Io(tf(e),t)}function Li(e,t={}){if(e.length===1)return b(e[0],t);if(e.length===0)return D(t);if(e.some(r=>ir(r)))throw new Error("Cannot intersect transform types");return hI(e,t)}var rf=p(()=>{N();P();Vt();Se();Wt();Bu();K();n(_I,"IsIntersectOptional");n(gI,"RemoveOptionalFromType");n(tf,"RemoveOptionalFromRest");n(hI,"ResolveIntersect");n(Li,"IntersectEvaluated")});var nf=p(()=>{});function ve(e,t){if(e.length===1)return b(e[0],t);if(e.length===0)return D(t);if(e.some(r=>ir(r)))throw new Error("Cannot intersect transform types");return Io(e,t)}var of=p(()=>{P();Se();Bu();K();n(ve,"Intersect")});var Ye=p(()=>{rf();nf();of()});function Pt(...e){let[t,r]=typeof e[0]=="string"?[e[0],e[1]]:[e[0].$id,e[1]];if(typeof t!="string")throw new be("Ref: $ref must be a string");return b({[S]:"Ref",$ref:t},r)}var sf=p(()=>{Tt();P();N();n(Pt,"Ref")});var Br=p(()=>{sf()});function bI(e,t){return J("Awaited",[J(e,t)])}function yI(e){return J("Awaited",[Pt(e)])}function II(e){return ve(af(e))}function xI(e){return V(af(e))}function wI(e){return In(e)}function af(e){return e.map(t=>In(t))}function In(e,t){return b(dt(e)?bI(e.target,e.parameters):ee(e)?II(e.allOf):B(e)?xI(e.anyOf):Fr(e)?wI(e.item):ne(e)?yI(e.$ref):e,t)}var uf=p(()=>{P();cr();Ye();pe();Br();K();n(bI,"FromComputed");n(yI,"FromRef");n(II,"FromIntersect");n(xI,"FromUnion");n(wI,"FromPromise");n(af,"FromRest");n(In,"Awaited")});var Fi=p(()=>{uf()});function lf(e){let t=[];for(let r of e)t.push(xo(r));return t}function SI(e){let t=lf(e);return pp(t)}function EI(e){let t=lf(e);return mp(t)}function TI(e){return e.map((t,r)=>r.toString())}function vI(e){return["[number]"]}function MI(e){return globalThis.Object.getOwnPropertyNames(e)}function LI(e){return PI?globalThis.Object.getOwnPropertyNames(e).map(r=>r[0]==="^"&&r[r.length-1]==="$"?r.slice(1,r.length-1):r):[]}function xo(e){var t;return ee(e)?SI(e.allOf):B(e)?EI(e.anyOf):We(e)?TI((t=e.items)!=null?t:[]):ct(e)?vI(e.items):ue(e)?MI(e.properties):kr(e)?LI(e.patternProperties):[]}var PI,Du=p(()=>{uo();K();n(lf,"FromRest");n(SI,"FromIntersect");n(EI,"FromUnion");n(TI,"FromTuple");n(vI,"FromArray");n(MI,"FromProperties");n(LI,"FromPatternProperties");n(xo,"KeyOfPropertyKeys");PI=!1});function NI(e,t){return J("KeyOf",[J(e,t)])}function FI(e){return J("KeyOf",[Pt(e)])}function kI(e,t){let r=xo(e),o=OI(r),a=Mt(o);return b(a,t)}function OI(e){return e.map(t=>t==="[number]"?Xe():G(t))}function xn(e,t){return dt(e)?NI(e.target,e.parameters):ne(e)?FI(e.$ref):Q(e)?cf(e,t):kI(e,t)}var ju=p(()=>{P();Oe();Ar();cr();Br();Du();pe();Ku();K();n(NI,"FromComputed");n(FI,"FromRef");n(kI,"KeyOfFromType");n(OI,"KeyOfPropertyKeysToRest");n(xn,"KeyOf")});function RI(e,t){let r={};for(let o of globalThis.Object.getOwnPropertyNames(e))r[o]=xn(e[o],Y(t));return r}function AI(e,t){return RI(e.properties,t)}function cf(e,t){let r=AI(e,t);return j(r)}var Ku=p(()=>{ge();ju();Fe();n(RI,"FromProperties");n(AI,"FromMappedResult");n(cf,"KeyOfFromMappedResult")});var df=p(()=>{});var wo=p(()=>{Ku();df();Du();ju()});function CI(e){let t=[];for(let r of e)t.push(...xo(r));return dp(t)}function UI(e){return e.filter(t=>!or(t))}function BI(e,t){let r=[];for(let o of e)r.push(...Fu(o,[t]));return UI(r)}function DI(e,t){let r={};for(let o of t)r[o]=Li(BI(e,o));return r}function mf(e,t){let r=CI(e),o=DI(e,r);return z(o,t)}var pf=p(()=>{Ye();Lt();wo();ze();uo();K();n(CI,"CompositeKeys");n(UI,"FilterNever");n(BI,"CompositeProperty");n(DI,"CompositeProperties");n(mf,"Composite")});var Gu=p(()=>{pf()});function ki(e){return b({[S]:"Date",type:"Date"},e)}var ff=p(()=>{N();P();n(ki,"Date")});var Oi=p(()=>{ff()});function Ri(e){return b({[S]:"Null",type:"null"},e)}var _f=p(()=>{P();N();n(Ri,"Null")});var Ai=p(()=>{_f()});function Ci(e){return b({[S]:"Symbol",type:"symbol"},e)}var gf=p(()=>{P();N();n(Ci,"Symbol")});var Ui=p(()=>{gf()});function Bi(e){return b({[S]:"Undefined",type:"undefined"},e)}var hf=p(()=>{P();N();n(Bi,"Undefined")});var Di=p(()=>{hf()});function ji(e){return b({[S]:"Uint8Array",type:"Uint8Array"},e)}var bf=p(()=>{P();N();n(ji,"Uint8Array")});var Ki=p(()=>{bf()});function pr(e){return b({[S]:"Unknown"},e)}var yf=p(()=>{P();N();n(pr,"Unknown")});var wn=p(()=>{yf()});function jI(e){return e.map(t=>Vu(t,!1))}function KI(e){let t={};for(let r of globalThis.Object.getOwnPropertyNames(e))t[r]=Ae(Vu(e[r],!1));return t}function Gi(e,t){return t===!0?e:Ae(e)}function Vu(e,t){return Ha(e)?Gi(lr(),t):Za(e)?Gi(lr(),t):se(e)?Ae(Qe(jI(e))):Dt(e)?ji():Mr(e)?ki():W(e)?Gi(z(KI(e)),t):qa(e)?Gi(vt([],pr()),t):ae(e)?Bi():Ja(e)?Ri():Xa(e)?Ci():Xn(e)?hn():je(e)?G(e):Bt(e)?G(e):q(e)?G(e):z({})}function If(e,t){return b(Vu(e,!0),t)}var xf=p(()=>{lo();ho();Oi();Or();Oe();Ai();ze();Ui();mr();Ur();Di();Ki();wn();jt();Pe();n(jI,"FromArray");n(KI,"FromProperties");n(Gi,"ConditionalReadonly");n(Vu,"FromValue");n(If,"Const")});var Wu=p(()=>{xf()});function wf(e,t){return mt(e)?Qe(e.parameters,t):D(t)}var Sf=p(()=>{mr();Se();K();n(wf,"ConstructorParameters")});var $u=p(()=>{Sf()});function Ef(e,t){if(ae(e))throw new Error("Enum undefined or empty");let r=globalThis.Object.getOwnPropertyNames(e).filter(u=>isNaN(u)).map(u=>e[u]),a=[...new Set(r)].map(u=>G(u));return V(a,{...t,[Je]:"Enum"})}var Tf=p(()=>{Oe();N();pe();Pe();n(Ef,"Enum")});var zu=p(()=>{Tf()});function tt(e){return e===y.False?e:y.True}function Sn(e){throw new qu(e)}function fe(e){return _.IsNever(e)||_.IsIntersect(e)||_.IsUnion(e)||_.IsUnknown(e)||_.IsAny(e)}function _e(e,t){return _.IsNever(t)?kf(e,t):_.IsIntersect(t)?Vi(e,t):_.IsUnion(t)?Yu(e,t):_.IsUnknown(t)?Cf(e,t):_.IsAny(t)?Xu(e,t):Sn("StructuralRight")}function Xu(e,t){return y.True}function GI(e,t){return _.IsIntersect(t)?Vi(e,t):_.IsUnion(t)&&t.anyOf.some(r=>_.IsAny(r)||_.IsUnknown(r))?y.True:_.IsUnion(t)?y.Union:_.IsUnknown(t)||_.IsAny(t)?y.True:y.Union}function VI(e,t){return _.IsUnknown(e)?y.False:_.IsAny(e)?y.Union:_.IsNever(e)?y.True:y.False}function WI(e,t){return _.IsObject(t)&&Wi(t)?y.True:fe(t)?_e(e,t):_.IsArray(t)?tt(H(e.items,t.items)):y.False}function $I(e,t){return fe(t)?_e(e,t):_.IsAsyncIterator(t)?tt(H(e.items,t.items)):y.False}function zI(e,t){return fe(t)?_e(e,t):_.IsObject(t)?Me(e,t):_.IsRecord(t)?rt(e,t):_.IsBigInt(t)?y.True:y.False}function Nf(e,t){return _.IsLiteralBoolean(e)||_.IsBoolean(e)?y.True:y.False}function HI(e,t){return fe(t)?_e(e,t):_.IsObject(t)?Me(e,t):_.IsRecord(t)?rt(e,t):_.IsBoolean(t)?y.True:y.False}function qI(e,t){return fe(t)?_e(e,t):_.IsObject(t)?Me(e,t):_.IsConstructor(t)?e.parameters.length>t.parameters.length?y.False:e.parameters.every((r,o)=>tt(H(t.parameters[o],r))===y.True)?tt(H(e.returns,t.returns)):y.False:y.False}function ZI(e,t){return fe(t)?_e(e,t):_.IsObject(t)?Me(e,t):_.IsRecord(t)?rt(e,t):_.IsDate(t)?y.True:y.False}function JI(e,t){return fe(t)?_e(e,t):_.IsObject(t)?Me(e,t):_.IsFunction(t)?e.parameters.length>t.parameters.length?y.False:e.parameters.every((r,o)=>tt(H(t.parameters[o],r))===y.True)?tt(H(e.returns,t.returns)):y.False:y.False}function Ff(e,t){return _.IsLiteral(e)&&xe.IsNumber(e.const)||_.IsNumber(e)||_.IsInteger(e)?y.True:y.False}function XI(e,t){return _.IsInteger(t)||_.IsNumber(t)?y.True:fe(t)?_e(e,t):_.IsObject(t)?Me(e,t):_.IsRecord(t)?rt(e,t):y.False}function Vi(e,t){return t.allOf.every(r=>H(e,r)===y.True)?y.True:y.False}function YI(e,t){return e.allOf.some(r=>H(r,t)===y.True)?y.True:y.False}function QI(e,t){return fe(t)?_e(e,t):_.IsIterator(t)?tt(H(e.items,t.items)):y.False}function ex(e,t){return _.IsLiteral(t)&&t.const===e.const?y.True:fe(t)?_e(e,t):_.IsObject(t)?Me(e,t):_.IsRecord(t)?rt(e,t):_.IsString(t)?Af(e,t):_.IsNumber(t)?Of(e,t):_.IsInteger(t)?Ff(e,t):_.IsBoolean(t)?Nf(e,t):y.False}function kf(e,t){return y.False}function tx(e,t){return y.True}function vf(e){let[t,r]=[e,0];for(;_.IsNot(t);)t=t.not,r+=1;return r%2===0?t:pr()}function rx(e,t){return _.IsNot(e)?H(vf(e),t):_.IsNot(t)?H(e,vf(t)):Sn("Invalid fallthrough for Not")}function nx(e,t){return fe(t)?_e(e,t):_.IsObject(t)?Me(e,t):_.IsRecord(t)?rt(e,t):_.IsNull(t)?y.True:y.False}function Of(e,t){return _.IsLiteralNumber(e)||_.IsNumber(e)||_.IsInteger(e)?y.True:y.False}function ox(e,t){return fe(t)?_e(e,t):_.IsObject(t)?Me(e,t):_.IsRecord(t)?rt(e,t):_.IsInteger(t)||_.IsNumber(t)?y.True:y.False}function Ce(e,t){return Object.getOwnPropertyNames(e.properties).length===t}function Mf(e){return Wi(e)}function Lf(e){return Ce(e,0)||Ce(e,1)&&"description"in e.properties&&_.IsUnion(e.properties.description)&&e.properties.description.anyOf.length===2&&(_.IsString(e.properties.description.anyOf[0])&&_.IsUndefined(e.properties.description.anyOf[1])||_.IsString(e.properties.description.anyOf[1])&&_.IsUndefined(e.properties.description.anyOf[0]))}function Hu(e){return Ce(e,0)}function Pf(e){return Ce(e,0)}function ix(e){return Ce(e,0)}function sx(e){return Ce(e,0)}function ax(e){return Wi(e)}function ux(e){let t=Xe();return Ce(e,0)||Ce(e,1)&&"length"in e.properties&&tt(H(e.properties.length,t))===y.True}function lx(e){return Ce(e,0)}function Wi(e){let t=Xe();return Ce(e,0)||Ce(e,1)&&"length"in e.properties&&tt(H(e.properties.length,t))===y.True}function cx(e){let t=vt([lr()],lr());return Ce(e,0)||Ce(e,1)&&"then"in e.properties&&tt(H(e.properties.then,t))===y.True}function Rf(e,t){return H(e,t)===y.False||_.IsOptional(e)&&!_.IsOptional(t)?y.False:y.True}function Me(e,t){return _.IsUnknown(e)?y.False:_.IsAny(e)?y.Union:_.IsNever(e)||_.IsLiteralString(e)&&Mf(t)||_.IsLiteralNumber(e)&&Hu(t)||_.IsLiteralBoolean(e)&&Pf(t)||_.IsSymbol(e)&&Lf(t)||_.IsBigInt(e)&&ix(t)||_.IsString(e)&&Mf(t)||_.IsSymbol(e)&&Lf(t)||_.IsNumber(e)&&Hu(t)||_.IsInteger(e)&&Hu(t)||_.IsBoolean(e)&&Pf(t)||_.IsUint8Array(e)&&ax(t)||_.IsDate(e)&&sx(t)||_.IsConstructor(e)&&lx(t)||_.IsFunction(e)&&ux(t)?y.True:_.IsRecord(e)&&_.IsString(Zu(e))?t[Je]==="Record"?y.True:y.False:_.IsRecord(e)&&_.IsNumber(Zu(e))?Ce(t,0)?y.True:y.False:y.False}function dx(e,t){return fe(t)?_e(e,t):_.IsRecord(t)?rt(e,t):_.IsObject(t)?(()=>{for(let r of Object.getOwnPropertyNames(t.properties)){if(!(r in e.properties)&&!_.IsOptional(t.properties[r]))return y.False;if(_.IsOptional(t.properties[r]))return y.True;if(Rf(e.properties[r],t.properties[r])===y.False)return y.False}return y.True})():y.False}function mx(e,t){return fe(t)?_e(e,t):_.IsObject(t)&&cx(t)?y.True:_.IsPromise(t)?tt(H(e.item,t.item)):y.False}function Zu(e){return ar in e.patternProperties?Xe():ur in e.patternProperties?gt():Sn("Unknown record key pattern")}function Ju(e){return ar in e.patternProperties?e.patternProperties[ar]:ur in e.patternProperties?e.patternProperties[ur]:Sn("Unable to get record value schema")}function rt(e,t){let[r,o]=[Zu(t),Ju(t)];return _.IsLiteralString(e)&&_.IsNumber(r)&&tt(H(e,o))===y.True?y.True:_.IsUint8Array(e)&&_.IsNumber(r)||_.IsString(e)&&_.IsNumber(r)||_.IsArray(e)&&_.IsNumber(r)?H(e,o):_.IsObject(e)?(()=>{for(let a of Object.getOwnPropertyNames(e.properties))if(Rf(o,e.properties[a])===y.False)return y.False;return y.True})():y.False}function px(e,t){return fe(t)?_e(e,t):_.IsObject(t)?Me(e,t):_.IsRecord(t)?H(Ju(e),Ju(t)):y.False}function fx(e,t){let r=_.IsRegExp(e)?gt():e,o=_.IsRegExp(t)?gt():t;return H(r,o)}function Af(e,t){return _.IsLiteral(e)&&xe.IsString(e.const)||_.IsString(e)?y.True:y.False}function _x(e,t){return fe(t)?_e(e,t):_.IsObject(t)?Me(e,t):_.IsRecord(t)?rt(e,t):_.IsString(t)?y.True:y.False}function gx(e,t){return fe(t)?_e(e,t):_.IsObject(t)?Me(e,t):_.IsRecord(t)?rt(e,t):_.IsSymbol(t)?y.True:y.False}function hx(e,t){return _.IsTemplateLiteral(e)?H(Cr(e),t):_.IsTemplateLiteral(t)?H(e,Cr(t)):Sn("Invalid fallthrough for TemplateLiteral")}function bx(e,t){return _.IsArray(t)&&e.items!==void 0&&e.items.every(r=>H(r,t.items)===y.True)}function yx(e,t){return _.IsNever(e)?y.True:_.IsUnknown(e)?y.False:_.IsAny(e)?y.Union:y.False}function Ix(e,t){return fe(t)?_e(e,t):_.IsObject(t)&&Wi(t)||_.IsArray(t)&&bx(e,t)?y.True:_.IsTuple(t)?xe.IsUndefined(e.items)&&!xe.IsUndefined(t.items)||!xe.IsUndefined(e.items)&&xe.IsUndefined(t.items)?y.False:xe.IsUndefined(e.items)&&!xe.IsUndefined(t.items)||e.items.every((r,o)=>H(r,t.items[o])===y.True)?y.True:y.False:y.False}function xx(e,t){return fe(t)?_e(e,t):_.IsObject(t)?Me(e,t):_.IsRecord(t)?rt(e,t):_.IsUint8Array(t)?y.True:y.False}function wx(e,t){return fe(t)?_e(e,t):_.IsObject(t)?Me(e,t):_.IsRecord(t)?rt(e,t):_.IsVoid(t)?Tx(e,t):_.IsUndefined(t)?y.True:y.False}function Yu(e,t){return t.anyOf.some(r=>H(e,r)===y.True)?y.True:y.False}function Sx(e,t){return e.anyOf.every(r=>H(r,t)===y.True)?y.True:y.False}function Cf(e,t){return y.True}function Ex(e,t){return _.IsNever(t)?kf(e,t):_.IsIntersect(t)?Vi(e,t):_.IsUnion(t)?Yu(e,t):_.IsAny(t)?Xu(e,t):_.IsString(t)?Af(e,t):_.IsNumber(t)?Of(e,t):_.IsInteger(t)?Ff(e,t):_.IsBoolean(t)?Nf(e,t):_.IsArray(t)?VI(e,t):_.IsTuple(t)?yx(e,t):_.IsObject(t)?Me(e,t):_.IsUnknown(t)?y.True:y.False}function Tx(e,t){return _.IsUndefined(e)||_.IsUndefined(e)?y.True:y.False}function vx(e,t){return _.IsIntersect(t)?Vi(e,t):_.IsUnion(t)?Yu(e,t):_.IsUnknown(t)?Cf(e,t):_.IsAny(t)?Xu(e,t):_.IsObject(t)?Me(e,t):_.IsVoid(t)?y.True:y.False}function H(e,t){return _.IsTemplateLiteral(e)||_.IsTemplateLiteral(t)?hx(e,t):_.IsRegExp(e)||_.IsRegExp(t)?fx(e,t):_.IsNot(e)||_.IsNot(t)?rx(e,t):_.IsAny(e)?GI(e,t):_.IsArray(e)?WI(e,t):_.IsBigInt(e)?zI(e,t):_.IsBoolean(e)?HI(e,t):_.IsAsyncIterator(e)?$I(e,t):_.IsConstructor(e)?qI(e,t):_.IsDate(e)?ZI(e,t):_.IsFunction(e)?JI(e,t):_.IsInteger(e)?XI(e,t):_.IsIntersect(e)?YI(e,t):_.IsIterator(e)?QI(e,t):_.IsLiteral(e)?ex(e,t):_.IsNever(e)?tx(e,t):_.IsNull(e)?nx(e,t):_.IsNumber(e)?ox(e,t):_.IsObject(e)?dx(e,t):_.IsRecord(e)?px(e,t):_.IsString(e)?_x(e,t):_.IsSymbol(e)?gx(e,t):_.IsTuple(e)?Ix(e,t):_.IsPromise(e)?mx(e,t):_.IsUint8Array(e)?xx(e,t):_.IsUndefined(e)?wx(e,t):_.IsUnion(e)?Sx(e,t):_.IsUnknown(e)?Ex(e,t):_.IsVoid(e)?vx(e,t):Sn(`Unknown left type operand '${e[S]}'`)}function fr(e,t){return H(e,t)}var Qu,qu,y,el=p(()=>{lo();Or();Ar();bn();wn();zt();ao();N();Tt();uu();Qu=class Qu extends be{};n(Qu,"ExtendsResolverError");qu=Qu;(function(e){e[e.Union=0]="Union",e[e.True=1]="True",e[e.False=2]="False"})(y||(y={}));n(tt,"IntoBooleanResult");n(Sn,"Throw");n(fe,"IsStructuralRight");n(_e,"StructuralRight");n(Xu,"FromAnyRight");n(GI,"FromAny");n(VI,"FromArrayRight");n(WI,"FromArray");n($I,"FromAsyncIterator");n(zI,"FromBigInt");n(Nf,"FromBooleanRight");n(HI,"FromBoolean");n(qI,"FromConstructor");n(ZI,"FromDate");n(JI,"FromFunction");n(Ff,"FromIntegerRight");n(XI,"FromInteger");n(Vi,"FromIntersectRight");n(YI,"FromIntersect");n(QI,"FromIterator");n(ex,"FromLiteral");n(kf,"FromNeverRight");n(tx,"FromNever");n(vf,"UnwrapTNot");n(rx,"FromNot");n(nx,"FromNull");n(Of,"FromNumberRight");n(ox,"FromNumber");n(Ce,"IsObjectPropertyCount");n(Mf,"IsObjectStringLike");n(Lf,"IsObjectSymbolLike");n(Hu,"IsObjectNumberLike");n(Pf,"IsObjectBooleanLike");n(ix,"IsObjectBigIntLike");n(sx,"IsObjectDateLike");n(ax,"IsObjectUint8ArrayLike");n(ux,"IsObjectFunctionLike");n(lx,"IsObjectConstructorLike");n(Wi,"IsObjectArrayLike");n(cx,"IsObjectPromiseLike");n(Rf,"Property");n(Me,"FromObjectRight");n(dx,"FromObject");n(mx,"FromPromise");n(Zu,"RecordKey");n(Ju,"RecordValue");n(rt,"FromRecordRight");n(px,"FromRecord");n(fx,"FromRegExp");n(Af,"FromStringRight");n(_x,"FromString");n(gx,"FromSymbol");n(hx,"FromTemplateLiteral");n(bx,"IsArrayOfTuple");n(yx,"FromTupleRight");n(Ix,"FromTuple");n(xx,"FromUint8Array");n(wx,"FromUndefined");n(Yu,"FromUnionRight");n(Sx,"FromUnion");n(Cf,"FromUnknownRight");n(Ex,"FromUnknown");n(Tx,"FromVoidRight");n(vx,"FromVoid");n(H,"Visit");n(fr,"ExtendsCheck")});function Mx(e,t,r,o,a){let u={};for(let i of globalThis.Object.getOwnPropertyNames(e))u[i]=En(e[i],t,r,o,Y(a));return u}function Lx(e,t,r,o,a){return Mx(e.properties,t,r,o,a)}function Uf(e,t,r,o,a){let u=Lx(e,t,r,o,a);return j(u)}var tl=p(()=>{ge();$i();Fe();n(Mx,"FromProperties");n(Lx,"FromMappedResult");n(Uf,"ExtendsFromMappedResult")});function Px(e,t,r,o){let a=fr(e,t);return a===y.Union?V([r,o]):a===y.True?r:o}function En(e,t,r,o,a){return Q(e)?Uf(e,t,r,o,a):Ge(e)?b(Bf(e,t,r,o,a)):b(Px(e,t,r,o),a)}var $i=p(()=>{P();pe();el();rl();tl();K();n(Px,"ExtendsResolve");n(En,"Extends")});function Nx(e,t,r,o,a){return{[e]:En(G(e),t,r,o,Y(a))}}function Fx(e,t,r,o,a){return e.reduce((u,i)=>({...u,...Nx(i,t,r,o,a)}),{})}function kx(e,t,r,o,a){return Fx(e.keys,t,r,o,a)}function Bf(e,t,r,o,a){let u=kx(e,t,r,o,a);return j(u)}var rl=p(()=>{ge();Oe();$i();Fe();n(Nx,"FromPropertyKey");n(Fx,"FromPropertyKeys");n(kx,"FromMappedKey");n(Bf,"ExtendsFromMappedKey")});var Df=p(()=>{});var So=p(()=>{el();rl();tl();Df();$i()});function jf(e,t){return Tn(Cr(e),t)}var nl=p(()=>{zi();zt();n(jf,"ExcludeFromTemplateLiteral")});function Ox(e,t){let r=e.filter(o=>fr(o,t)===y.False);return r.length===1?r[0]:V(r)}function Tn(e,t,r={}){return Ve(e)?b(jf(e,t),r):Q(e)?b(Kf(e,t),r):b(B(e)?Ox(e.anyOf,t):fr(e,t)!==y.False?D():e,r)}var zi=p(()=>{P();pe();Se();So();ol();nl();K();n(Ox,"ExcludeRest");n(Tn,"Exclude")});function Rx(e,t){let r={};for(let o of globalThis.Object.getOwnPropertyNames(e))r[o]=Tn(e[o],t);return r}function Ax(e,t){return Rx(e.properties,t)}function Kf(e,t){let r=Ax(e,t);return j(r)}var ol=p(()=>{ge();zi();n(Rx,"FromProperties");n(Ax,"FromMappedResult");n(Kf,"ExcludeFromMappedResult")});var il=p(()=>{ol();nl();zi()});function Gf(e,t){return vn(Cr(e),t)}var sl=p(()=>{Hi();zt();n(Gf,"ExtractFromTemplateLiteral")});function Cx(e,t){let r=e.filter(o=>fr(o,t)!==y.False);return r.length===1?r[0]:V(r)}function vn(e,t,r){return Ve(e)?b(Gf(e,t),r):Q(e)?b(Vf(e,t),r):b(B(e)?Cx(e.anyOf,t):fr(e,t)!==y.False?e:D(),r)}var Hi=p(()=>{P();pe();Se();So();al();sl();K();n(Cx,"ExtractRest");n(vn,"Extract")});function Ux(e,t){let r={};for(let o of globalThis.Object.getOwnPropertyNames(e))r[o]=vn(e[o],t);return r}function Bx(e,t){return Ux(e.properties,t)}function Vf(e,t){let r=Bx(e,t);return j(r)}var al=p(()=>{ge();Hi();n(Ux,"FromProperties");n(Bx,"FromMappedResult");n(Vf,"ExtractFromMappedResult")});var ul=p(()=>{al();sl();Hi()});function Wf(e,t){return mt(e)?b(e.returns,t):D(t)}var $f=p(()=>{P();Se();K();n(Wf,"InstanceType")});var ll=p(()=>{$f()});function qi(e){return Ae(Te(e))}var zf=p(()=>{Ur();Wt();n(qi,"ReadonlyOptional")});var Zi=p(()=>{zf()});function Dr(e,t,r){return b({[S]:"Record",type:"object",patternProperties:{[e]:t}},r)}function cl(e,t,r){let o={};for(let a of e)o[a]=t;return z(o,{...r,[Je]:"Record"})}function Dx(e,t,r){return Np(e)?cl(Re(e),t,r):Dr(e.pattern,t,r)}function jx(e,t,r){return cl(Re(V(e)),t,r)}function Kx(e,t,r){return cl([e.toString()],t,r)}function Gx(e,t,r){return Dr(e.source,t,r)}function Vx(e,t,r){let o=ae(e.pattern)?ur:e.pattern;return Dr(o,t,r)}function Wx(e,t,r){return Dr(ur,t,r)}function $x(e,t,r){return Dr(ip,t,r)}function zx(e,t,r){return z({true:t,false:t},r)}function Hx(e,t,r){return Dr(ar,t,r)}function qx(e,t,r){return Dr(ar,t,r)}function Ji(e,t,r={}){return B(e)?jx(e.anyOf,t,r):Ve(e)?Dx(e,t,r):Ke(e)?Kx(e.const,t,r):Kt(e)?zx(e,t,r):ft(e)?Hx(e,t,r):_t(e)?qx(e,t,r):ru(e)?Gx(e,t,r):Gt(e)?Vx(e,t,r):eu(e)?Wx(e,t,r):or(e)?$x(e,t,r):D(r)}function Xi(e){return globalThis.Object.getOwnPropertyNames(e.patternProperties)[0]}function Hf(e){let t=Xi(e);return t===ur?gt():t===ar?Xe():gt({pattern:t})}function Yi(e){return e.patternProperties[Xi(e)]}var qf=p(()=>{P();N();Se();Ar();ze();bn();pe();zt();ao();Lt();Pe();K();n(Dr,"RecordCreateFromPattern");n(cl,"RecordCreateFromKeys");n(Dx,"FromTemplateLiteralKey");n(jx,"FromUnionKey");n(Kx,"FromLiteralKey");n(Gx,"FromRegExpKey");n(Vx,"FromStringKey");n(Wx,"FromAnyKey");n($x,"FromNeverKey");n(zx,"FromBooleanKey");n(Hx,"FromIntegerKey");n(qx,"FromNumberKey");n(Ji,"Record");n(Xi,"RecordPattern");n(Hf,"RecordKey");n(Yi,"RecordValue")});var Eo=p(()=>{qf()});function Zx(e,t){return t.parameters=To(e,t.parameters),t.returns=ht(e,t.returns),t}function Jx(e,t){return t.parameters=To(e,t.parameters),t.returns=ht(e,t.returns),t}function Xx(e,t){return t.allOf=To(e,t.allOf),t}function Yx(e,t){return t.anyOf=To(e,t.anyOf),t}function Qx(e,t){return ae(t.items)||(t.items=To(e,t.items)),t}function ew(e,t){return t.items=ht(e,t.items),t}function tw(e,t){return t.items=ht(e,t.items),t}function rw(e,t){return t.items=ht(e,t.items),t}function nw(e,t){return t.item=ht(e,t.item),t}function ow(e,t){let r=uw(e,t.properties);return{...t,...z(r)}}function iw(e,t){let r=ht(e,Hf(t)),o=ht(e,Yi(t)),a=Ji(r,o);return{...t,...a}}function sw(e,t){return t.index in e?e[t.index]:pr()}function aw(e,t){let r=ln(t),o=ke(t),a=ht(e,t);return r&&o?qi(a):r&&!o?Ae(a):!r&&o?Te(a):a}function uw(e,t){return globalThis.Object.getOwnPropertyNames(t).reduce((r,o)=>({...r,[o]:aw(e,t[o])}),{})}function To(e,t){return t.map(r=>ht(e,r))}function ht(e,t){return mt(t)?Zx(e,t):pt(t)?Jx(e,t):ee(t)?Xx(e,t):B(t)?Yx(e,t):We(t)?Qx(e,t):ct(t)?ew(e,t):Lr(t)?tw(e,t):Nr(t)?rw(e,t):Fr(t)?nw(e,t):ue(t)?ow(e,t):kr(t)?iw(e,t):tu(t)?sw(e,t):t}function Zf(e,t){return ht(t,un(e))}var Jf=p(()=>{gi();wn();Zi();Ur();Wt();ze();Eo();Pe();K();n(Zx,"FromConstructor");n(Jx,"FromFunction");n(Xx,"FromIntersect");n(Yx,"FromUnion");n(Qx,"FromTuple");n(ew,"FromArray");n(tw,"FromAsyncIterator");n(rw,"FromIterator");n(nw,"FromPromise");n(ow,"FromObject");n(iw,"FromRecord");n(sw,"FromArgument");n(aw,"FromProperty");n(uw,"FromProperties");n(To,"FromTypes");n(ht,"FromType");n(Zf,"Instantiate")});var dl=p(()=>{Jf()});function Xf(e){return b({[S]:"Integer",type:"integer"},e)}var Yf=p(()=>{P();N();n(Xf,"Integer")});var ml=p(()=>{Yf()});function lw(e,t,r){return{[e]:bt(G(e),t,Y(r))}}function cw(e,t,r){return e.reduce((a,u)=>({...a,...lw(u,t,r)}),{})}function dw(e,t,r){return cw(e.keys,t,r)}function Qf(e,t,r){let o=dw(e,t,r);return j(o)}var pl=p(()=>{ge();jr();Oe();Fe();n(lw,"MappedIntrinsicPropertyKey");n(cw,"MappedIntrinsicPropertyKeys");n(dw,"MappedIntrinsicProperties");n(Qf,"IntrinsicFromMappedKey")});function mw(e){let[t,r]=[e.slice(0,1),e.slice(1)];return[t.toLowerCase(),r].join("")}function pw(e){let[t,r]=[e.slice(0,1),e.slice(1)];return[t.toUpperCase(),r].join("")}function fw(e){return e.toUpperCase()}function _w(e){return e.toLowerCase()}function gw(e,t,r){let o=gn(e.pattern);if(!Rr(o))return{...e,pattern:e_(e.pattern,t)};let i=[...go(o)].map(c=>G(c)),s=t_(i,t),l=V(s);return vi([l],r)}function e_(e,t){return typeof e=="string"?t==="Uncapitalize"?mw(e):t==="Capitalize"?pw(e):t==="Uppercase"?fw(e):t==="Lowercase"?_w(e):e:e.toString()}function t_(e,t){return e.map(r=>bt(r,t))}function bt(e,t,r={}){return Ge(e)?Qf(e,t,r):Ve(e)?gw(e,t,r):B(e)?V(t_(e.anyOf,t),r):Ke(e)?G(e_(e.const,t),r):b(e,r)}var jr=p(()=>{P();zt();pl();Oe();pe();K();n(mw,"ApplyUncapitalize");n(pw,"ApplyCapitalize");n(fw,"ApplyUppercase");n(_w,"ApplyLowercase");n(gw,"FromTemplateLiteral");n(e_,"FromLiteralValue");n(t_,"FromRest");n(bt,"Intrinsic")});function r_(e,t={}){return bt(e,"Capitalize",t)}var n_=p(()=>{jr();n(r_,"Capitalize")});function o_(e,t={}){return bt(e,"Lowercase",t)}var i_=p(()=>{jr();n(o_,"Lowercase")});function s_(e,t={}){return bt(e,"Uncapitalize",t)}var a_=p(()=>{jr();n(s_,"Uncapitalize")});function u_(e,t={}){return bt(e,"Uppercase",t)}var l_=p(()=>{jr();n(u_,"Uppercase")});var fl=p(()=>{n_();pl();jr();i_();a_();l_()});function hw(e,t,r){let o={};for(let a of globalThis.Object.getOwnPropertyNames(e))o[a]=_r(e[a],t,Y(r));return o}function bw(e,t,r){return hw(e.properties,t,r)}function c_(e,t,r){let o=bw(e,t,r);return j(o)}var _l=p(()=>{ge();Qi();Fe();n(hw,"FromProperties");n(bw,"FromMappedResult");n(c_,"OmitFromMappedResult")});function yw(e,t){return e.map(r=>gl(r,t))}function Iw(e,t){return e.map(r=>gl(r,t))}function xw(e,t){let{[t]:r,...o}=e;return o}function ww(e,t){return t.reduce((r,o)=>xw(r,o),e)}function Sw(e,t){let r=te(e,[me,"$id","required","properties"]),o=ww(e.properties,t);return z(o,r)}function Ew(e){let t=e.reduce((r,o)=>bi(o)?[...r,G(o)]:r,[]);return V(t)}function gl(e,t){return ee(e)?ve(yw(e.allOf,t)):B(e)?V(Iw(e.anyOf,t)):ue(e)?Sw(e,t):z({})}function _r(e,t,r){let o=se(t)?Ew(t):t,a=$e(t)?Re(t):t,u=ne(e),i=ne(t);return Q(e)?c_(e,a,r):Ge(t)?d_(e,t,r):u&&i?J("Omit",[e,o],r):!u&&i?J("Omit",[e,o],r):u&&!i?J("Omit",[e,o],r):b({...gl(e,a),...r})}var Qi=p(()=>{P();Ii();eo();cr();Oe();Lt();Ye();pe();ze();hl();_l();K();Pe();n(yw,"FromIntersect");n(Iw,"FromUnion");n(xw,"FromProperty");n(ww,"FromProperties");n(Sw,"FromObject");n(Ew,"UnionFromPropertyKeys");n(gl,"OmitResolve");n(_r,"Omit")});function Tw(e,t,r){return{[t]:_r(e,[t],Y(r))}}function vw(e,t,r){return t.reduce((o,a)=>({...o,...Tw(e,a,r)}),{})}function Mw(e,t,r){return vw(e,t.keys,r)}function d_(e,t,r){let o=Mw(e,t,r);return j(o)}var hl=p(()=>{ge();Qi();Fe();n(Tw,"FromPropertyKey");n(vw,"FromPropertyKeys");n(Mw,"FromMappedKey");n(d_,"OmitFromMappedKey")});var es=p(()=>{hl();_l();Qi()});function Lw(e,t,r){let o={};for(let a of globalThis.Object.getOwnPropertyNames(e))o[a]=gr(e[a],t,Y(r));return o}function Pw(e,t,r){return Lw(e.properties,t,r)}function m_(e,t,r){let o=Pw(e,t,r);return j(o)}var bl=p(()=>{ge();ts();Fe();n(Lw,"FromProperties");n(Pw,"FromMappedResult");n(m_,"PickFromMappedResult")});function Nw(e,t){return e.map(r=>yl(r,t))}function Fw(e,t){return e.map(r=>yl(r,t))}function kw(e,t){let r={};for(let o of t)o in e&&(r[o]=e[o]);return r}function Ow(e,t){let r=te(e,[me,"$id","required","properties"]),o=kw(e.properties,t);return z(o,r)}function Rw(e){let t=e.reduce((r,o)=>bi(o)?[...r,G(o)]:r,[]);return V(t)}function yl(e,t){return ee(e)?ve(Nw(e.allOf,t)):B(e)?V(Fw(e.anyOf,t)):ue(e)?Ow(e,t):z({})}function gr(e,t,r){let o=se(t)?Rw(t):t,a=$e(t)?Re(t):t,u=ne(e),i=ne(t);return Q(e)?m_(e,a,r):Ge(t)?p_(e,t,r):u&&i?J("Pick",[e,o],r):!u&&i?J("Pick",[e,o],r):u&&!i?J("Pick",[e,o],r):b({...yl(e,a),...r})}var ts=p(()=>{P();Ii();cr();Ye();Oe();ze();pe();Lt();eo();K();Pe();Il();bl();n(Nw,"FromIntersect");n(Fw,"FromUnion");n(kw,"FromProperties");n(Ow,"FromObject");n(Rw,"UnionFromPropertyKeys");n(yl,"PickResolve");n(gr,"Pick")});function Aw(e,t,r){return{[t]:gr(e,[t],Y(r))}}function Cw(e,t,r){return t.reduce((o,a)=>({...o,...Aw(e,a,r)}),{})}function Uw(e,t,r){return Cw(e,t.keys,r)}function p_(e,t,r){let o=Uw(e,t,r);return j(o)}var Il=p(()=>{ge();ts();Fe();n(Aw,"FromPropertyKey");n(Cw,"FromPropertyKeys");n(Uw,"FromMappedKey");n(p_,"PickFromMappedKey")});var rs=p(()=>{Il();bl();ts()});function Bw(e,t){return J("Partial",[J(e,t)])}function Dw(e){return J("Partial",[Pt(e)])}function jw(e){let t={};for(let r of globalThis.Object.getOwnPropertyNames(e))t[r]=Te(e[r]);return t}function Kw(e){let t=te(e,[me,"$id","required","properties"]),r=jw(e.properties);return z(r,t)}function f_(e){return e.map(t=>__(t))}function __(e){return dt(e)?Bw(e.target,e.parameters):ne(e)?Dw(e.$ref):ee(e)?ve(f_(e.allOf)):B(e)?V(f_(e.anyOf)):ue(e)?Kw(e):Pr(e)||Kt(e)||ft(e)||Ke(e)||to(e)||_t(e)||Gt(e)||ro(e)||no(e)?e:z({})}function Mn(e,t){return Q(e)?g_(e,t):b({...__(e),...t})}var xl=p(()=>{P();cr();Wt();ze();Ye();pe();Br();Vt();N();wl();K();n(Bw,"FromComputed");n(Dw,"FromRef");n(jw,"FromProperties");n(Kw,"FromObject");n(f_,"FromRest");n(__,"PartialResolve");n(Mn,"Partial")});function Gw(e,t){let r={};for(let o of globalThis.Object.getOwnPropertyNames(e))r[o]=Mn(e[o],Y(t));return r}function Vw(e,t){return Gw(e.properties,t)}function g_(e,t){let r=Vw(e,t);return j(r)}var wl=p(()=>{ge();xl();Fe();n(Gw,"FromProperties");n(Vw,"FromMappedResult");n(g_,"PartialFromMappedResult")});var ns=p(()=>{wl();xl()});function Ww(e,t){return J("Required",[J(e,t)])}function $w(e){return J("Required",[Pt(e)])}function zw(e){let t={};for(let r of globalThis.Object.getOwnPropertyNames(e))t[r]=te(e[r],[we]);return t}function Hw(e){let t=te(e,[me,"$id","required","properties"]),r=zw(e.properties);return z(r,t)}function h_(e){return e.map(t=>b_(t))}function b_(e){return dt(e)?Ww(e.target,e.parameters):ne(e)?$w(e.$ref):ee(e)?ve(h_(e.allOf)):B(e)?V(h_(e.anyOf)):ue(e)?Hw(e):Pr(e)||Kt(e)||ft(e)||Ke(e)||to(e)||_t(e)||Gt(e)||ro(e)||no(e)?e:z({})}function Ln(e,t){return Q(e)?y_(e,t):b({...b_(e),...t})}var Sl=p(()=>{P();cr();ze();Ye();pe();Br();N();Vt();El();K();n(Ww,"FromComputed");n($w,"FromRef");n(zw,"FromProperties");n(Hw,"FromObject");n(h_,"FromRest");n(b_,"RequiredResolve");n(Ln,"Required")});function qw(e,t){let r={};for(let o of globalThis.Object.getOwnPropertyNames(e))r[o]=Ln(e[o],t);return r}function Zw(e,t){return qw(e.properties,t)}function y_(e,t){let r=Zw(e,t);return j(r)}var El=p(()=>{ge();Sl();n(qw,"FromProperties");n(Zw,"FromMappedResult");n(y_,"RequiredFromMappedResult")});var os=p(()=>{El();Sl()});function Jw(e,t){return t.map(r=>ne(r)?Tl(e,r.$ref):He(e,r))}function Tl(e,t){return t in e?ne(e[t])?Tl(e,e[t].$ref):He(e,e[t]):D()}function Xw(e){return In(e[0])}function Yw(e){return dr(e[0],e[1])}function Qw(e){return xn(e[0])}function eS(e){return Mn(e[0])}function tS(e){return _r(e[0],e[1])}function rS(e){return gr(e[0],e[1])}function nS(e){return Ln(e[0])}function oS(e,t,r){let o=Jw(e,r);return t==="Awaited"?Xw(o):t==="Index"?Yw(o):t==="KeyOf"?Qw(o):t==="Partial"?eS(o):t==="Omit"?tS(o):t==="Pick"?rS(o):t==="Required"?nS(o):D()}function iS(e,t){return mn(He(e,t))}function sS(e,t){return pn(He(e,t))}function aS(e,t,r){return fn(vo(e,t),He(e,r))}function uS(e,t,r){return vt(vo(e,t),He(e,r))}function lS(e,t){return ve(vo(e,t))}function cS(e,t){return yn(He(e,t))}function dS(e,t){return z(globalThis.Object.keys(t).reduce((r,o)=>({...r,[o]:He(e,t[o])}),{}))}function mS(e,t){let[r,o]=[He(e,Yi(t)),Xi(t)],a=un(t);return a.patternProperties[o]=r,a}function pS(e,t){return ne(t)?{...Tl(e,t.$ref),[me]:t[me]}:t}function fS(e,t){return Qe(vo(e,t))}function _S(e,t){return V(vo(e,t))}function vo(e,t){return t.map(r=>He(e,r))}function He(e,t){return ke(t)?b(He(e,te(t,[we])),t):ln(t)?b(He(e,te(t,[lt])),t):ir(t)?b(pS(e,t),t):ct(t)?b(iS(e,t.items),t):Lr(t)?b(sS(e,t.items),t):dt(t)?b(oS(e,t.target,t.parameters)):mt(t)?b(aS(e,t.parameters,t.returns),t):pt(t)?b(uS(e,t.parameters,t.returns),t):ee(t)?b(lS(e,t.allOf),t):Nr(t)?b(cS(e,t.items),t):ue(t)?b(dS(e,t.properties),t):kr(t)?b(mS(e,t)):We(t)?b(fS(e,t.items||[]),t):B(t)?b(_S(e,t.anyOf),t):t}function gS(e,t){return t in e?He(e,e[t]):D()}function I_(e){return globalThis.Object.getOwnPropertyNames(e).reduce((t,r)=>({...t,[r]:gS(e,r)}),{})}var x_=p(()=>{jt();Ya();Vt();co();Fi();mo();po();Lt();Or();Ye();bo();wo();ze();es();rs();Se();ns();Eo();os();mr();pe();N();K();n(Jw,"DereferenceParameters");n(Tl,"Dereference");n(Xw,"FromAwaited");n(Yw,"FromIndex");n(Qw,"FromKeyOf");n(eS,"FromPartial");n(tS,"FromOmit");n(rS,"FromPick");n(nS,"FromRequired");n(oS,"FromComputed");n(iS,"FromArray");n(sS,"FromAsyncIterator");n(aS,"FromConstructor");n(uS,"FromFunction");n(lS,"FromIntersect");n(cS,"FromIterator");n(dS,"FromObject");n(mS,"FromRecord");n(pS,"FromTransform");n(fS,"FromTuple");n(_S,"FromUnion");n(vo,"FromTypes");n(He,"FromType");n(gS,"ComputeType");n(I_,"ComputeModuleProperties")});function w_(e){return new vl(e)}var Ml,vl,S_=p(()=>{jt();N();x_();Ml=class Ml{constructor(t){let r=I_(t),o=this.WithIdentifiers(r);this.$defs=o}Import(t,r){let o={...this.$defs,[t]:b(this.$defs[t],r)};return b({[S]:"Import",$defs:o,$ref:t})}WithIdentifiers(t){return globalThis.Object.getOwnPropertyNames(t).reduce((r,o)=>({...r,[o]:{...t[o],$id:o}}),{})}};n(Ml,"TModule");vl=Ml;n(w_,"Module")});var Ll=p(()=>{S_()});function E_(e,t){return b({[S]:"Not",not:e},t)}var T_=p(()=>{P();N();n(E_,"Not")});var Pl=p(()=>{T_()});function v_(e,t){return pt(e)?Qe(e.parameters,t):D()}var M_=p(()=>{mr();Se();K();n(v_,"Parameters")});var Nl=p(()=>{M_()});function L_(e,t={}){ae(t.$id)&&(t.$id=`T${hS++}`);let r=un(e({[S]:"This",$ref:`${t.$id}`}));return r.$id=t.$id,b({[Je]:"Recursive",...r},t)}var hS,P_=p(()=>{gi();P();Pe();N();hS=0;n(L_,"Recursive")});var Fl=p(()=>{P_()});function N_(e,t){let r=q(e)?new globalThis.RegExp(e):e;return b({[S]:"RegExp",type:"RegExp",source:r.source,flags:r.flags},t)}var F_=p(()=>{P();Pe();N();n(N_,"RegExp")});var kl=p(()=>{F_()});function bS(e){var t;return ee(e)?e.allOf:B(e)?e.anyOf:We(e)?(t=e.items)!=null?t:[]:[]}function k_(e){return bS(e)}var O_=p(()=>{K();n(bS,"RestResolve");n(k_,"Rest")});var Ol=p(()=>{O_()});function R_(e,t){return pt(e)?b(e.returns,t):D(t)}var A_=p(()=>{P();Se();K();n(R_,"ReturnType")});var Rl=p(()=>{A_()});var C_=p(()=>{});var U_=p(()=>{});var B_=p(()=>{C_();U_()});var D_=p(()=>{});var j_=p(()=>{D_()});function K_(e){return new Al(e)}var Ul,Al,Bl,Cl,G_=p(()=>{N();K();Ul=class Ul{constructor(t){this.schema=t}Decode(t){return new Cl(this.schema,t)}};n(Ul,"TransformDecodeBuilder");Al=Ul,Bl=class Bl{constructor(t,r){this.schema=t,this.decode=r}EncodeTransform(t,r){let u={Encode:n(i=>r[me].Encode(t(i)),"Encode"),Decode:n(i=>this.decode(r[me].Decode(i)),"Decode")};return{...r,[me]:u}}EncodeSchema(t,r){let o={Decode:this.decode,Encode:t};return{...r,[me]:o}}Encode(t){return ir(this.schema)?this.EncodeTransform(t,this.schema):this.EncodeSchema(t,this.schema)}};n(Bl,"TransformEncodeBuilder");Cl=Bl;n(K_,"Transform")});var Dl=p(()=>{G_()});function V_(e={}){var t;return b({[S]:(t=e[S])!=null?t:"Unsafe"},e)}var W_=p(()=>{P();N();n(V_,"Unsafe")});var jl=p(()=>{W_()});function $_(e){return b({[S]:"Void",type:"void"},e)}var z_=p(()=>{P();N();n($_,"Void")});var Kl=p(()=>{z_()});var Gl={};Wr(Gl,{Any:()=>lr,Argument:()=>hp,Array:()=>mn,AsyncIterator:()=>pn,Awaited:()=>In,BigInt:()=>hn,Boolean:()=>Ei,Capitalize:()=>r_,Composite:()=>mf,Const:()=>If,Constructor:()=>fn,ConstructorParameters:()=>wf,Date:()=>ki,Enum:()=>Ef,Exclude:()=>Tn,Extends:()=>En,Extract:()=>vn,Function:()=>vt,Index:()=>dr,InstanceType:()=>Wf,Instantiate:()=>Zf,Integer:()=>Xf,Intersect:()=>ve,Iterator:()=>yn,KeyOf:()=>xn,Literal:()=>G,Lowercase:()=>o_,Mapped:()=>Yp,Module:()=>w_,Never:()=>D,Not:()=>E_,Null:()=>Ri,Number:()=>Xe,Object:()=>z,Omit:()=>_r,Optional:()=>Te,Parameters:()=>v_,Partial:()=>Mn,Pick:()=>gr,Promise:()=>Pi,Readonly:()=>Ae,ReadonlyOptional:()=>qi,Record:()=>Ji,Recursive:()=>L_,Ref:()=>Pt,RegExp:()=>N_,Required:()=>Ln,Rest:()=>k_,ReturnType:()=>R_,String:()=>gt,Symbol:()=>Ci,TemplateLiteral:()=>vi,Transform:()=>K_,Tuple:()=>Qe,Uint8Array:()=>ji,Uncapitalize:()=>s_,Undefined:()=>Bi,Union:()=>V,Unknown:()=>pr,Unsafe:()=>V_,Uppercase:()=>u_,Void:()=>$_});var H_=p(()=>{lo();pu();co();mo();Fi();ho();Ti();Gu();Wu();po();$u();Oi();zu();il();So();ul();Or();Lt();ll();dl();ml();Ye();fl();bo();wo();Oe();ge();Ll();Se();Pl();Ai();Ar();ze();es();Wt();Nl();ns();rs();Ni();Ur();Zi();Eo();Fl();Br();kl();os();Ol();Rl();bn();Ui();zt();Dl();mr();Ki();Di();pe();wn();jl();Kl()});var Nt,q_=p(()=>{H_();Nt=Gl});var Z_=p(()=>{Ya();jt();Tt();uu();op();ao();lp();uo();N();lo();co();pu();mo();Fi();ho();Ti();Gu();Wu();po();$u();Oi();zu();il();So();ul();Or();Lt();ll();dl();ml();Ye();bo();fl();wo();Oe();Ll();ge();Se();Pl();Ai();Ar();ze();es();Wt();Nl();ns();rs();Ni();Ur();Zi();Eo();Fl();Br();kl();os();Ol();Rl();B_();j_();bn();Ui();zt();Dl();mr();Ki();Di();pe();wn();jl();Kl();q_()});function yS(){Vl={text:"",tokens:[]}}function Ft(e){var t;return e=e.toLowerCase(),(t=wS[e])!=null?t:e}async function SS(e,t={},r=[]){let o=new is(t,e.languageId),a=st(o.tokenizerName),u=new mi(o.snippetTextProcessingPreset),i=new Mo(o.promptOrderListPreset),s=new ss(o.promptPriorityPreset),{source:l,offset:c}=e;if(c<0||c>l.length)throw new Error(`Offset ${c} is out of range.`);e.languageId=Ft(e.languageId);let d=new us(a,o.lineEnding,i,u,s),m=r.find(T=>T.provider==="path"),f=r.find(T=>T.provider==="language"),g=r.find(T=>T.provider==="trait"),h=r.find(T=>T.provider==="tooltip-signature");m!==void 0&&m.snippet.length>0?(d.append(m.snippet,"PathMarker"),f&&d.extMarkUnused({text:f.snippet,kind:"LanguageMarker",tokens:a.tokenLength(f.snippet),id:NaN,score:NaN})):f&&d.append(f.snippet,"LanguageMarker"),g!=null&&d.append(g.snippet,"Traits"),r=r.filter(T=>T.provider!=="language"&&T.provider!=="path"&&T.provider!=="tooltip-signature"&&T.provider!=="trait");function I(){og(r,e.languageId,a,s,o.numberOfSnippets).forEach(L=>{let O=as(L.provider);d.append(L.announcedSnippet,O,L.tokens,L.score)})}n(I,"addSnippetsNow"),I();let x=l.substring(0,c);h!==void 0&&a.tokenLength(h.snippet)<=Q_?([x,h]=om(x,h),d.append(h.snippet,"TooltipSignature")):h!==void 0&&d.extMarkUnused({text:h.snippet,kind:"TooltipSignature",tokens:a.tokenLength(h.snippet),id:NaN,score:NaN}),d.append(x,"BeforeCursor");let w=l.slice(c),{promptInfo:F,newCachedSuffix:M}=d.fulfill(w,o,Vl);return Vl=M,F}var Vl,J_,X_,Y_,Q_,eg,IS,tg,xS,Wl,rg,ng,$l,is,wS,Kr=p(()=>{"use strict";di();Ut();tm();rn();za();pi();Z_();Vl={text:"",tokens:[]};n(yS,"resetSuffixCache");J_=500,X_=8192-J_,Y_=4,Q_=150,eg=10,IS=15,tg=Nt.Object({relativePath:Nt.Optional(Nt.String()),uri:Nt.String(),source:Nt.String(),languageId:Nt.String()}),xS=Nt.Intersect([tg,Nt.Object({offset:Nt.Number()})]),Wl=(r=>(r.ConvertToUnix="unix",r.KeepOriginal="keep",r))(Wl||{}),rg=(r=>(r.None="none",r.FifteenPercent="fifteenPercent",r))(rg||{}),ng=(r=>(r.Equal="equal",r.Levenshtein="levenshteineditdistance",r))(ng||{}),$l=class $l{constructor(t,r){this.maxPromptLength=X_;this.lineEnding="unix";this.tokenizerName="cl100k_base";this.suffixPercent=15;this.suffixMatchThreshold=eg;this.promptOrderListPreset="default";this.promptPriorityPreset="default";this.snippetTextProcessingPreset="default";var o,a,u,i;if(Object.assign(this,t),this.suffixPercent<0||this.suffixPercent>100)throw new Error(`suffixPercent must be between 0 and 100, but was ${this.suffixPercent}`);if(this.suffixMatchThreshold<0||this.suffixMatchThreshold>100)throw new Error(`suffixMatchThreshold must be at between 0 and 100, but was ${this.suffixMatchThreshold}`);r==="cpp"?((o=this.similarFilesOptions)!=null||(this.similarFilesOptions=Wa),(a=this.numberOfSnippets)!=null||(this.numberOfSnippets=Wa.maxTopSnippets)):((u=this.similarFilesOptions)!=null||(this.similarFilesOptions=Xd),(i=this.numberOfSnippets)!=null||(this.numberOfSnippets=Y_))}};n($l,"PromptOptions");is=$l,wS={javascriptreact:"javascript",jsx:"javascript",typescriptreact:"typescript",jade:"pug",cshtml:"razor",c:"cpp"};n(Ft,"normalizeLanguageId");n(SS,"getPrompt")});function ig(e,t){if(e.length===0||t.length===0)return{score:e.length+t.length};let r=Array.from({length:e.length}).map(()=>Array.from({length:t.length}).map(()=>0));for(let o=0;o<e.length;o++)r[o][0]=o;for(let o=0;o<t.length;o++)r[0][o]=o;for(let o=0;o<t.length;o++)for(let a=0;a<e.length;a++)r[a][o]=Math.min((a==0?o:r[a-1][o])+1,(o==0?a:r[a][o-1])+1,(a==0||o==0?Math.max(a,o):r[a-1][o-1])+(e[a]==t[o]?0:1));return{score:r[e.length-1][t.length-1]}}var sg=p(()=>{"use strict";n(ig,"findEditDistanceScore")});function as(e){switch(e){case"similar-files":return"SimilarFile";case"path":return"PathMarker";case"language":return"LanguageMarker";case"tooltip-signature":return"TooltipSignature";case"trait":return"Traits";case"code":return"CodeSnippet";default:throw new Error(`Unknown snippet provider type ${e}`)}}var Lo,ES,zl,ls,Hl,cs,ql,Mo,Zl,ss,Jl,ds,Xl,us,pi=p(()=>{"use strict";ms();Kr();sg();Lo=50,ES=5,zl=class zl{constructor(){this.used=new Map;this.unused=new Map}add(t){for(let[r,o]of t.used)this.used.set(r,o);for(let[r,o]of t.unused)this.unused.set(r,o)}markUsed(t){this.IsSnippet(t)&&this.used.set(t.id,this.convert(t))}undoMarkUsed(t){this.IsSnippet(t)&&this.used.delete(t.id)}markUnused(t){this.IsSnippet(t)&&this.unused.set(t.id,this.convert(t))}convert(t){return{score:t.score.toFixed(4),length:t.text.length}}IsSnippet(t){return t.kind=="SimilarFile"||t.kind=="TooltipSignature"}};n(zl,"PromptBackground");ls=zl,Hl=class Hl{constructor(){this.used=new Map;this.unused=new Map;this.usedCounts=new Map;this.unusedCounts=new Map}toJSON(){return{used:Object.fromEntries(this.used),unused:Object.fromEntries(this.unused),usedCounts:Object.fromEntries(this.usedCounts),unusedCounts:Object.fromEntries(this.unusedCounts)}}add(t){for(let[r,o]of t.used)this.used.set(r,(this.used.get(r)||0)+o);for(let[r,o]of t.unused)this.unused.set(r,(this.unused.get(r)||0)+o);for(let[r,o]of t.usedCounts)this.usedCounts.set(r,(this.usedCounts.get(r)||0)+o);for(let[r,o]of t.unusedCounts)this.unusedCounts.set(r,(this.unusedCounts.get(r)||0)+o)}markUsed(t){this.used.set(t.kind,(this.used.get(t.kind)||0)+t.tokens),t.kind=="BeforeCursor"?this.usedCounts.set(t.kind,(this.usedCounts.get(t.kind)||0)+t.text.split(`
`).length):this.usedCounts.set(t.kind,(this.usedCounts.get(t.kind)||0)+1)}undoMarkUsed(t){this.used.set(t.kind,(this.used.get(t.kind)||0)-t.tokens),t.kind=="BeforeCursor"?this.usedCounts.set(t.kind,(this.usedCounts.get(t.kind)||0)-t.text.split(`
`).length):this.usedCounts.set(t.kind,(this.usedCounts.get(t.kind)||0)-1)}markUnused(t){this.unused.set(t.kind,(this.unused.get(t.kind)||0)+t.tokens),t.kind=="BeforeCursor"?this.unusedCounts.set(t.kind,(this.unusedCounts.get(t.kind)||0)+t.text.split(`
`).length):this.unusedCounts.set(t.kind,(this.unusedCounts.get(t.kind)||0)+1)}};n(Hl,"PromptChoices");cs=Hl,ql=class ql{constructor(t="default"){this._rankedList=["LanguageMarker","PathMarker","Traits","CodeSnippet","SimilarFile","BeforeCursor","TooltipSignature"]}get rankedList(){return this._rankedList}sortElements(t){return t.sort((r,o)=>{let a=this._rankedList.indexOf(r.kind),u=this._rankedList.indexOf(o.kind);if(a===-1||u===-1)throw new Error(`Invalid element kind: ${r.kind} or ${o.kind}, not found in prompt element ordering list`);return a===u?r.id-o.id:a-u})}};n(ql,"PromptOrderList");Mo=ql,Zl=class Zl extends Mo{constructor(t="default"){switch(super(),t){case"office-exp":this._rankedList=["PathMarker","TooltipSignature","BeforeCursor","CodeSnippet","SimilarFile","LanguageMarker","Traits"];break;default:this._rankedList=["TooltipSignature","BeforeCursor","CodeSnippet","SimilarFile","PathMarker","LanguageMarker","Traits"]}}sortElements(t){return t.sort((r,o)=>{let a=this._rankedList.indexOf(r.kind),u=this._rankedList.indexOf(o.kind);if(a===-1||u===-1)throw new Error(`Invalid element kind: ${r.kind} or ${o.kind}, not found in snippet provider priority list`);return a===u?o.id-r.id:a-u})}};n(Zl,"PromptPriorityList");ss=Zl;n(as,"kindForSnippetProviderType");Jl=class Jl{constructor(t){this.ranges=new Array;let r=0,o;for(let a of t)a.text.length!==0&&(o==="BeforeCursor"&&a.kind==="BeforeCursor"?this.ranges[this.ranges.length-1].end+=a.text.length:this.ranges.push({kind:a.kind,start:r,end:r+a.text.length}),o=a.kind,r+=a.text.length)}};n(Jl,"PromptElementRanges");ds=Jl,Xl=class Xl{constructor(t,r,o,a,u){this.tokenizer=t;this.lineEndingOption=r;this.orderingList=o;this.snippetTextProcessor=a;this.priorityList=u;this.content=[];this.basePromptBackground=new ls;this.baseTallyOfChoices=new cs}extMarkUnused(t){this.basePromptBackground.markUnused(t),this.baseTallyOfChoices.markUnused(t)}getContent(){return[...this.content]}convertLineEndings(t){return this.lineEndingOption==="unix"&&(t=t.replace(/\r\n?/g,`
`)),t}maxPrefixTokenLength(){return this.content.reduce((t,r)=>t+=r.tokens,0)}append(t,r,o=this.tokenizer.tokenLength(t),a=NaN){t=this.convertLineEndings(t);let u=this.content.length;return this.content.push({id:u,text:t,kind:r,tokens:o,score:a}),u}fulfillPrefix(t){let r=new ls;r.add(this.basePromptBackground);let o=new cs;o.add(this.baseTallyOfChoices);function a(h){r.markUsed(h),o.markUsed(h)}n(a,"markUsed");function u(h){r.undoMarkUsed(h),o.undoMarkUsed(h)}n(u,"undoMarkUsed");function i(h){r.markUnused(h),o.markUnused(h)}n(i,"markUnused"),this.priorityList.sortElements(this.content);let s,l=[],c=t;this.content.forEach(h=>{if(c>0||s===void 0){let I=h.tokens;if(c>=I)c-=I,a(h),l.push(h);else if(h.kind==="BeforeCursor"&&c>0){let{summarizedElement:x,removedMaterial:w}=this.snippetTextProcessor.summarize(this.tokenizer,h,c);h=x,I=h.tokens,c-=I,h.text.length>0&&a(h),w.text.length>0&&i(w),l.push(h)}else s===void 0?s=h:i(h)}else i(h)}),this.orderingList.sortElements(l);let d=l.reduce((h,I)=>h+I.text,""),m=this.tokenizer.tokenLength(d);for(;m>t;){this.priorityList.sortElements(l);let h=l.pop();h&&(u(h),i(h),s!==void 0&&i(s),s=void 0),this.orderingList.sortElements(l),d=l.reduce((I,x)=>I+x.text,""),m=this.tokenizer.tokenLength(d)}let f=[...l];if(s!==void 0){f.push(s),this.orderingList.sortElements(f);let h=f.reduce((x,w)=>x+w.text,""),I=this.tokenizer.tokenLength(h);if(I<=t){a(s);let x=new ds(f);return{prefix:h,suffix:"",prefixLength:I,suffixLength:0,promptChoices:o,promptBackground:r,promptElementRanges:x}}else i(s)}let g=new ds(l);return{prefix:d,suffix:"",prefixLength:m,suffixLength:0,promptChoices:o,promptBackground:r,promptElementRanges:g}}fulfill(t,r,o){var f;if(r.suffixPercent===0||t.length===0)return{promptInfo:this.fulfillPrefix(r.maxPromptLength),newCachedSuffix:o};let a=r.maxPromptLength-ES,u=Math.floor(a*(100-r.suffixPercent)/100),i=a-u,s=t.replace(/^.*/,"").trimStart();if(a>Lo&&i<Lo)throw new Error(`Suffix budget is smaller than MAX_EDIT_DISTANCE_LENGTH: ${i} < ${Lo}
`);let l=this.tokenizer.takeFirstTokens(s,Lo),c=!1;l.tokens.length>0&&r.suffixMatchThreshold>0&&100*((f=ig(l.tokens,o.tokens.slice(0,Lo)))==null?void 0:f.score)<r.suffixMatchThreshold*l.tokens.length&&(c=!0);let d;if(c)u=a-o.tokens.length,d=o;else{let g=this.maxPrefixTokenLength(),h=this.tokenizer.tokenLength(s);g<u?(u=g,i=a-u):h<i&&(u=a-h,i=h),d=this.tokenizer.takeFirstTokens(s,i)}let m=this.fulfillPrefix(u);return m.suffix=d.text,m.suffixLength=d.tokens.length,{promptInfo:m,newCachedSuffix:d}}};n(Xl,"PromptWishlist");us=Xl});function vS(e,t){let r=TS[e.semantics],o=["snippets"].includes(e.semantics)?"these":"this",u=(e.relativePath?`Compare ${o} ${r} from ${e.relativePath}:`:`Compare ${o} ${r}:`)+`
`+e.snippet;return u.endsWith(`
`)||(u+=`
`),rr(u,t)}function ag(e){e.sort((t,r)=>r.score-t.score)}function MS(e,t,r){if(t==0)return[];let o=e.map(u=>({...u,kind:as(u.provider)})),a=[];return r.rankedList.forEach(u=>{let i=o.filter(({kind:s})=>s===u);ag(i),a.push(...i)}),a.slice(0,t)}function og(e,t,r,o,a){let i=MS(e,a,o).map(s=>{let l=vS(s,t),c=r.tokenLength(l);return{announcedSnippet:l,provider:s.provider,score:s.score,tokens:c,relativePath:s.relativePath}}).filter(s=>s.tokens>0);return ag(i),i.reverse(),i}var Ze,Ct,TS,Ut=p(()=>{"use strict";At();pi();Ze=(i=>(i.SimilarFiles="similar-files",i.Language="language",i.Path="path",i.TooltipSignature="tooltip-signature",i.Trait="trait",i.CodeSnippet="code",i))(Ze||{}),Ct=(m=>(m.Function="function",m.Snippet="snippet",m.Snippets="snippets",m.Variable="variable",m.Parameter="parameter",m.Method="method",m.Class="class",m.Module="module",m.Alias="alias",m.Enum="enum member",m.Interface="interface",m))(Ct||{}),TS={function:"function",snippet:"snippet",snippets:"snippets",variable:"variable",parameter:"parameter",method:"method",class:"class",module:"module",alias:"alias","enum member":"enum member",interface:"interface"};n(vS,"announceSnippet");n(ag,"sortSnippetsDescending");n(MS,"selectSnippets");n(og,"processSnippetsForWishlist")});var Yl,br,Ql,Ue,Ht=p(()=>{"use strict";tc();Yl=class Yl extends Error{constructor(t){super(t),this.name="ProviderTimeoutError"}};n(Yl,"ProviderTimeoutError");br=Yl,Ql=class Ql{constructor(t){this.api=t}getSnippets(t,r){return new Promise((o,a)=>{r.aborted&&a(new hr(this.type,new br("provider aborted"))),r.addEventListener("abort",()=>{a(new hr(this.type,new br(`max runtime exceeded: ${ec} ms`)))},{once:!0});let u=performance.now();this.buildSnippets(t).then(i=>{let s=performance.now();o({snippets:i,providerType:this.type,runtime:s-u})}).catch(i=>{a(new hr(this.type,i))})})}};n(Ql,"SnippetProvider");Ue=Ql});var rc,ps,ug=p(()=>{"use strict";At();Ut();Ht();rc=class rc extends Ue{constructor(){super(...arguments);this.type="code"}async buildSnippets(r){var i;if(r.codeSnippets===void 0||r.codeSnippets.length===0)return[];let{codeSnippets:o}=r,a=new Map;for(let s of o){let l=(i=s.relativePath)!=null?i:s.uri,c=a.get(l);c===void 0&&(c=[],a.set(l,c)),c.push(s)}let u=[];return a.forEach((s,l)=>{let c=s.map(d=>d.value).join(`
---
`);u.push({provider:this.type,semantics:s.length>1?"snippets":"snippet",snippet:ut(c),relativePath:l,startLine:0,endLine:0,score:Math.max(...s.map(d=>{var m;return(m=d.importance)!=null?m:0}))})}),u}};n(rc,"CodeSnippetProvider");ps=rc});var nc,_s,lg=p(()=>{"use strict";At();Kr();Ut();Ht();nc=class nc extends Ue{constructor(){super(...arguments);this.type="language"}async buildSnippets(r){let{currentFile:o}=r;return o.languageId=Ft(o.languageId),[{provider:this.type,semantics:"snippet",snippet:ut(Gd(o)),relativePath:o.relativePath,startLine:0,endLine:0,score:0}]}};n(nc,"LanguageSnippetProvider");_s=nc});var oc,gs,cg=p(()=>{"use strict";At();Kr();Ut();Ht();oc=class oc extends Ue{constructor(){super(...arguments);this.type="path"}async buildSnippets(r){let{currentFile:o}=r;return o.languageId=Ft(o.languageId),[{provider:this.type,semantics:"snippet",snippet:ut(Vd(o)),relativePath:o.relativePath,startLine:0,endLine:0,score:0}]}};n(oc,"PathSnippetProvider");gs=oc});var ic,hs,dg=p(()=>{"use strict";ms();Ht();ic=class ic extends Ue{constructor(){super(...arguments);this.type="similar-files"}async buildSnippets(r){let{currentFile:o,similarFiles:a,options:u}=r;return u&&a&&a.length?await this.api.getSimilarSnippets(o,a,u.similarFilesOptions):[]}};n(ic,"SimilarFilesProvider");hs=ic});var sc,bs,mg=p(()=>{"use strict";At();Kr();Ut();Ht();za();sc=class sc extends Ue{constructor(){super(...arguments);this.type="tooltip-signature"}async buildSnippets(r){let{currentFile:o,tooltipSignature:a}=r,u=[];return o.languageId=Ft(o.languageId),a&&nm(o)&&u.push({provider:this.type,semantics:"snippet",snippet:ut(rm(a,o.languageId)),relativePath:o.relativePath,startLine:0,endLine:0,score:0}),u}};n(sc,"TooltipSignatureSnippetProvider");bs=sc});var ac,ys,pg=p(()=>{"use strict";At();Kr();Ut();Ht();ac=class ac extends Ue{constructor(){super(...arguments);this.type="trait"}async buildSnippets(r){if(r.traits.length===0)return[];let{currentFile:o}=r;return o.languageId=Ft(o.languageId),[{provider:this.type,semantics:"snippet",snippet:rr(`Consider this related information:
`+r.traits.map(a=>a.kind==="string"?ut(a.value):ut(`${a.name}: ${a.value}`)).join(""),o.languageId),relativePath:o.relativePath,startLine:0,endLine:0,score:0}]}};n(ac,"TraitProvider");ys=ac});function LS(e){return new Promise(t=>{setTimeout(()=>t(`delay: ${e}`),e)})}var Is,kt,fg,lc,uc,xs,_g=p(()=>{"use strict";Go();di();Is=Fn(require("path")),kt=require("worker_threads");n(LS,"sleep");fg=["getSimilarSnippets","sleep"],lc=class lc{constructor(){this.nextHandlerId=0;this.handlers=new Map;this.fns=new Map;this.getSimilarSnippets=Yd;this.sleep=LS;var t;!kt.isMainThread&&((t=kt.workerData)!=null&&t.port)&&(Ys(),process.cwd=()=>kt.workerData.cwd,this.configureWorkerResponse(kt.workerData.port))}initWorker(){let{port1:t,port2:r}=new kt.MessageChannel;this.port=t,this.worker=new kt.Worker(Is.default.resolve(Is.default.extname(__filename)!==".ts"?__dirname:Is.default.resolve(__dirname,"../../dist"),"workerProxy.js"),{workerData:{port:r,cwd:process.cwd()},transferList:[r]}),this.port.on("message",o=>this.handleMessage(o)),this.port.on("error",o=>this.handleError(o))}startThreading(){if(this.worker)throw new Error("Worker thread already initialized.");this.proxyFunctions(),this.initWorker()}stopThreading(){this.worker&&(this.worker.terminate(),this.worker.removeAllListeners(),this.worker=void 0,this.unproxyFunctions(),this.handlers.clear())}proxyFunctions(){for(let t of fg)this.fns.set(t,this[t]),this.proxy(t)}unproxyFunctions(){for(let t of fg){let r=this.fns.get(t);if(r)this[t]=r;else throw new Error(`Unproxy function not found: ${t}`)}}configureWorkerResponse(t){this.port=t,this.port.on("message",r=>void this.onMessage(r))}async onMessage({id:t,fn:r,args:o}){let a=this[r];if(!a)throw new Error(`Function not found: ${r}`);try{let u=await a.apply(this,o);this.port.postMessage({id:t,res:u})}catch(u){if(!(u instanceof Error))throw u;typeof u.code=="string"?this.port.postMessage({id:t,err:u,code:u.code}):this.port.postMessage({id:t,err:u})}}handleMessage({id:t,err:r,code:o,res:a}){let u=this.handlers.get(t);u&&(this.handlers.delete(t),r?(r.code=o,u.reject(r)):u.resolve(a))}handleError(t){var o;let r;if(t instanceof Error){r=t,r.code==="MODULE_NOT_FOUND"&&((o=r.message)!=null&&o.endsWith("workerProxy.js'"))&&(r=new er("Failed to load workerProxy.js"));let a=new Error().stack;r.stack&&(a!=null&&a.match(/^Error\n/))&&(r.stack+=a.replace(/^Error/,""))}else t&&typeof t=="object"&&"name"in t&&t.name==="ExitStatus"&&"status"in t&&typeof t.status=="number"?(r=new Error(`workerProxy.js exited with status ${t.status}`),r.code=`CopilotPromptWorkerExit${t.status}`):r=new Error(`Non-error thrown: ${JSON.stringify(t)}`);for(let a of this.handlers.values())a.reject(r);throw r}proxy(t){this[t]=function(...r){let o=this.nextHandlerId++;return new Promise((a,u)=>{var i;this.handlers.set(o,{resolve:a,reject:u}),(i=this.port)==null||i.postMessage({id:o,fn:t,args:r})})}}};n(lc,"WorkerProxy");uc=lc,xs=new uc});function gg(e){return e.status==="fulfilled"}function NS(e){return e.status==="rejected"}function hg(e){return e.filter(gg).flatMap(t=>t.value.snippets)}function bg(e){return e.filter(NS).flatMap(t=>t.reason)}function yg(e){let t={},r={};return e.forEach(o=>{gg(o)?(t[o.value.providerType]=Math.round(o.value.runtime),r[o.value.providerType]=!1):kS(o.reason)&&(r[o.reason.providerType]=!0,t[o.reason.providerType]=0)}),{runtimes:t,timeouts:r}}function kS(e){return e!==null&&typeof e=="object"&&"error"in e&&e.error instanceof br}function OS(e){return Promise.all(e.map(t=>t.then(RS,AS)))}function RS(e){return{status:"fulfilled",value:e}}function AS(e){return{status:"rejected",reason:e}}var ec,PS,cc,hr,dc,ws,tc=p(()=>{"use strict";ug();lg();cg();dg();Ht();mg();pg();_g();ec=300,PS=[_s,gs,hs,bs,ys,ps],cc=class cc extends Error{constructor(r,o){super();this.providerType=r;this.error=o}};n(cc,"ProviderError");hr=cc;n(gg,"isFulfilledResult");n(NS,"isRejectedResult");n(hg,"providersSnippets");n(bg,"providersErrors");n(yg,"providersPerformance");n(kS,"isProviderTimeout");dc=class dc{constructor(t=PS){this.startThreading=n(()=>xs.startThreading(),"startThreading");this.stopThreading=n(()=>xs.stopThreading(),"stopThreading");this.providers=t.map(r=>new r(xs))}async getSnippets(t){let r=AbortSignal.timeout(ec),o=this.providers.map(a=>a.getSnippets(t,r));return Promise.allSettled?Promise.allSettled(o):OS(o)}};n(dc,"SnippetOrchestrator");ws=dc;n(OS,"allSettledBackup");n(RS,"createPromiseFulfilledResult");n(AS,"createPromiseRejectedResult")});function CS(e,t){let r=e.lastIndexOf(`
`,t-1),o=e.indexOf(`
`,t);return o<0&&(o=e.length),e.slice(r+1,o)}function xg(e,t){let r=t;for(;r>0&&/\s/.test(e.charAt(r-1));)r--;return r}function Ig(e,t){let r=e.startIndex,o=e.startIndex-e.startPosition.column,a=t.substring(o,r);if(/^\s*$/.test(a))return a}function US(e,t,r){if(t.startPosition.row<=e.startPosition.row)return!1;let o=Ig(e,r),a=Ig(t,r);return o!==void 0&&a!==void 0&&o.startsWith(a)}function Ts(e){if(!sn(e))throw new Error(`Language ${e} is not supported`);return BS[Jn(e)]}async function DS(e,t,r){return sn(e)?Ts(e).isEmptyBlockStart(t,r):!1}async function jS(e,t,r,o){if(sn(e))return Ts(e).isBlockBodyFinished(t,r,o)}async function KS(e,t,r){if(sn(e))return Ts(e).getNodeStart(t,r)}var mc,Ss,pc,Es,fc,yr,BS,wg=p(()=>{"use strict";li();mc=class mc{constructor(t,r,o){this.languageId=t;this.nodeMatch=r;this.nodeTypesWithBlockOrStmtChild=o}async getNodeMatchAtPosition(t,r,o){let a=await an(this.languageId,t);try{let i=a.rootNode.descendantForIndex(r);for(;i;){let s=this.nodeMatch[i.type];if(s){if(!this.nodeTypesWithBlockOrStmtChild.has(i.type))break;let l=this.nodeTypesWithBlockOrStmtChild.get(i.type),c=l==""?i.namedChildren[0]:i.childForFieldName(l);if((c==null?void 0:c.type)==s)break}i=i.parent}return i?o(i):void 0}finally{a.delete()}}getNextBlockAtPosition(t,r,o){return this.getNodeMatchAtPosition(t,r,a=>{let u=a.children.reverse().find(i=>i.type==this.nodeMatch[a.type]);if(u){if(this.languageId=="python"&&u.parent){let i=u.parent.type==":"?u.parent.parent:u.parent,s=i==null?void 0:i.nextSibling;for(;s&&s.type=="comment";){let l=s.startPosition.row==u.endPosition.row&&s.startPosition.column>=u.endPosition.column,c=s.startPosition.row>i.endPosition.row&&s.startPosition.column>i.startPosition.column;if(l||c)u=s,s=s.nextSibling;else break}}if(!(u.endIndex>=u.tree.rootNode.endIndex-1&&(u.hasError()||u.parent.hasError())))return o(u)}})}async isBlockBodyFinished(t,r,o){let a=(t+r).trimEnd(),u=await this.getNextBlockAtPosition(a,o,i=>i.endIndex);if(u!==void 0&&u<a.length){let i=u-t.length;return i>0?i:void 0}}getNodeStart(t,r){let o=t.trimEnd();return this.getNodeMatchAtPosition(o,r,a=>a.startIndex)}};n(mc,"BaseBlockParser");Ss=mc,pc=class pc extends Ss{constructor(r,o,a,u,i){super(r,u,i);this.blockEmptyMatch=o;this.lineMatch=a}isBlockStart(r){return this.lineMatch.test(r.trimStart())}async isBlockBodyEmpty(r,o){let a=await this.getNextBlockAtPosition(r,o,u=>{u.startIndex<o&&(o=u.startIndex);let i=r.substring(o,u.endIndex).trim();return i==""||i.replace(/\s/g,"")==this.blockEmptyMatch});return a===void 0||a}async isEmptyBlockStart(r,o){return o=xg(r,o),this.isBlockStart(CS(r,o))&&this.isBlockBodyEmpty(r,o)}};n(pc,"RegexBasedBlockParser");Es=pc;n(CS,"getLineAtOffset");n(xg,"rewindToNearestNonWs");n(Ig,"indent");n(US,"outdented");fc=class fc extends Ss{constructor(r,o,a,u,i,s,l){super(r,o,a);this.startKeywords=u;this.blockNodeType=i;this.emptyStatementType=s;this.curlyBraceLanguage=l}isBlockEmpty(r,o){var u,i;let a=r.text.trim();return this.curlyBraceLanguage&&(a.startsWith("{")&&(a=a.slice(1)),a.endsWith("}")&&(a=a.slice(0,-1)),a=a.trim()),!!(a.length==0||this.languageId=="python"&&(((u=r.parent)==null?void 0:u.type)=="class_definition"||((i=r.parent)==null?void 0:i.type)=="function_definition")&&r.children.length==1&&Ga(r.parent))}async isEmptyBlockStart(r,o){var u,i,s,l;if(o>r.length)throw new RangeError("Invalid offset");for(let c=o;c<r.length&&r.charAt(c)!=`
`;c++)if(/\S/.test(r.charAt(c)))return!1;o=xg(r,o);let a=await an(this.languageId,r);try{let c=a.rootNode.descendantForIndex(o-1);if(c==null||this.curlyBraceLanguage&&c.type=="}")return!1;if((this.languageId=="javascript"||this.languageId=="typescript")&&c.parent&&c.parent.type=="object"&&c.parent.text.trim()=="{")return!0;if(this.languageId=="typescript"){let h=c;for(;h.parent;){if(h.type=="function_signature"||h.type=="method_signature"){let I=c.nextSibling;return I&&h.hasError()&&US(h,I,r)?!0:!h.children.find(w=>w.type==";")&&h.endIndex<=o}h=h.parent}}let d=null,m=null,f=null,g=c;for(;g!=null;){if(g.type==this.blockNodeType){m=g;break}if(this.nodeMatch[g.type]){f=g;break}if(g.type=="ERROR"){d=g;break}g=g.parent}if(m!=null){if(!m.parent||!this.nodeMatch[m.parent.type])return!1;if(this.languageId=="python"){let h=m.previousSibling;if(h!=null&&h.hasError()&&(h.text.startsWith('"""')||h.text.startsWith("'''")))return!0}return this.isBlockEmpty(m,o)}if(d!=null){if(((u=d.previousSibling)==null?void 0:u.type)=="module"||((i=d.previousSibling)==null?void 0:i.type)=="internal_module"||((s=d.previousSibling)==null?void 0:s.type)=="def")return!0;let h=[...d.children].reverse(),I=h.find(w=>this.startKeywords.includes(w.type)),x=h.find(w=>w.type==this.blockNodeType);if(I){switch(this.languageId){case"python":{I.type=="try"&&c.type=="identifier"&&c.text.length>4&&(x=(l=h.find(M=>M.hasError()))==null?void 0:l.children.find(M=>M.type=="block"));let w,F=0;for(let M of d.children){if(M.type==":"&&F==0){w=M;break}M.type=="("&&(F+=1),M.type==")"&&(F-=1)}if(w&&I.endIndex<=w.startIndex&&w.nextSibling){if(I.type=="def"){let M=w.nextSibling;if(M.type=='"'||M.type=="'"||M.type=="ERROR"&&(M.text=='"""'||M.text=="'''"))return!0}return!1}break}case"javascript":{let w=h.find(T=>T.type=="formal_parameters");if(I.type=="class"&&w)return!0;let F=h.find(T=>T.type=="{");if(F&&F.startIndex>I.endIndex&&F.nextSibling!=null||h.find(T=>T.type=="do")&&I.type=="while"||I.type=="=>"&&I.nextSibling&&I.nextSibling.type!="{")return!1;break}case"typescript":{let w=h.find(M=>M.type=="{");if(w&&w.startIndex>I.endIndex&&w.nextSibling!=null||h.find(M=>M.type=="do")&&I.type=="while"||I.type=="=>"&&I.nextSibling&&I.nextSibling.type!="{")return!1;break}}return x&&x.startIndex>I.endIndex?this.isBlockEmpty(x,o):!0}}if(f!=null){let h=this.nodeMatch[f.type],I=f.children.slice().reverse().find(x=>x.type==h);if(I)return this.isBlockEmpty(I,o);if(this.nodeTypesWithBlockOrStmtChild.has(f.type)){let x=this.nodeTypesWithBlockOrStmtChild.get(f.type),w=x==""?f.children[0]:f.childForFieldName(x);if(w&&w.type!=this.blockNodeType&&w.type!=this.emptyStatementType)return!1}return!0}return!1}finally{a.delete()}}};n(fc,"TreeSitterBasedBlockParser");yr=fc,BS={python:new yr("python",{class_definition:"block",elif_clause:"block",else_clause:"block",except_clause:"block",finally_clause:"block",for_statement:"block",function_definition:"block",if_statement:"block",try_statement:"block",while_statement:"block",with_statement:"block"},new Map,["def","class","if","elif","else","for","while","try","except","finally","with"],"block",null,!1),javascript:new yr("javascript",{arrow_function:"statement_block",catch_clause:"statement_block",do_statement:"statement_block",else_clause:"statement_block",finally_clause:"statement_block",for_in_statement:"statement_block",for_statement:"statement_block",function:"statement_block",function_declaration:"statement_block",generator_function:"statement_block",generator_function_declaration:"statement_block",if_statement:"statement_block",method_definition:"statement_block",try_statement:"statement_block",while_statement:"statement_block",with_statement:"statement_block",class:"class_body",class_declaration:"class_body"},new Map([["arrow_function","body"],["do_statement","body"],["else_clause",""],["for_in_statement","body"],["for_statement","body"],["if_statement","consequence"],["while_statement","body"],["with_statement","body"]]),["=>","try","catch","finally","do","for","if","else","while","with","function","function*","class"],"statement_block","empty_statement",!0),typescript:new yr("typescript",{ambient_declaration:"statement_block",arrow_function:"statement_block",catch_clause:"statement_block",do_statement:"statement_block",else_clause:"statement_block",finally_clause:"statement_block",for_in_statement:"statement_block",for_statement:"statement_block",function:"statement_block",function_declaration:"statement_block",generator_function:"statement_block",generator_function_declaration:"statement_block",if_statement:"statement_block",internal_module:"statement_block",method_definition:"statement_block",module:"statement_block",try_statement:"statement_block",while_statement:"statement_block",abstract_class_declaration:"class_body",class:"class_body",class_declaration:"class_body"},new Map([["arrow_function","body"],["do_statement","body"],["else_clause",""],["for_in_statement","body"],["for_statement","body"],["if_statement","consequence"],["while_statement","body"],["with_statement","body"]]),["declare","=>","try","catch","finally","do","for","if","else","while","with","function","function*","class"],"statement_block","empty_statement",!0),tsx:new yr("typescriptreact",{ambient_declaration:"statement_block",arrow_function:"statement_block",catch_clause:"statement_block",do_statement:"statement_block",else_clause:"statement_block",finally_clause:"statement_block",for_in_statement:"statement_block",for_statement:"statement_block",function:"statement_block",function_declaration:"statement_block",generator_function:"statement_block",generator_function_declaration:"statement_block",if_statement:"statement_block",internal_module:"statement_block",method_definition:"statement_block",module:"statement_block",try_statement:"statement_block",while_statement:"statement_block",abstract_class_declaration:"class_body",class:"class_body",class_declaration:"class_body"},new Map([["arrow_function","body"],["do_statement","body"],["else_clause",""],["for_in_statement","body"],["for_statement","body"],["if_statement","consequence"],["while_statement","body"],["with_statement","body"]]),["declare","=>","try","catch","finally","do","for","if","else","while","with","function","function*","class"],"statement_block","empty_statement",!0),go:new Es("go","{}",/\b(func|if|else|for)\b/,{communication_case:"block",default_case:"block",expression_case:"block",for_statement:"block",func_literal:"block",function_declaration:"block",if_statement:"block",labeled_statement:"block",method_declaration:"block",type_case:"block"},new Map),ruby:new Es("ruby","end",/\b(BEGIN|END|case|class|def|do|else|elsif|for|if|module|unless|until|while)\b|->/,{begin_block:"}",block:"}",end_block:"}",lambda:"block",for:"do",until:"do",while:"do",case:"end",do:"end",if:"end",method:"end",module:"end",unless:"end",do_block:"end"},new Map),c_sharp:new yr("csharp",{},new Map([]),[],"block",null,!0),java:new yr("java",{},new Map([]),[],"block",null,!0)};n(Ts,"getBlockParser");n(DS,"isEmptyBlockStart");n(jS,"isBlockBodyFinished");n(KS,"getNodeStart")});var Eg={};Wr(Eg,{DEFAULT_MAX_COMPLETION_LENGTH:()=>J_,DEFAULT_MAX_PROMPT_LENGTH:()=>X_,DEFAULT_NUM_SNIPPETS:()=>Y_,DEFAULT_SUFFIX_MATCH_THRESHOLD:()=>eg,DEFAULT_SUFFIX_PERCENT:()=>IS,DEFAULT_TREE_TRAVERSAL_CONFIG:()=>ld,DocumentInfoSchema:()=>tg,DocumentInfoWithOffsetSchema:()=>xS,ElidableText:()=>Vn,LineEndingOptions:()=>Wl,LineWithValueAndCost:()=>nn,MAX_TOOLTIP_SIGNATURE_TOKENS:()=>Q_,PromptOptions:()=>is,ProviderError:()=>hr,ProviderTimeoutError:()=>br,SnippetOrchestrator:()=>ws,SnippetProviderType:()=>Ze,SnippetSemantics:()=>Ct,SuffixMatchOption:()=>ng,SuffixOption:()=>rg,TTokenizer:()=>Zo,TokenizerName:()=>Jo,WASMLanguage:()=>qd,blankNode:()=>Bo,buildLabelRules:()=>Yr,clearLabels:()=>Jc,clearLabelsIf:()=>ea,combineClosersAndOpeners:()=>Do,comment:()=>qn,commentBlockAsSingles:()=>rr,createWorker:()=>GS,cutTreeAfterLine:()=>gh,deparseAndCutTree:()=>vh,deparseLine:()=>Kn,deparseTree:()=>nd,describeTree:()=>od,duplicateTree:()=>hh,elidableTextForDiff:()=>sb,elidableTextForSourceCode:()=>na,encodeTree:()=>id,firstLineOf:()=>sd,flattenVirtual:()=>wt,foldTree:()=>Bn,fromTreeWithFocussedLines:()=>en,fromTreeWithValuedLines:()=>cd,getBlockCloseToken:()=>bb,getBlockParser:()=>Ts,getCursorContext:()=>vr,getLanguage:()=>Zd,getNodeStart:()=>KS,getPrompt:()=>SS,getTokenizer:()=>st,groupBlocks:()=>ta,isBlank:()=>re,isBlockBodyFinished:()=>jS,isEmptyBlockStart:()=>DS,isLine:()=>it,isSupportedLanguageId:()=>sn,isTop:()=>Yt,isVirtual:()=>De,labelLines:()=>Xr,labelVirtualInherited:()=>jn,languageCommentMarkers:()=>ka,languageIdToWasmLanguage:()=>Jn,lastLineOf:()=>ad,lineNode:()=>Qs,mapLabels:()=>xt,normalizeLanguageId:()=>Ft,parseRaw:()=>Xc,parseTree:()=>Qt,parseTreeSitter:()=>an,providersErrors:()=>bg,providersPerformance:()=>yg,providersSnippets:()=>hg,queryPythonIsDocstring:()=>Ga,rebuildTree:()=>Dn,registerLanguageSpecificParser:()=>jo,resetLineNumbers:()=>bh,resetSuffixCache:()=>yS,topNode:()=>Un,virtualNode:()=>Uo,visitTree:()=>ie,visitTreeConditionally:()=>yh});function GS(e,t){return new Sg.Worker(vs.default.resolve(vs.default.extname(__filename)!==".ts"?__dirname:vs.default.resolve(__dirname,"../../dist"),e),{workerData:t})}var vs,Sg,ms=p(()=>{"use strict";vs=Fn(require("path")),Sg=require("worker_threads");jd();Gn();At();tc();li();wg();Kr();ni();oi();di();Ut();Ht();rn();n(GS,"createWorker")});Ys();var Tg=(ms(),Fg(Eg)),{parentPort:Po,workerData:Ms}=require("worker_threads");Ms!=null&&Ms.cwd&&(process.cwd=()=>Ms.cwd);Po.on("message",async({id:e,fn:t,args:r})=>{try{if(t==="getPrompt"){let o=await Tg.getPrompt(...r);Po.postMessage({id:e,res:o})}else{let o=await Tg[t](...r);Po.postMessage({id:e,res:o})}}catch(o){if(!(o instanceof Error))throw o;typeof o.code=="string"?Po.postMessage({id:e,err:o,code:o.code}):Po.postMessage({id:e,err:o})}});
//# sourceMappingURL=worker.js.map
