(()=>{"use strict";var e={156:function(e,t,r){var n,i=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||(n=function(e){return n=Object.getOwnPropertyNames||function(e){var t=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[t.length]=r);return t},n(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r=n(e),o=0;o<r.length;o++)"default"!==r[o]&&i(t,e,r[o]);return s(t,e),t});const a=o(r(928)),c=o(r(896)),p=["postman-collection.d.ts","chai.d.ts"],u=["postman-sandbox-pre-request.d.ts"],f=["postman-sandbox-post-request.d.ts"];e.exports=function(e){const t=e.typescript;let r={preTestIdentifier:"pre-test",postTestIdentifier:"post-test",tempFileIdentifier:"pm-temp"};const n=e=>a.resolve(__dirname,"types",e);return{create:function(e){r=Object.assign(Object.assign({},e.config||{}),r),e.project.projectService.logger.info(`Setting up postman type server plugin with configuration: ${JSON.stringify(r)}`);const i=e.languageServiceHost.getScriptFileNames.bind(e.languageServiceHost),s=e.languageServiceHost.getScriptSnapshot.bind(e.languageServiceHost);return e.languageServiceHost.getScriptFileNames=()=>{e.project.projectService.logger.info(`Getting script file names for ${JSON.stringify(r)}`);const t=i(),s=!(!r.preTestIdentifier||!r.preTestIdentifier)&&t.some((e=>e.includes(`${r.preTestIdentifier}-${r.tempFileIdentifier}`)));return r.postTestIdentifier&&r.postTestIdentifier&&t.some((e=>e.includes(`${r.postTestIdentifier}-${r.tempFileIdentifier}`)))?[...t,...p.map(n),...f.map(n)]:s?[...t,...p.map(n),...u.map(n)]:t},e.languageServiceHost.getScriptSnapshot=e=>{if([...p,...u,...f].includes(e)){const r=c.readFileSync(n(e),"utf8");return t.ScriptSnapshot.fromString(r)}return s(e)},e.languageService},onConfigurationChange:function(e){r=Object.assign(Object.assign({},r),e)}}}},896:e=>{e.exports=require("fs")},928:e=>{e.exports=require("path")}},t={},r=function r(n){var i=t[n];if(void 0!==i)return i.exports;var s=t[n]={exports:{}};return e[n].call(s.exports,s,s.exports,r),s.exports}(156);module.exports=r})();